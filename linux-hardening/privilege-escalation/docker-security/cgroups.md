# CGroups

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Basic Information

**Linux Control Groups**, рдпрд╛ **cgroups**, рд▓рд┐рдирдХреНрд╕ рдХрд░реНрдиреЗрд▓ рдХреА рдПрдХ рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИ рдЬреЛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рдореВрд╣реЛрдВ рдХреЗ рдмреАрдЪ CPU, рдореЗрдореЛрд░реА, рдФрд░ рдбрд┐рд╕реНрдХ I/O рдЬреИрд╕реЗ рд╕рд┐рд╕реНрдЯрдо рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рдЖрд╡рдВрдЯрди, рд╕реАрдорд╛, рдФрд░ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред рдпреЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рдВрдЧреНрд░рд╣ рдХреЗ рд╕рдВрд╕рд╛рдзрди рдЙрдкрдпреЛрдЧ рдХреЛ **рдкреНрд░рдмрдВрдзрд┐рдд рдФрд░ рдЕрд▓рдЧ рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП рдПрдХ рддрдВрддреНрд░ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рд╕рдВрд╕рд╛рдзрди рд╕реАрдорд╛, рдХрд╛рд░реНрдпрднрд╛рд░ рдЕрд▓рдЧрд╛рд╡, рдФрд░ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рдореВрд╣реЛрдВ рдХреЗ рдмреАрдЪ рд╕рдВрд╕рд╛рдзрди рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдЬреИрд╕реЗ рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рд▓рд╛рднрдХрд╛рд░реА рд╣реИред

**cgroups рдХреЗ рджреЛ рд╕рдВрд╕реНрдХрд░рдг** рд╣реИрдВ: рд╕рдВрд╕реНрдХрд░рдг 1 рдФрд░ рд╕рдВрд╕реНрдХрд░рдг 2ред рджреЛрдиреЛрдВ рдХреЛ рдПрдХ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдПрдХ рд╕рд╛рде рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдореБрдЦреНрдп рдЕрдВрддрд░ рдпрд╣ рд╣реИ рдХрд┐ **cgroups рд╕рдВрд╕реНрдХрд░рдг 2** рдПрдХ **рд╣рд╛рдЗрд░рд╛рд░реНрдХрд┐рдХрд▓, рдкреЗрдбрд╝ рдЬреИрд╕реА рд╕рдВрд░рдЪрдирд╛** рдкреЗрд╢ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рдореВрд╣реЛрдВ рдХреЗ рдмреАрдЪ рд╕рдВрд╕рд╛рдзрди рд╡рд┐рддрд░рдг рдХреЛ рдЕрдзрд┐рдХ рд╕реВрдХреНрд╖реНрдо рдФрд░ рд╡рд┐рд╕реНрддреГрдд рдмрдирд╛рддрд╛ рд╣реИред рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рд╕рдВрд╕реНрдХрд░рдг 2 рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рд╕реБрдзрд╛рд░ рднреА рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, рдЬреИрд╕реЗ:

рдирдИ рд╣рд╛рдЗрд░рд╛рд░реНрдХрд┐рдХрд▓ рд╕рдВрдЧрдарди рдХреЗ рдЕрд▓рд╛рд╡рд╛, cgroups рд╕рдВрд╕реНрдХрд░рдг 2 рдиреЗ **рдХрдИ рдЕрдиреНрдп рдкрд░рд┐рд╡рд░реНрддрди рдФрд░ рд╕реБрдзрд╛рд░** рднреА рдкреЗрд╢ рдХрд┐рдП, рдЬреИрд╕реЗ **рдирдП рд╕рдВрд╕рд╛рдзрди рдирд┐рдпрдВрддреНрд░рдХреЛрдВ** рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди, рд╡рд┐рд░рд╛рд╕рддреА рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдмреЗрд╣рддрд░ рд╕рдорд░реНрдерди, рдФрд░ рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рд╕реБрдзрд╛рд░ред

рдХреБрд▓ рдорд┐рд▓рд╛рдХрд░, cgroups **рд╕рдВрд╕реНрдХрд░рдг 2 рдореЗрдВ рд╕рдВрд╕реНрдХрд░рдг 1 рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рд╕реБрд╡рд┐рдзрд╛рдПрдБ рдФрд░ рдмреЗрд╣рддрд░ рдкреНрд░рджрд░реНрд╢рди** рд╣реИ, рд▓реЗрдХрд┐рди рдмрд╛рдж рд╡рд╛рд▓рд╛ рдЕрднреА рднреА рдХреБрдЫ рдкрд░рд┐рджреГрд╢реНрдпреЛрдВ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрд╣рд╛рдБ рдкреБрд░рд╛рдиреЗ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд╕рд╛рде рд╕рдВрдЧрддрддрд╛ рдПрдХ рдЪрд┐рдВрддрд╛ рд╣реИред

рдЖрдк рдХрд┐рд╕реА рднреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рд▓рд┐рдП v1 рдФрд░ v2 cgroups рдХреЛ /proc/\<pid> рдореЗрдВ рдЗрд╕рдХреЗ cgroup рдлрд╝рд╛рдЗрд▓ рдХреЛ рджреЗрдЦрдХрд░ рд╕реВрдЪреАрдмрджреНрдз рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЖрдк рдЗрд╕ рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рдЕрдкрдиреЗ рд╢реЗрд▓ рдХреЗ cgroups рдХреЛ рджреЗрдЦрдиреЗ рд╕реЗ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```shell-session
$ cat /proc/self/cgroup
12:rdma:/
11:net_cls,net_prio:/
10:perf_event:/
9:cpuset:/
8:cpu,cpuacct:/user.slice
7:blkio:/user.slice
6:memory:/user.slice 5:pids:/user.slice/user-1000.slice/session-2.scope 4:devices:/user.slice
3:freezer:/
2:hugetlb:/testcgroup
1:name=systemd:/user.slice/user-1000.slice/session-2.scope
0::/user.slice/user-1000.slice/session-2.scope
```
The output structure is as follows:

* **Numbers 2тАУ12**: cgroups v1, рдкреНрд░рддреНрдпреЗрдХ рдкрдВрдХреНрддрд┐ рдПрдХ рдЕрд▓рдЧ cgroup рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддреА рд╣реИред рдЗрдирдХреЗ рд▓рд┐рдП рдирд┐рдпрдВрддреНрд░рдХ рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдмрдЧрд▓ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╣реЛрддреЗ рд╣реИрдВред
* **Number 1**: рднреА cgroups v1 рд╣реИ, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдкреНрд░рдмрдВрдзрди рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП (рдЬреИрд╕реЗ, systemd рджреНрд╡рд╛рд░рд╛ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛), рдФрд░ рдЗрд╕рдореЗрдВ рдХреЛрдИ рдирд┐рдпрдВрддреНрд░рдХ рдирд╣реАрдВ рд╣реИред
* **Number 0**: cgroups v2 рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддрд╛ рд╣реИред рдХреЛрдИ рдирд┐рдпрдВрддреНрд░рдХ рд╕реВрдЪреАрдмрджреНрдз рдирд╣реАрдВ рд╣реИрдВ, рдФрд░ рдпрд╣ рдкрдВрдХреНрддрд┐ рдХреЗрд╡рд▓ рдЙрди рд╕рд┐рд╕реНрдЯрдо рдкрд░ рд╡рд┐рд╢реЗрд╖ рд╣реИ рдЬреЛ рдХреЗрд╡рд▓ cgroups v2 рдЪрд▓рд╛ рд░рд╣реЗ рд╣реИрдВред
* **рдирд╛рдо рдкрджрд╛рдиреБрдХреНрд░рдорд╛рддреНрдордХ рд╣реИрдВ**, рдЬреЛ рдлрд╝рд╛рдЗрд▓ рдкрдереЛрдВ рдХреЗ рд╕рдорд╛рди рд╣реИрдВ, рд╡рд┐рднрд┐рдиреНрди cgroups рдХреЗ рдмреАрдЪ рд╕рдВрд░рдЪрдирд╛ рдФрд░ рд╕рдВрдмрдВрдз рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддреЗ рд╣реИрдВред
* **рдЬреИрд╕реЗ рдирд╛рдо /user.slice рдпрд╛ /system.slice** cgroups рдХреА рд╢реНрд░реЗрдгреАрдХрд░рдг рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ user.slice рдЖрдорддреМрд░ рдкрд░ systemd рджреНрд╡рд╛рд░рд╛ рдкреНрд░рдмрдВрдзрд┐рдд рд▓реЙрдЧрд┐рди рд╕рддреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдФрд░ system.slice рд╕рд┐рд╕реНрдЯрдо рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╣реЛрддрд╛ рд╣реИред

### Viewing cgroups

Filesystem рдЖрдорддреМрд░ рдкрд░ **cgroups** рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдкрд╛рд░рдВрдкрд░рд┐рдХ рд░реВрдк рд╕реЗ рдХрд░реНрдиреЗрд▓ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ Unix рд╕рд┐рд╕реНрдЯрдо рдХреЙрд▓ рдЗрдВрдЯрд░рдлреЗрд╕ рд╕реЗ рднрд┐рдиреНрди рд╣реИред рдПрдХ рд╢реЗрд▓ рдХреЗ cgroup рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдХрд┐рд╕реА рдХреЛ **/proc/self/cgroup** рдлрд╝рд╛рдЗрд▓ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП, рдЬреЛ рд╢реЗрд▓ рдХреЗ cgroup рдХреЛ рдкреНрд░рдХрдЯ рдХрд░рддреА рд╣реИред рдлрд┐рд░, **/sys/fs/cgroup** (рдпрд╛ **`/sys/fs/cgroup/unified`**) рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдЬрд╛рдХрд░ рдФрд░ рдЙрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЛ рдЦреЛрдЬрдХрд░ рдЬреЛ cgroup рдХреЗ рдирд╛рдо рдХреЛ рд╕рд╛рдЭрд╛ рдХрд░рддреА рд╣реИ, рдХреЛрдИ рд╡рд┐рднрд┐рдиреНрди рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдФрд░ cgroup рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╕рдВрд╕рд╛рдзрди рдЙрдкрдпреЛрдЧ рдЬрд╛рдирдХрд╛рд░реА рджреЗрдЦ рд╕рдХрддрд╛ рд╣реИред

![Cgroup Filesystem](<../../../.gitbook/assets/image (1128).png>)

Cgroups рдХреЗ рд▓рд┐рдП рдкреНрд░рдореБрдЦ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдлрд╝рд╛рдЗрд▓реЗрдВ **cgroup** рд╕реЗ рдкреВрд░реНрд╡рд╡рд░реНрддреА рд╣реЛрддреА рд╣реИрдВред **cgroup.procs** рдлрд╝рд╛рдЗрд▓, рдЬрд┐рд╕реЗ рдорд╛рдирдХ рдХрдорд╛рдВрдб рдЬреИрд╕реЗ cat рдХреЗ рд╕рд╛рде рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, cgroup рдХреЗ рднреАрддрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреА рд╕реВрдЪреА рджреЗрддреА рд╣реИред рдПрдХ рдФрд░ рдлрд╝рд╛рдЗрд▓, **cgroup.threads**, рдереНрд░реЗрдб рдЬрд╛рдирдХрд╛рд░реА рд╢рд╛рдорд┐рд▓ рдХрд░рддреА рд╣реИред

![Cgroup Procs](<../../../.gitbook/assets/image (281).png>)

рд╢реЗрд▓ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ cgroups рдЖрдорддреМрд░ рдкрд░ рджреЛ рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдореЗрдореЛрд░реА рдЙрдкрдпреЛрдЧ рдФрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред рдПрдХ рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рдкреВрд░реНрд╡рд╡рд░реНрддреА рд╡рд╛рд▓реА рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рджреЗрдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, **pids.current** рдХрд╛ рд╕рдВрджрд░реНрдн рд▓рд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рддрд╛рдХрд┐ cgroup рдореЗрдВ рдереНрд░реЗрдб рдХреА рд╕рдВрдЦреНрдпрд╛ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдпрд╛ рдЬрд╛ рд╕рдХреЗред

![Cgroup Memory](<../../../.gitbook/assets/image (677).png>)

рдПрдХ рдорд╛рди рдореЗрдВ **max** рдХрд╛ рд╕рдВрдХреЗрдд cgroup рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕реАрдорд╛ рдХреА рдЕрдиреБрдкрд╕реНрдерд┐рддрд┐ рдХрд╛ рд╕реБрдЭрд╛рд╡ рджреЗрддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдБрдХрд┐, cgroups рдХреА рдкрджрд╛рдиреБрдХреНрд░рдорд╛рддреНрдордХ рдкреНрд░рдХреГрддрд┐ рдХреЗ рдХрд╛рд░рдг, рд╕реАрдорд╛рдПрдБ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдкрджрд╛рдиреБрдХреНрд░рдо рдореЗрдВ рдПрдХ рдирд┐рдореНрди рд╕реНрддрд░ рдХреЗ cgroup рджреНрд╡рд╛рд░рд╛ рд▓рд╛рдЧреВ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИрдВред

### Manipulating and Creating cgroups

рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ cgroups рдореЗрдВ **рдЙрдирдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЖрдИрдбреА (PID) рдХреЛ `cgroup.procs` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд▓рд┐рдЦрдХрд░** рд╕реМрдВрдкрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕рдХреЗ рд▓рд┐рдП рд░реВрдЯ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП:
```bash
echo [pid] > cgroup.procs
```
рдЗрд╕реА рддрд░рд╣, **cgroup рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдирд╛, рдЬреИрд╕реЗ PID рд╕реАрдорд╛ рд╕реЗрдЯ рдХрд░рдирд╛**, рд╕рдВрдмрдВрдзрд┐рдд рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЗрдЪреНрдЫрд┐рдд рдорд╛рди рд▓рд┐рдЦрдХрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдПрдХ cgroup рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХрддрдо 3,000 PIDs рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:
```bash
echo 3000 > pids.max
```
**рдирдП cgroups рдмрдирд╛рдирд╛** cgroup рдкрджрд╛рдиреБрдХреНрд░рдо рдХреЗ рднреАрддрд░ рдПрдХ рдирдпрд╛ рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдмрдирд╛рдиреЗ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИ, рдЬреЛ рдХрд░реНрдиреЗрд▓ рдХреЛ рдЖрд╡рд╢реНрдпрдХ рдЗрдВрдЯрд░рдлреЗрд╕ рдлрд╝рд╛рдЗрд▓реЗрдВ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░реЗрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╕рдХреНрд░рд┐рдп рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рдмрд┐рдирд╛ cgroups рдХреЛ `rmdir` рдХреЗ рд╕рд╛рде рд╣рдЯрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдХреБрдЫ рд╕реАрдорд╛рдУрдВ рдХреЗ рдкреНрд░рддрд┐ рдЬрд╛рдЧрд░реВрдХ рд░рд╣реЗрдВ:

* **рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдБ рдХреЗрд╡рд▓ рдкрддреНрддреЗ cgroups рдореЗрдВ рд░рдЦреА рдЬрд╛ рд╕рдХрддреА рд╣реИрдВ** (рдпрд╛рдиреА, рдкрджрд╛рдиреБрдХреНрд░рдо рдореЗрдВ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдиреЗрд╕реНрдЯреЗрдб рд╡рд╛рд▓реЗ)ред
* **рдПрдХ cgroup рдореЗрдВ рдЕрдкрдиреЗ рдорд╛рддрд╛-рдкрд┐рддрд╛ рдореЗрдВ рдЕрдиреБрдкрд╕реНрдерд┐рдд рдирд┐рдпрдВрддреНрд░рдХ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛**ред
* **рдмрдЪреНрдЪреЗ cgroups рдХреЗ рд▓рд┐рдП рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рдХреЛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдШреЛрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП** `cgroup.subtree_control` рдлрд╝рд╛рдЗрд▓ рдореЗрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдмрдЪреНрдЪреЗ cgroup рдореЗрдВ CPU рдФрд░ PID рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:
```bash
echo "+cpu +pids" > cgroup.subtree_control
```
The **root cgroup** рдЗрди рдирд┐рдпрдореЛрдВ рдХрд╛ рдПрдХ рдЕрдкрд╡рд╛рдж рд╣реИ, рдЬреЛ рд╕реАрдзреЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ systemd рдкреНрд░рдмрдВрдзрди рд╕реЗ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

**cgroup** рдХреЗ рднреАрддрд░ CPU рдЙрдкрдпреЛрдЧ рдХреА рдирд┐рдЧрд░рд╛рдиреА `cpu.stat` рдлрд╝рд╛рдЗрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдВрднрд╡ рд╣реИ, рдЬреЛ рдХреБрд▓ CPU рд╕рдордп рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рд╕реЗрд╡рд╛ рдХреЗ рдЙрдк-рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рдмреАрдЪ рдЙрдкрдпреЛрдЧ рдХреЛ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдореЗрдВ рд╕рд╣рд╛рдпрдХ рд╣реИ:

<figure><img src="../../../.gitbook/assets/image (908).png" alt=""><figcaption><p>cpu.stat рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рджрд┐рдЦрд╛рдП рдЧрдП CPU рдЙрдкрдпреЛрдЧ рдХреЗ рдЖрдБрдХрдбрд╝реЗ</p></figcaption></figure>

## References

* **Book: How Linux Works, 3rd Edition: What Every Superuser Should Know By Brian Ward**

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
