{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
{% endhint %}
{% endhint %}


# Özet

`/etc/ssh_config` veya `$HOME/.ssh/config` içinde bu yapılandırmayı keşfettiğinizde ne yapabilirsiniz:
```
ForwardAgent yes
```
Eğer makinenin kök kullanıcıysanız, muhtemelen _/tmp_ dizininde bulabileceğiniz herhangi bir ajan tarafından yapılan **herhangi bir ssh bağlantısına erişebilirsiniz**.

Bob'un ssh-agent'ını kullanarak Bob'u taklit et:
```bash
SSH_AUTH_SOCK=/tmp/ssh-haqzR16816/agent.16816 ssh bob@boston
```
## Neden bu işe yarıyor?

`SSH_AUTH_SOCK` değişkenini ayarladığınızda, Bob'un ssh bağlantısında kullanılan anahtarlarına erişiyorsunuz. Ardından, eğer özel anahtarı hala oradaysa (normalde orada olacaktır), onu kullanarak herhangi bir hosta erişebileceksiniz.

Özel anahtar, ajan belleğinde şifrelenmemiş olarak saklandığı için, eğer Bob iseniz ama özel anahtarın şifresini bilmiyorsanız, yine de ajana erişebilir ve onu kullanabilirsiniz.

Başka bir seçenek, ajanın sahibi olan kullanıcının ve root'un ajanın belleğine erişip özel anahtarı çıkarması olabilir.

# Uzun açıklama ve istismar

**[Orijinal araştırmayı buradan kontrol edin](https://www.clockwork.com/insights/ssh-agent-hijacking/)**
{% hint style="success" %}
AWS Hacking'i öğrenin ve pratik yapın:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i öğrenin ve pratik yapın: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* **💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın ya da **Twitter'da** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'i takip edin.**
* **Hacking ipuçlarını paylaşmak için [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gönderin.**

</details>
{% endhint %}
</details>
{% endhint %}
</details>
{% endhint %}
