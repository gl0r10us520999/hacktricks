# Web API Pentesting

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

Use [**Trickest**](https://trickest.com/?utm\_source=hacktricks\&utm\_medium=text\&utm\_campaign=ppc\&utm\_term=trickest\&utm\_content=web-api-pentesting) to easily build and **automate workflows** powered by the world's **most advanced** community tools.\
Get Access Today:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=web-api-pentesting" %}

## API Pentesting Methodology Summary

Pentesting APIs involves a structured approach to uncovering vulnerabilities. This guide encapsulates a comprehensive methodology, emphasizing practical techniques and tools.

### **Understanding API Types**

* **SOAP/XML Web Services**: Koriste WSDL format za dokumentaciju, obiÄno se nalaze na `?wsdl` putanjama. Alati kao Å¡to su **SOAPUI** i **WSDLer** (Burp Suite Extension) su kljuÄni za parsiranje i generisanje zahteva. Primer dokumentacije je dostupan na [DNE Online](http://www.dneonline.com/calculator.asmx).
* **REST APIs (JSON)**: Dokumentacija Äesto dolazi u WADL datotekama, ali alati kao Å¡to je [Swagger UI](https://swagger.io/tools/swagger-ui/) pruÅ¾aju korisniÄki prijatniji interfejs za interakciju. **Postman** je vredan alat za kreiranje i upravljanje primerima zahteva.
* **GraphQL**: Jezik upita za API-je koji nudi potpunu i razumljivu opis podataka u vaÅ¡em API-ju.

### **Practice Labs**

* [**VAmPI**](https://github.com/erev0s/VAmPI): Namerno ranjiv API za praktiÄnu obuku, pokrivajuÄ‡i OWASP top 10 API ranjivosti.

### **Effective Tricks for API Pentesting**

* **SOAP/XML Vulnerabilities**: IstraÅ¾ite XXE ranjivosti, iako su DTD deklaracije Äesto ograniÄene. CDATA tagovi mogu omoguÄ‡iti umetanje payload-a ako XML ostane validan.
* **Privilege Escalation**: Testirajte krajnje taÄke sa razliÄitim nivoima privilegija kako biste identifikovali moguÄ‡nosti neovlaÅ¡Ä‡enog pristupa.
* **CORS Misconfigurations**: IstraÅ¾ite CORS podeÅ¡avanja za potencijalnu iskoristivost kroz CSRF napade iz autentifikovanih sesija.
* **Endpoint Discovery**: Iskoristite API obrasce za otkrivanje skrivenih krajnjih taÄaka. Alati kao Å¡to su fuzzers mogu automatizovati ovaj proces.
* **Parameter Tampering**: EksperimentiÅ¡ite sa dodavanjem ili zamenom parametara u zahtevima kako biste pristupili neovlaÅ¡Ä‡enim podacima ili funkcionalnostima.
* **HTTP Method Testing**: Varirajte metode zahteva (GET, POST, PUT, DELETE, PATCH) kako biste otkrili neoÄekivana ponaÅ¡anja ili otkrivanje informacija.
* **Content-Type Manipulation**: Prebacujte se izmeÄ‘u razliÄitih tipova sadrÅ¾aja (x-www-form-urlencoded, application/xml, application/json) kako biste testirali probleme sa parsiranjem ili ranjivosti.
* **Advanced Parameter Techniques**: Testirajte sa neoÄekivanim tipovima podataka u JSON payload-ima ili se igrajte sa XML podacima za XXE injekcije. TakoÄ‘e, isprobajte zagaÄ‘enje parametara i wildcard karaktere za Å¡ire testiranje.
* **Version Testing**: Starije verzije API-ja mogu biti podloÅ¾nije napadima. Uvek proverite i testirajte protiv viÅ¡e verzija API-ja.

### **Tools and Resources for API Pentesting**

* [**kiterunner**](https://github.com/assetnote/kiterunner): OdliÄan za otkrivanje API krajnjih taÄaka. Koristite ga za skeniranje i brute force putanja i parametara protiv ciljanih API-ja.
```bash
kr scan https://domain.com/api/ -w routes-large.kite -x 20
kr scan https://domain.com/api/ -A=apiroutes-220828 -x 20
kr brute https://domain.com/api/ -A=raft-large-words -x 20 -d=0
kr brute https://domain.com/api/ -w /tmp/lang-english.txt -x 20 -d=0
```
* [**https://github.com/BishopFox/sj**](https://github.com/BishopFox/sj): sj je alat za komandnu liniju dizajniran da pomogne u reviziji **izloÅ¾enih Swagger/OpenAPI definicionih fajlova** proverom povezanih API krajnjih taÄaka na slabu autentifikaciju. TakoÄ‘e pruÅ¾a Å¡ablone komandi za ruÄno testiranje ranjivosti.
* Dodatni alati kao Å¡to su **automatic-api-attack-tool**, **Astra**, i **restler-fuzzer** nude prilagoÄ‘ene funkcionalnosti za testiranje sigurnosti API-ja, od simulacije napada do fuzzinga i skeniranja ranjivosti.
* [**Cherrybomb**](https://github.com/blst-security/cherrybomb): To je alat za sigurnost API-ja koji revizuje vaÅ¡ API na osnovu OAS fajla (alat napisan u rustu).

### **Resursi za uÄenje i praksu**

* **OWASP API Security Top 10**: Osnovno Äitanje za razumevanje uobiÄajenih ranjivosti API-ja ([OWASP Top 10](https://github.com/OWASP/API-Security/blob/master/2019/en/dist/owasp-api-security-top-10.pdf)).
* **API Security Checklist**: Sveobuhvatna lista za osiguranje API-ja ([GitHub link](https://github.com/shieldfy/API-Security-Checklist)).
* **Logger++ Filters**: Za pronalaÅ¾enje ranjivosti API-ja, Logger++ nudi korisne filtre ([GitHub link](https://github.com/bnematzadeh/LoggerPlusPlus-API-Filters)).
* **API Endpoints List**: Kurirana lista potencijalnih API krajnjih taÄaka za testiranje ([GitHub gist](https://gist.github.com/yassineaboukir/8e12adefbd505ef704674ad6ad48743d)).

## Reference

* [https://github.com/Cyber-Guy1/API-SecurityEmpire](https://github.com/Cyber-Guy1/API-SecurityEmpire)

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

Koristite [**Trickest**](https://trickest.com/?utm\_source=hacktricks\&utm\_medium=text\&utm\_campaign=ppc\&utm\_term=trickest\&utm\_content=web-api-pentesting) za lako kreiranje i **automatizaciju radnih tokova** pokretanih najnaprednijim **alatima** zajednice.\
Pribavite pristup danas:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=web-api-pentesting" %}

{% hint style="success" %}
UÄite i veÅ¾bajte AWS Hacking:<img src="../../.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/arte.png" alt="" data-size="line">\
UÄite i veÅ¾bajte GCP Hacking: <img src="../../.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>PodrÅ¾ite HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitteru** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakerske trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}
