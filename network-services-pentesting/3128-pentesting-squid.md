{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}


# Basic Information

From [Wikipedia](https://en.wikipedia.org/wiki/Squid\_\(software\)):

> **Squid** είναι ένας proxy HTTP που αποθηκεύει στην κρυφή μνήμη και προωθεί. Έχει μια ευρεία ποικιλία χρήσεων, συμπεριλαμβανομένης της επιτάχυνσης ενός web server αποθηκεύοντας στην κρυφή μνήμη επαναλαμβανόμενα αιτήματα, αποθήκευσης στην κρυφή μνήμη web, DNS και άλλες αναζητήσεις υπολογιστικού δικτύου για μια ομάδα ανθρώπων που μοιράζονται πόρους δικτύου, και βοήθειας στην ασφάλεια φιλτράροντας την κίνηση. Αν και χρησιμοποιείται κυρίως για HTTP και FTP, το Squid περιλαμβάνει περιορισμένη υποστήριξη για αρκετά άλλα πρωτόκολλα, συμπεριλαμβανομένων των Internet Gopher, SSL, TLS και HTTPS. Το Squid δεν υποστηρίζει το πρωτόκολλο SOCKS, σε αντίθεση με το Privoxy, με το οποίο το Squid μπορεί να χρησιμοποιηθεί για να παρέχει υποστήριξη SOCKS.

**Default port:** 3128
```
PORT     STATE  SERVICE      VERSION
3128/tcp open   http-proxy   Squid http proxy 4.11
```
# Enumeration

## Web Proxy

Μπορείτε να προσπαθήσετε να ορίσετε αυτή την ανακαλυφθείσα υπηρεσία ως proxy στον περιηγητή σας. Ωστόσο, αν είναι ρυθμισμένη με HTTP authentication, θα σας ζητηθούν ονόματα χρηστών και κωδικοί πρόσβασης.
```bash
# Try to proxify curl
curl --proxy http://10.10.11.131:3128 http://10.10.11.131
```
## Nmap proxified

Μπορείτε επίσης να προσπαθήσετε να εκμεταλλευτείτε τον proxy για **να σαρώσετε εσωτερικές θύρες χρησιμοποιώντας nmap**.\
Ρυθμίστε το proxychains να χρησιμοποιεί τον squid proxy προσθέτοντας την εξής γραμμή στο τέλος του αρχείου proxichains.conf: `http 10.10.10.10 3128`\
Για proxies που απαιτούν αυθεντικοποίηση, προσθέστε τα διαπιστευτήρια στη ρύθμιση περιλαμβάνοντας το όνομα χρήστη και τον κωδικό στο τέλος: `http 10.10.10.10 3128 username passw0rd`.

Στη συνέχεια, εκτελέστε το nmap με το proxychains για **να σαρώσετε τον host από το τοπικό**: `proxychains nmap -sT -n -p- localhost`

## SPOSE Scanner

Εναλλακτικά, μπορεί να χρησιμοποιηθεί ο Squid Pivoting Open Port Scanner ([spose.py](https://github.com/aancw/spose)).
```bash
python spose.py --proxy http://10.10.11.131:3128 --target 10.10.11.131
```
{% hint style="success" %}
Μάθετε & εξασκηθείτε στο AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Μάθετε & εξασκηθείτε στο GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Υποστήριξη HackTricks</summary>

* Ελέγξτε τα [**σχέδια συνδρομής**](https://github.com/sponsors/carlospolop)!
* **Εγγραφείτε στην** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε κόλπα hacking υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
