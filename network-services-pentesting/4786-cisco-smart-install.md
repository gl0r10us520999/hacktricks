# 4786 - Cisco Smart Install

{% hint style="success" %}
Leer & oefen AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Leer & oefen GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Kyk na die [**subskripsie planne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** üí¨ [**Discord groep**](https://discord.gg/hRep4RUj7f) of die [**telegram groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacking truuks deur PRs in te dien na die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}

## Basiese Inligting

**Cisco Smart Install** is 'n Cisco ontwerp om die aanvanklike konfigurasie en laai van 'n bedryfstelsel beeld vir nuwe Cisco hardeware te outomatiseer. **Standaard is Cisco Smart Install aktief op Cisco hardeware en gebruik die vervoervlak protokol, TCP, met poortnommer 4786.**

**Standaard poort:** 4786
```
PORT      STATE  SERVICE
4786/tcp  open   smart-install
```
## **Slim Install Exploitasiemiddel**

**In 2018 is 'n kritieke kwesbaarheid, CVE-2018‚Äì0171, in hierdie protokol gevind. Die bedreigingsvlak is 9.8 op die CVSS-skaal.**

**'n Spesiaal saamgestelde pakket wat na die TCP/4786-poort gestuur word, waar Cisco Slim Install aktief is, veroorsaak 'n buffer oorgang, wat 'n aanvaller in staat stel om:**

* die toestel met geweld te herbegin
* RCE aan te roep
* konfigurasies van netwerktoerusting te steel.

**Die** [**SIET**](https://github.com/frostbits-security/SIET) **(Slim Install Exploitasiemiddel)** is ontwikkel om hierdie kwesbaarheid te benut, dit stel jou in staat om Cisco Slim Install te misbruik. In hierdie artikel sal ek jou wys hoe jy 'n wettige netwerkhardeware konfigurasiefilenaam kan lees. Konfigurasie-exfiltrasie kan waardevol wees vir 'n pentester omdat dit sal leer oor die unieke kenmerke van die netwerk. En dit sal die lewe vergemaklik en nuwe aanvalsvektore help vind.

**Die teiken toestel sal 'n ‚Äúlewende‚Äù Cisco Catalyst 2960-schakelaar wees. Virtuele beelde het nie Cisco Slim Install nie, so jy kan slegs op die werklike hardeware oefen.**

Die adres van die teiken-schakelaar is **10.10.100.10 en CSI is aktief.** Laai SIET en begin die aanval. **Die -g argument** beteken exfiltrasie van die konfigurasie van die toestel, **die -i argument** stel jou in staat om die IP-adres van die kwesbare teiken in te stel.
```
~/opt/tools/SIET$ sudo python2 siet.py -g -i 10.10.100.10
```
<figure><img src="../.gitbook/assets/image (773).png" alt=""><figcaption></figcaption></figure>

Die skakelkonfigurasie **10.10.100.10** sal in die **tftp/** gids wees

<figure><img src="../.gitbook/assets/image (1116).png" alt=""><figcaption></figcaption></figure>

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}

{% hint style="success" %}
Leer & oefen AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Leer & oefen GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kyk na die [**subskripsieplanne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacking truuks deur PRs in te dien na die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
