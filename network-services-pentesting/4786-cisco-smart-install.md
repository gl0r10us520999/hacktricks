# 4786 - Cisco Smart Install

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}

## Temel Bilgiler

**Cisco Smart Install**, yeni Cisco donanımı için başlangıç yapılandırmasını ve bir işletim sistemi görüntüsünün yüklenmesini otomatikleştirmek üzere tasarlanmış bir Cisco ürünüdür. **Varsayılan olarak, Cisco Smart Install, Cisco donanımında aktiftir ve 4786 numaralı port ile TCP taşıma katmanı protokolünü kullanır.**

**Varsayılan port:** 4786
```
PORT      STATE  SERVICE
4786/tcp  open   smart-install
```
## **Smart Install Exploitation Tool**

**2018'de, bu protokolde kritik bir güvenlik açığı, CVE-2018–0171, bulundu. Tehdit seviyesi CVSS ölçeğinde 9.8'dir.**

**Cisco Smart Install'ın aktif olduğu TCP/4786 portuna gönderilen özel olarak hazırlanmış bir paket, bir buffer overflow tetikler ve bir saldırganın:**

* cihazı zorla yeniden başlatmasına
* RCE çağırmasına
* ağ ekipmanlarının yapılandırmalarını çalmasına olanak tanır.

**Bu güvenlik açığını istismar etmek için geliştirilen** [**SIET**](https://github.com/frostbits-security/SIET) **(Smart Install Exploitation Tool)**, Cisco Smart Install'ı kötüye kullanmanıza olanak tanır. Bu makalede, meşru bir ağ donanım yapılandırma dosyasını nasıl okuyabileceğinizi göstereceğim. Yapılandırma dışa aktarımı, bir pentester için değerli olabilir çünkü ağın benzersiz özellikleri hakkında bilgi edinmesini sağlar. Bu da hayatı kolaylaştırır ve bir saldırı için yeni vektörler bulmayı sağlar.

**Hedef cihaz “canlı” bir Cisco Catalyst 2960 anahtarı olacaktır. Sanal görüntülerde Cisco Smart Install yoktur, bu nedenle yalnızca gerçek donanımda pratik yapabilirsiniz.**

Hedef anahtarın adresi **10.10.100.10 ve CSI aktiftir.** SIET'i yükleyin ve saldırıya başlayın. **-g argümanı**, cihazdan yapılandırmanın dışa aktarımını ifade eder, **-i argümanı** ise hedefin IP adresini ayarlamanıza olanak tanır.
```
~/opt/tools/SIET$ sudo python2 siet.py -g -i 10.10.100.10
```
<figure><img src="../.gitbook/assets/image (773).png" alt=""><figcaption></figcaption></figure>

Anahtar yapılandırması **10.10.100.10** **tftp/** klasöründe olacaktır.

<figure><img src="../.gitbook/assets/image (1116).png" alt=""><figcaption></figcaption></figure>

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}

{% hint style="success" %}
AWS Hacking'i öğrenin ve pratik yapın:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i öğrenin ve pratik yapın: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* **💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın ya da **Twitter'da** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'i takip edin.**
* **Hacking ipuçlarını paylaşmak için** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gönderin.

</details>
{% endhint %}
