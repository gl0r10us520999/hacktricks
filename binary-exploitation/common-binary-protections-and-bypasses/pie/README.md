# PIE

{% hint style="success" %}
Jifunze na zoezi la AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya AWS (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Jifunze na zoezi la GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya GCP (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa usajili**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
{% endhint %}

## Taarifa Msingi

Binary iliyokompiliwa kama PIE, au **Position Independent Executable**, inamaanisha **programu inaweza kupakiwa kwenye maeneo tofauti ya kumbukumbu** kila wakati inapoendeshwa, ikizuia anwani zilizowekwa kwa nguvu.

Ujanja wa kudukua binaries hizi uko katika kudukua **anwani za kihesabu**‚Äîmbadala kati ya sehemu za programu hubaki sawa hata kama maeneo ya kihakika yanabadilika. Kwa **kupitisha PIE, unahitaji tu kuvuja anwani moja**, kawaida kutoka kwa **stack** kwa kutumia udhaifu kama mashambulizi ya aina ya string. Mara unapopata anwani, unaweza kuhesabu zingine kwa **mbadala wao uliowekwa**.

Msaada muhimu katika kudukua binaries za PIE ni kwamba **anwani yao ya msingi kawaida huishia kwa 000** kwa sababu kurasa za kumbukumbu ni vitengo vya ubadilishaji wa randomization, vikiwa na ukubwa wa baiti 0x1000. Ulinganifu huu unaweza kuwa **uhakiki muhimu ikiwa duduzo haifanyi kazi** kama ilivyotarajiwa, ikionyesha ikiwa anwani sahihi ya msingi imegunduliwa.\
Au unaweza kutumia hii kwa duduzo yako, ikiwa unavuja anwani iko kwenye **`0x649e1024`** unajua kwamba **anwani ya msingi ni `0x649e1000`** na kutoka hapo unaweza tu **kuzihesabu mbadala** za kazi na maeneo.

## Kupitisha

Ili kupitisha PIE ni lazima **kuvuja anwani fulani ya binary iliyopakiwa**, kuna chaguo kadhaa kwa hili:

* **ASLR imelemazwa**: Ikiwa ASLR imelemazwa binary iliyokompiliwa na PIE daima **itapakiwa kwenye anwani ileile**, kwa hivyo **PIE itakuwa bure** kwani anwani za vitu daima zitakuwa mahali palepale.
* **Kupewa** uvujaji (kawaida katika changamoto rahisi za CTF, [**angalia mfano huu**](https://ir0nstone.gitbook.io/notes/types/stack/pie/pie-exploit))
* **Brute-force EBP na thamani za EIP** kwenye stack hadi uvujaji wa sahihi:

{% content-ref url="bypassing-canary-and-pie.md" %}
[bypassing-canary-and-pie.md](bypassing-canary-and-pie.md)
{% endcontent-ref %}

* Tumia udhaifu wa **kusoma kwa hiari** kama [**aina ya string**](../../format-strings/) kuvuja anwani ya binary (k.m. kutoka kwa stack, kama katika mbinu iliyopita) kupata msingi wa binary na kutumia mbadala kutoka hapo. [**Pata mfano hapa**](https://ir0nstone.gitbook.io/notes/types/stack/pie/pie-bypass).

## Marejeo

* [https://ir0nstone.gitbook.io/notes/types/stack/pie](https://ir0nstone.gitbook.io/notes/types/stack/pie)

{% hint style="success" %}
Jifunze na zoezi la AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya AWS (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Jifunze na zoezi la GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**Mafunzo ya HackTricks ya Mtaalam wa Timu Nyekundu ya GCP (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa usajili**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
{% endhint %}
