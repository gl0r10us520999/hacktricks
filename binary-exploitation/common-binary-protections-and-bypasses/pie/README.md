# PIE

{% hint style="success" %}
**AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдкреНрд░реИрдХреНрдЯрд┐рд╕ рдХрд░реЗрдВ:**<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг AWS рд░реЗрдб рдЯреАрдо рдПрдХреНрд╕рдкрд░реНрдЯ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
**GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдкреНрд░реИрдХреНрдЯрд┐рд╕ рдХрд░реЗрдВ:** <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг GCP рд░реЗрдб рдЯреАрдо рдПрдХреНрд╕рдкрд░реНрдЯ (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ!
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдкрд░ **рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github рд░реЗрдкреЛ рдореЗрдВ PR рдЬрдорд╛ рдХрд░рдХреЗред

</details>
{% endhint %}

## рдореМрд▓рд┐рдХ рдЬрд╛рдирдХрд╛рд░реА

рдПрдХ PIE рд░реВрдк рдореЗрдВ рдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдмрд╛рдЗрдирд░реА, рдпрд╛ **рд╕реНрдерд┐рддрд┐ рд╕реНрд╡рддрдВрддреНрд░ рдХрд╛рд░реНрдпрдХреНрд╖рдо**, рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ **рдкреНрд░реЛрдЧреНрд░рд╛рдо рд╣рд░ рдмрд╛рд░ рд╡рд┐рднрд┐рдиреНрди рдореЗрдореЛрд░реА рд╕реНрдерд╛рдиреЛрдВ рдкрд░ рд▓реЛрдб рд╣реЛ рд╕рдХрддрд╛ рд╣реИ** рдЬрдм рднреА рдпрд╣ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╣рд╛рд░реНрдбрдХреЛрдб рдХрд┐рдП рдЧрдП рдкрддреЛрдВ рдХреЛ рд░реЛрдХрддреЗ рд╣реИрдВред

рдЗрди рдмрд╛рдЗрдирд░реА рдХреЛ рдЙрддреНрдкреАрдбрд╝рд┐рдд рдХрд░рдиреЗ рдХрд╛ рддрд░реАрдХрд╛ **рд╕рдВрдмрдВрдзрд┐рдд рдкрддреЛрдВ** рдХрд╛ рд╢реЛрд╖рдг рдХрд░рдиреЗ рдореЗрдВ рд╣реИтАФрдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЗ рднрд╛рдЧреЛрдВ рдХреЗ рдмреАрдЪ рдХреЗ рдЕрдВрддрд░ рд╕рдорд╛рди рд░рд╣рддреЗ рд╣реИрдВ рдЪрд╛рд╣реЗ рдЕрд╡рд╢реЗрд╖ рд╕реНрдерд╛рди рдмрджрд▓ рдЬрд╛рдПред PIE рдХреЛ **рдмрд╛рдЗрдкрд╛рд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдХреЗрд╡рд▓ рдПрдХ рдкрддрд╛ рд▓реАрдХ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ**, рд╕рд╛рдорд╛рдиреНрдпрдд: **рд╕реНрдЯреИрдХ** рд╕реЗ, рдЬреИрд╕реЗ рдХрд┐ рдлреЙрд░реНрдореЗрдЯ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╣рдорд▓реЛрдВ рдЬреИрд╕реЗ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░рдХреЗред рдПрдХ рдмрд╛рд░ рдЬрдм рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рдкрддрд╛ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЖрдк рдЙрдиреНрд╣реЗрдВ рдЙрдирдХреЗ **рдирд┐рд╢реНрдЪрд┐рдд рдСрдлрд╕реЗрдЯ** рдХреЗ рджреНрд╡рд╛рд░рд╛ рд╣рд┐рд╕рд╛рдм рд╕реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

PIE рдмрд╛рдЗрдирд░реА рдХрд╛ рд╢реЛрд╖рдг рдХрд░рдиреЗ рдореЗрдВ рдПрдХ рд╕рд╣рд╛рдпрдХ рд╕рдВрдХреЗрдд рд╣реИ рдХрд┐ рдЙрдирдХрд╛ **рдмреЗрд╕ рдкрддрд╛ рд╕рд╛рдорд╛рдиреНрдпрдд: 000 рд╕рдорд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИ** рдХреНрдпреЛрдВрдХрд┐ рдореЗрдореЛрд░реА рдкреЗрдЬ рдпрд╛рджреГрдЪреНрдЫрд┐рдХрддрд╛ рдХреА рдЗрдХрд╛рдЗрдпрд╛рдБ рд╣реЛрддреА рд╣реИрдВ, рдЬреЛ 0x1000 рдмрд╛рдЗрдЯ рдХреЗ рдЖрдХрд╛рд░ рдореЗрдВ рд╣реЛрддреА рд╣реИрдВред рдпрд╣ рд╕рдорд░реВрдкрдг рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг **рдЬрд╛рдВрдЪ рд╣реЛ рд╕рдХрддреА рд╣реИ рдпрджрд┐ рдПрдХ рдЙрддреНрдкреАрдбрд╝рди рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд░рд╣рд╛** рдЬреИрд╕рд╛ рдХрд┐ рдЕрдкреЗрдХреНрд╖рд┐рдд рдерд╛, рдпрд╣ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рд╕рд╣реА рдмреЗрд╕ рдкрддрд╛ рдкрд╣рдЪрд╛рдирд╛ рдЧрдпрд╛ рд╣реИред\
рдпрд╛ рдЖрдк рдЗрд╕реЗ рдЕрдкрдиреЗ рдЙрддреНрдкреАрдбрд╝рди рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдпрджрд┐ рдЖрдк рд▓реАрдХ рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдПрдХ рдкрддрд╛ **`0x649e1024`** рдкрд░ рд╕реНрдерд┐рдд рд╣реИ рддреЛ рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ **рдмреЗрд╕ рдкрддрд╛ `0x649e1000` рд╣реИ** рдФрд░ рдлрд┐рд░ рд╕реЗ рдЖрдк рд╕рд┐рд░реНрдл **рдлрд╝рдВрдХреНрд╢рди рдФрд░ рд╕реНрдерд╛рдиреЛрдВ рдХреЗ рдСрдлрд╕реЗрдЯ рд╣рд┐рд╕рд╛рдм рд╕реЗ** рд╣рд┐рд╕рд╛рдм рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВред

## рдмрд╛рдЗрдкрд╛рд╕

PIE рдХреЛ рдмрд╛рдЗрдкрд╛рд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **рд▓реЛрдб рдХрд┐рдП рдЧрдП** рдмрд╛рдЗрдирд░реА рдХрд╛ рдХреБрдЫ рдкрддрд╛ рд▓реАрдХ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рд▓рд┐рдП рдХреБрдЫ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ:

* **ASLR рдЕрдХреНрд╖рдо**: рдпрджрд┐ ASLR рдЕрдХреНрд╖рдо рд╣реИ рддреЛ PIE рдХреЗ рд╕рд╛рде рдХрдВрдкрд╛рдЗрд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдмрд╛рдЗрдирд░реА рд╣рдореЗрд╢рд╛ **рдПрдХ рд╣реА рдкрддреЗ рдкрд░ рд▓реЛрдб рд╣реЛрдЧрд╛**, рдЗрд╕рд▓рд┐рдП **PIE рдмреЗрдХрд╛рд░ рд╣реЛ рдЬрд╛рдПрдЧрд╛** рдХреНрдпреЛрдВрдХрд┐ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдкрддреЗ рд╣рдореЗрд╢рд╛ рдПрдХ рд╣реА рд╕реНрдерд╛рди рдкрд░ рд╣реЛрдВрдЧреЗред
* рд▓реАрдХ рдХреЛ **рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ** (рдЖрд╕рд╛рди CTF рдЪреИрд▓реЗрдВрдЬ рдореЗрдВ рд╕рд╛рдорд╛рдиреНрдп, [**рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ**](https://ir0nstone.gitbook.io/notes/types/stack/pie/pie-exploit))
* рд╕реНрдЯреИрдХ рдореЗрдВ рд╕рд╣реА рд╡реИрд▓реНрдпреВрдЬ рдХреЛ рд▓реАрдХ рдХрд░рдиреЗ рддрдХ **рдмреНрд░реВрдЯ-рдлрд╝реЛрд░реНрд╕ EBP рдФрд░ EIP рдорд╛рди**:

{% content-ref url="bypassing-canary-and-pie.md" %}
[bypassing-canary-and-pie.md](bypassing-canary-and-pie.md)
{% endcontent-ref %}

* рдПрдХ **рдРрдЪреНрдЫрд┐рдХ рдкрдарди рдкрдврд╝рдиреЗ** рдХреА рдХрдордЬреЛрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдЬреИрд╕реЗ [**рдлреЙрд░реНрдореЗрдЯ рд╕реНрдЯреНрд░рд┐рдВрдЧ**](../../format-strings/) рдПрдХ рдкрддрд╛ рд▓реАрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╛рдЗрдирд░реА рдХрд╛ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рд╕реНрдЯреИрдХ рд╕реЗ, рдкрд┐рдЫрд▓реА рддрдХрдиреАрдХ рдореЗрдВ) рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреИрд╕реЗ рдХрд┐ рдмрд╛рдЗрдирд░реА рдХрд╛ рдмреЗрд╕ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдФрд░ рд╡рд╣рд╛рдВ рд╕реЗ рдСрдлрд╕реЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗред [**рдпрд╣рд╛рдБ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдЦреЛрдЬреЗрдВ**](https://ir0nstone.gitbook.io/notes/types/stack/pie/pie-bypass).

## рд╕рдВрджрд░реНрдн

* [https://ir0nstone.gitbook.io/notes/types/stack/pie](https://ir0nstone.gitbook.io/notes/types/stack/pie)

{% hint style="success" %}
**AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдкреНрд░реИрдХреНрдЯрд┐рд╕ рдХрд░реЗрдВ:**<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг AWS рд░реЗрдб рдЯреАрдо рдПрдХреНрд╕рдкрд░реНрдЯ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
**GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдкреНрд░реИрдХреНрдЯрд┐рд╕ рдХрд░реЗрдВ:** <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks рдкреНрд░рд╢рд┐рдХреНрд╖рдг GCP рд░реЗрдб рдЯреАрдо рдПрдХреНрд╕рдкрд░реНрдЯ (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ!
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** рдкрд░ **рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github рд░реЗрдкреЛ рдореЗрдВ PR рдЬрдорд╛ рдХрд░рдХреЗред

</details>
{% endhint %}
