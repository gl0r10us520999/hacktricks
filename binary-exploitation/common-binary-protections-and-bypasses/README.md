# Protecciones y Bypasses Comunes en la Explotación de Binarios

{% hint style="success" %}
Aprende y practica Hacking en AWS: <img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Aprende y practica Hacking en GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Apoya a HackTricks</summary>

* Revisa los [**planes de suscripción**](https://github.com/sponsors/carlospolop)!
* **Únete al** 💬 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **síguenos** en **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Comparte trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}

## Habilitar Archivos Core

Los **archivos core** son un tipo de archivo generado por un sistema operativo cuando un proceso se bloquea. Estos archivos capturan la imagen de la memoria del proceso bloqueado en el momento de su terminación, incluyendo la memoria del proceso, registros y estado del contador de programa, entre otros detalles. Esta instantánea puede ser extremadamente valiosa para la depuración y comprensión de por qué ocurrió el bloqueo.

### **Habilitar la Generación de Volcados Core**

Por defecto, muchos sistemas limitan el tamaño de los archivos core a 0 (es decir, no generan archivos core) para ahorrar espacio en disco. Para habilitar la generación de archivos core, puedes utilizar el comando **`ulimit`** (en bash u otros shells similares) o configurar ajustes a nivel de sistema.

* **Usando ulimit**: El comando `ulimit -c unlimited` permite a la sesión de shell actual crear archivos core de tamaño ilimitado. Esto es útil para sesiones de depuración pero no es persistente a través de reinicios o nuevas sesiones.
```bash
ulimit -c unlimited
```
* **Configuración Persistente**: Para una solución más permanente, puedes editar el archivo `/etc/security/limits.conf` para incluir una línea como `* soft core unlimited`, lo cual permite a todos los usuarios generar archivos core de tamaño ilimitado sin tener que establecer ulimit manualmente en sus sesiones.
```markdown
* soft core unlimited
```
### **Análisis de Archivos Core con GDB**

Para analizar un archivo core, puedes utilizar herramientas de depuración como GDB (el Depurador GNU). Suponiendo que tienes un ejecutable que produjo un volcado core y el archivo core se llama `core_file`, puedes iniciar el análisis con:
```bash
gdb /path/to/executable /path/to/core_file
```
Este comando carga el ejecutable y el archivo core en GDB, lo que te permite inspeccionar el estado del programa en el momento del fallo. Puedes usar comandos de GDB para explorar la pila, examinar variables y entender la causa del fallo.

{% hint style="success" %}
Aprende y practica Hacking en AWS:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Aprende y practica Hacking en GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Apoya a HackTricks</summary>

* Revisa los [**planes de suscripción**](https://github.com/sponsors/carlospolop)!
* **Únete al** 💬 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **síguenos en** **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Comparte trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}
