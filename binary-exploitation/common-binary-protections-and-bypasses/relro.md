# Relro

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Relro

**RELRO** –æ–∑–Ω–∞—á–∞—î **Relocation Read-Only**, —ñ —Ü–µ —Ñ—É–Ω–∫—Ü—ñ—è –±–µ–∑–ø–µ–∫–∏, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ –±—ñ–Ω–∞—Ä–Ω–∏—Ö —Ñ–∞–π–ª–∞—Ö –¥–ª—è –∑–º–µ–Ω—à–µ–Ω–Ω—è —Ä–∏–∑–∏–∫—ñ–≤, –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ **GOT (Global Offset Table)** –ø–µ—Ä–µ–ø–∏—Å—É–≤–∞–Ω–Ω—è–º–∏. –Ü—Å–Ω—É—î –¥–≤–∞ —Ç–∏–ø–∏ –∑–∞—Ö–∏—Å—Ç—É **RELRO**: (1) **–ß–∞—Å—Ç–∫–æ–≤–∏–π RELRO** —ñ (2) **–ü–æ–≤–Ω–∏–π RELRO**. –û–±–∏–¥–≤–∞ –≤–æ–Ω–∏ —Ä–µ–æ—Ä–≥–∞–Ω—ñ–∑–æ–≤—É—é—Ç—å **GOT** —ñ **BSS** –∑ ELF —Ñ–∞–π–ª—ñ–≤, –∞–ª–µ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ç–∞ –Ω–∞—Å–ª—ñ–¥–∫–∞–º–∏. –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ, –≤–æ–Ω–∏ —Ä–æ–∑–º—ñ—â—É—é—Ç—å —Å–µ–∫—Ü—ñ—é **GOT** *–ø–µ—Ä–µ–¥* **BSS**. –¢–æ–±—Ç–æ, **GOT** –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –∑–∞ –Ω–∏–∂—á–∏–º–∏ –∞–¥—Ä–µ—Å–∞–º–∏, –Ω—ñ–∂ **BSS**, —â–æ —É–Ω–µ–º–æ–∂–ª–∏–≤–ª—é—î –ø–µ—Ä–µ–ø–∏—Å—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Å—ñ–≤ **GOT** —à–ª—è—Ö–æ–º –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —É **BSS** (–ø–∞–º'—è—Ç–∞–π—Ç–µ, —â–æ –∑–∞–ø–∏—Å —É –ø–∞–º'—è—Ç—å –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑ –Ω–∏–∂—á–∏—Ö –∞–¥—Ä–µ—Å –¥–æ –≤–∏—â–∏—Ö).

–î–∞–≤–∞–π—Ç–µ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—é –Ω–∞ –¥–≤–∞ –æ–∫—Ä–µ–º—ñ —Ç–∏–ø–∏ –¥–ª—è —è—Å–Ω–æ—Å—Ç—ñ.

### **–ß–∞—Å—Ç–∫–æ–≤–∏–π RELRO**

**–ß–∞—Å—Ç–∫–æ–≤–∏–π RELRO** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø—Ä–æ—Å—Ç—ñ—à–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏ –±–µ–∑ –∑–Ω–∞—á–Ω–æ–≥–æ –≤–ø–ª–∏–≤—É –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –±—ñ–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª—É. –ß–∞—Å—Ç–∫–æ–≤–∏–π RELRO —Ä–æ–±–∏—Ç—å **.got —Ç—ñ–ª—å–∫–∏ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è (–Ω–µ-PLT —á–∞—Å—Ç–∏–Ω–∞ —Å–µ–∫—Ü—ñ—ó GOT)**. –ú–∞–π—Ç–µ –Ω–∞ —É–≤–∞–∑—ñ, —â–æ —Ä–µ—à—Ç–∞ —Å–µ–∫—Ü—ñ—ó (—è–∫ .got.plt) –≤—Å–µ —â–µ –º–æ–∂–µ –±—É—Ç–∏ –∑–∞–ø–∏—Å—É–≤–∞–Ω–æ—é —ñ, –æ—Ç–∂–µ, –ø—ñ–¥–ª—è–≥–∞—î –∞—Ç–∞–∫–∞–º. –¶–µ **–Ω–µ –∑–∞–ø–æ–±—ñ–≥–∞—î –∑–ª–æ–≤–∂–∏–≤–∞–Ω–Ω—é GOT** **–∑ –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π –¥–æ–≤—ñ–ª—å–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É**.

–ü—Ä–∏–º—ñ—Ç–∫–∞: –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º, GCC –∫–æ–º–ø—ñ–ª—é—î –±—ñ–Ω–∞—Ä–Ω—ñ —Ñ–∞–π–ª–∏ –∑ –ß–∞—Å—Ç–∫–æ–≤–∏–º RELRO.

### **–ü–æ–≤–Ω–∏–π RELRO**

**–ü–æ–≤–Ω–∏–π RELRO** –ø—ñ–¥–≤–∏—â—É—î –∑–∞—Ö–∏—Å—Ç, **—Ä–æ–±–ª—è—á–∏ –≤—Å—é GOT (—è–∫ .got, —Ç–∞–∫ —ñ .got.plt) —Ç–∞ —Å–µ–∫—Ü—ñ—é .fini\_array** –ø–æ–≤–Ω—ñ—Å—Ç—é **—Ç—ñ–ª—å–∫–∏ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è.** –ö–æ–ª–∏ –±—ñ–Ω–∞—Ä–Ω–∏–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è, –≤—Å—ñ –∞–¥—Ä–µ—Å–∏ —Ñ—É–Ω–∫—Ü—ñ–π –≤–∏—Ä—ñ—à—É—é—Ç—å—Å—è —ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –≤ GOT, –ø—ñ—Å–ª—è —á–æ–≥–æ GOT –ø–æ–∑–Ω–∞—á–∞—î—Ç—å—Å—è —è–∫ —Ç—ñ–ª—å–∫–∏ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è, –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∑–∞–ø–æ–±—ñ–≥–∞—é—á–∏ –±—É–¥—å-—è–∫–∏–º –∑–º—ñ–Ω–∞–º –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.

–û–¥–Ω–∞–∫, –∫–æ–º–ø—Ä–æ–º—ñ—Å –∑ –ü–æ–≤–Ω–∏–º RELRO –ø–æ–ª—è–≥–∞—î –≤ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ç–∞ —á–∞—Å—ñ –∑–∞–ø—É—Å–∫—É. –û—Å–∫—ñ–ª—å–∫–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏—Ä—ñ—à–∏—Ç–∏ –≤—Å—ñ –¥–∏–Ω–∞–º—ñ—á–Ω—ñ —Å–∏–º–≤–æ–ª–∏ –ø—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É –ø–µ—Ä–µ–¥ –ø–æ–∑–Ω–∞—á–µ–Ω–Ω—è–º GOT —è–∫ —Ç—ñ–ª—å–∫–∏ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è, **–±—ñ–Ω–∞—Ä–Ω—ñ —Ñ–∞–π–ª–∏ –∑ —É–≤—ñ–º–∫–Ω–µ–Ω–∏–º –ü–æ–≤–Ω–∏–º RELRO –º–æ–∂—É—Ç—å –º–∞—Ç–∏ –¥–æ–≤—à–∏–π —á–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è**. –¶–µ –¥–æ–¥–∞—Ç–∫–æ–≤–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É —î –ø—Ä–∏—á–∏–Ω–æ—é, —á–æ–º—É –ü–æ–≤–Ω–∏–π RELRO –Ω–µ —É–≤—ñ–º–∫–Ω–µ–Ω–æ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —É –≤—Å—ñ—Ö –±—ñ–Ω–∞—Ä–Ω–∏—Ö —Ñ–∞–π–ª–∞—Ö.

–ú–æ–∂–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ **—É–≤—ñ–º–∫–Ω–µ–Ω–æ** –ü–æ–≤–Ω–∏–π RELRO —É –±—ñ–Ω–∞—Ä–Ω–æ–º—É —Ñ–∞–π–ª—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é:
```bash
readelf -l /proc/ID_PROC/exe | grep BIND_NOW
```
## Bypass

–Ø–∫—â–æ —É–≤—ñ–º–∫–Ω–µ–Ω–æ Full RELRO, —î–¥–∏–Ω–∏–π —Å–ø–æ—Å—ñ–± –æ–±—ñ–π—Ç–∏ –π–æ–≥–æ - –∑–Ω–∞–π—Ç–∏ —ñ–Ω—à–∏–π —à–ª—è—Ö, —è–∫–∏–π –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î –∑–∞–ø–∏—Å—É –≤ —Ç–∞–±–ª–∏—Ü—é GOT –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–≤—ñ–ª—å–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ **GOT –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ LIBC –∑–∞–∑–≤–∏—á–∞–π —î Partial RELRO**, —Ç–æ–º—É –π–æ–≥–æ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –¥–æ–≤—ñ–ª—å–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É. –ë—ñ–ª—å—à–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –≤ [Targetting libc GOT entries](https://github.com/nobodyisnobody/docs/blob/main/code.execution.on.last.libc/README.md#1---targetting-libc-got-entries)**.**

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
