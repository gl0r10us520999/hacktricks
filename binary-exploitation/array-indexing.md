# Dizi Ä°ndeksleme

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** bizi **takip edin** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

## Temel Bilgiler

Bu kategori, dizilerdeki indekslerin iÅŸlenmesindeki hatalar nedeniyle belirli verilerin Ã¼zerine yazÄ±lmasÄ±nÄ±n mÃ¼mkÃ¼n olduÄŸu tÃ¼m gÃ¼venlik aÃ§Ä±klarÄ±nÄ± iÃ§erir. SÃ¶mÃ¼rÃ¼ mekanizmasÄ± tamamen gÃ¼venlik aÃ§Ä±ÄŸÄ±nÄ±n koÅŸullarÄ±na baÄŸlÄ± olduÄŸundan, belirli bir metodolojiye sahip olmayan Ã§ok geniÅŸ bir kategoridir.

Ancak burada bazÄ± gÃ¼zel **Ã¶rnekler** bulabilirsiniz:

* [https://guyinatuxedo.github.io/11-index/swampctf19\_dreamheaps/index.html](https://guyinatuxedo.github.io/11-index/swampctf19\_dreamheaps/index.html)
* **Adresler** iÃ§in bir dizi ve o verilerin **boyutlarÄ±** iÃ§in bir dizi olmak Ã¼zere **2 Ã§akÄ±ÅŸan dizi** vardÄ±r. Birinden diÄŸerine yazmak mÃ¼mkÃ¼ndÃ¼r, bu da boyut olarak gÃ¶sterilen keyfi bir adres yazmayÄ± saÄŸlar. Bu, GOT tablosundaki `free` fonksiyonunun adresini yazmayÄ± ve ardÄ±ndan bunu `system` adresi ile deÄŸiÅŸtirmeyi ve `/bin/sh` ile bir bellekten free Ã§aÄŸÄ±rmayÄ± saÄŸlar.
* [https://guyinatuxedo.github.io/11-index/csaw18\_doubletrouble/index.html](https://guyinatuxedo.github.io/11-index/csaw18\_doubletrouble/index.html)
* 64 bit, nx yok. Bir boyutu Ã¼zerine yazarak her ÅŸeyin Ã§ift sayÄ± olarak kullanÄ±lacaÄŸÄ± ve en kÃ¼Ã§Ã¼ÄŸÃ¼nden en bÃ¼yÃ¼ÄŸÃ¼ne sÄ±ralanacaÄŸÄ± bir tÃ¼r tampon taÅŸmasÄ± elde edilir, bu nedenle bu gereksinimi karÅŸÄ±layan bir shellcode oluÅŸturmak gerekir, canary'nin yerinden hareket ettirilmemesi gerektiÄŸini ve nihayetinde RIP'i ret'e iÅŸaret eden bir adresle Ã¼zerine yazmayÄ± gÃ¶z Ã¶nÃ¼nde bulundurmak gerekir, bu da Ã¶nceki gereksinimleri karÅŸÄ±lar ve en bÃ¼yÃ¼k adresi yÄ±ÄŸÄ±nÄ±n baÅŸlangÄ±cÄ±na iÅŸaret eden yeni bir adresle deÄŸiÅŸtirir (program tarafÄ±ndan sÄ±zdÄ±rÄ±lmÄ±ÅŸtÄ±r) bÃ¶ylece ret'i oraya atlamak iÃ§in kullanmak mÃ¼mkÃ¼ndÃ¼r.
* [https://faraz.faith/2019-10-20-secconctf-2019-sum/](https://faraz.faith/2019-10-20-secconctf-2019-sum/)
* 64 bit, relro yok, canary, nx, pie yok. YÄ±ÄŸÄ±ndaki bir dizide bir off-by-one vardÄ±r, bu da bir iÅŸaretÃ§iyi kontrol etmeyi saÄŸlar ve WWW'yi garanti eder (dizinin tÃ¼m sayÄ±larÄ±n toplamÄ±nÄ±, dizideki off-by-one ile Ã¼zerine yazÄ±lan adrese yazar). YÄ±ÄŸÄ±n kontrol altÄ±ndadÄ±r, bu nedenle GOT `exit` adresi `pop rdi; ret` ile Ã¼zerine yazÄ±lÄ±r ve yÄ±ÄŸÄ±na `main` adresi eklenir (tekrar `main`'e dÃ¶ner). GOT'daki adresi sÄ±zdÄ±rmak iÃ§in puts kullanarak bir ROP zinciri kullanÄ±lÄ±r (`exit` Ã§aÄŸrÄ±lacak, bu nedenle `pop rdi; ret` Ã§aÄŸrÄ±lacak ve bu zincir yÄ±ÄŸÄ±nda Ã§alÄ±ÅŸtÄ±rÄ±lacaktÄ±r). Son olarak, ret2lib'i Ã§alÄ±ÅŸtÄ±ran yeni bir ROP zinciri kullanÄ±lÄ±r.
* [https://guyinatuxedo.github.io/14-ret\_2\_system/tu\_guestbook/index.html](https://guyinatuxedo.github.io/14-ret\_2\_system/tu\_guestbook/index.html)
* 32 bit, relro yok, canary yok, nx, pie. YÄ±ÄŸÄ±n adreslerini sÄ±zdÄ±rmak iÃ§in kÃ¶tÃ¼ bir indeksleme kullanarak libc ve heap adreslerini sÄ±zdÄ±rÄ±n. Bir tampon taÅŸmasÄ±nÄ± kÃ¶tÃ¼ye kullanarak `system('/bin/sh')` Ã§aÄŸÄ±rarak bir ret2lib yapÄ±n (heap adresi bir kontrolÃ¼ atlatmak iÃ§in gereklidir).
