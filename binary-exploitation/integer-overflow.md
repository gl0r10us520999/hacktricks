# æ•´æ•°æº¢å‡º

{% hint style="success" %}
å­¦ä¹ ä¸å®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
å­¦ä¹ ä¸å®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘ä»¬çš„ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}

## åŸºæœ¬ä¿¡æ¯

åœ¨ **æ•´æ•°æº¢å‡º** çš„æ ¸å¿ƒæ˜¯è®¡ç®—æœºç¼–ç¨‹ä¸­æ•°æ®ç±»å‹çš„ **å¤§å°** æ‰€æ–½åŠ çš„é™åˆ¶å’Œæ•°æ®çš„ **è§£é‡Š**ã€‚

ä¾‹å¦‚ï¼Œä¸€ä¸ª **8 ä½æ— ç¬¦å·æ•´æ•°** å¯ä»¥è¡¨ç¤ºä» **0 åˆ° 255** çš„å€¼ã€‚å¦‚æœä½ å°è¯•å°†å€¼ 256 å­˜å‚¨åœ¨ 8 ä½æ— ç¬¦å·æ•´æ•°ä¸­ï¼Œç”±äºå…¶å­˜å‚¨å®¹é‡çš„é™åˆ¶ï¼Œå®ƒä¼šå›ç»•åˆ° 0ã€‚åŒæ ·ï¼Œå¯¹äºä¸€ä¸ª **16 ä½æ— ç¬¦å·æ•´æ•°**ï¼Œå®ƒå¯ä»¥å®¹çº³ä» **0 åˆ° 65,535** çš„å€¼ï¼Œå°† 1 åŠ åˆ° 65,535 ä¼šå°†å€¼å›ç»•åˆ° 0ã€‚

æ­¤å¤–ï¼Œä¸€ä¸ª **8 ä½æœ‰ç¬¦å·æ•´æ•°** å¯ä»¥è¡¨ç¤ºä» **-128 åˆ° 127** çš„å€¼ã€‚è¿™æ˜¯å› ä¸ºä¸€ä¸ªä½ç”¨äºè¡¨ç¤ºç¬¦å·ï¼ˆæ­£æˆ–è´Ÿï¼‰ï¼Œå‰©ä¸‹çš„ 7 ä½ç”¨äºè¡¨ç¤ºå¤§å°ã€‚æœ€å°çš„è´Ÿæ•°è¡¨ç¤ºä¸º **-128**ï¼ˆäºŒè¿›åˆ¶ `10000000`ï¼‰ï¼Œæœ€å¤§çš„æ­£æ•°æ˜¯ **127**ï¼ˆäºŒè¿›åˆ¶ `01111111`ï¼‰ã€‚

### æœ€å¤§å€¼

å¯¹äºæ½œåœ¨çš„ **ç½‘ç»œæ¼æ´**ï¼Œäº†è§£æœ€å¤§æ”¯æŒå€¼æ˜¯éå¸¸æœ‰è¶£çš„ï¼š

{% tabs %}
{% tab title="Rust" %}
```rust
fn main() {

let mut quantity = 2147483647;

let (mul_result, _) = i32::overflowing_mul(32767, quantity);
let (add_result, _) = i32::overflowing_add(1, quantity);

println!("{}", mul_result);
println!("{}", add_result);
}
```
{% endtab %}

{% tab title="C" %}
```c
#include <stdio.h>
#include <limits.h>

int main() {
int a = INT_MAX;
int b = 0;
int c = 0;

b = a * 100;
c = a + 1;

printf("%d\n", INT_MAX);
printf("%d\n", b);
printf("%d\n", c);
return 0;
}
```
{% endtab %}
{% endtabs %}

## ç¤ºä¾‹

### çº¯æº¢å‡º

æ‰“å°çš„ç»“æœå°†æ˜¯ 0ï¼Œå› ä¸ºæˆ‘ä»¬æº¢å‡ºäº† charï¼š
```c
#include <stdio.h>

int main() {
unsigned char max = 255; // 8-bit unsigned integer
unsigned char result = max + 1;
printf("Result: %d\n", result); // Expected to overflow
return 0;
}
```
### Signed to Unsigned Conversion

è€ƒè™‘ä¸€ç§æƒ…å†µï¼Œå…¶ä¸­ä»ç”¨æˆ·è¾“å…¥ä¸­è¯»å–ä¸€ä¸ªæœ‰ç¬¦å·æ•´æ•°ï¼Œç„¶ååœ¨ä¸€ä¸ªå°†å…¶è§†ä¸ºæ— ç¬¦å·æ•´æ•°çš„ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ï¼Œè€Œæ²¡æœ‰è¿›è¡Œé€‚å½“çš„éªŒè¯ï¼š
```c
#include <stdio.h>

int main() {
int userInput; // Signed integer
printf("Enter a number: ");
scanf("%d", &userInput);

// Treating the signed input as unsigned without validation
unsigned int processedInput = (unsigned int)userInput;

// A condition that might not work as intended if userInput is negative
if (processedInput > 1000) {
printf("Processed Input is large: %u\n", processedInput);
} else {
printf("Processed Input is within range: %u\n", processedInput);
}

return 0;
}
```
åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœç”¨æˆ·è¾“å…¥ä¸€ä¸ªè´Ÿæ•°ï¼Œç”±äºäºŒè¿›åˆ¶å€¼çš„è§£é‡Šæ–¹å¼ï¼Œå®ƒå°†è¢«è§£é‡Šä¸ºä¸€ä¸ªå¤§çš„æ— ç¬¦å·æ•´æ•°ï¼Œè¿™å¯èƒ½å¯¼è‡´æ„å¤–è¡Œä¸ºã€‚

### å…¶ä»–ç¤ºä¾‹

* [https://guyinatuxedo.github.io/35-integer\_exploitation/int\_overflow\_post/index.html](https://guyinatuxedo.github.io/35-integer\_exploitation/int\_overflow\_post/index.html)
* ä»…ä½¿ç”¨1Bæ¥å­˜å‚¨å¯†ç çš„å¤§å°ï¼Œå› æ­¤å¯èƒ½ä¼šå‘ç”Ÿæº¢å‡ºï¼Œä½¿å…¶è®¤ä¸ºé•¿åº¦ä¸º4ï¼Œè€Œå®é™…ä¸Šæ˜¯260ï¼Œä»¥ç»•è¿‡é•¿åº¦æ£€æŸ¥ä¿æŠ¤
* [https://guyinatuxedo.github.io/35-integer\_exploitation/puzzle/index.html](https://guyinatuxedo.github.io/35-integer\_exploitation/puzzle/index.html)
* ç»™å®šå‡ ä¸ªæ•°å­—ï¼Œä½¿ç”¨z3æ‰¾å‡ºä¸€ä¸ªæ–°æ•°å­—ï¼Œä½¿å…¶ä¸ç¬¬ä¸€ä¸ªæ•°å­—ç›¸ä¹˜å°†å¾—åˆ°ç¬¬äºŒä¸ªæ•°å­—ï¼š&#x20;

```
(((argv[1] * 0x1064deadbeef4601) & 0xffffffffffffffff) == 0xD1038D2E07B42569)
```
* [https://8ksec.io/arm64-reversing-and-exploitation-part-8-exploiting-an-integer-overflow-vulnerability/](https://8ksec.io/arm64-reversing-and-exploitation-part-8-exploiting-an-integer-overflow-vulnerability/)
* ä»…ä½¿ç”¨1Bæ¥å­˜å‚¨å¯†ç çš„å¤§å°ï¼Œå› æ­¤å¯èƒ½ä¼šå‘ç”Ÿæº¢å‡ºï¼Œä½¿å…¶è®¤ä¸ºé•¿åº¦ä¸º4ï¼Œè€Œå®é™…ä¸Šæ˜¯260ï¼Œä»¥ç»•è¿‡é•¿åº¦æ£€æŸ¥ä¿æŠ¤å¹¶åœ¨æ ˆä¸­è¦†ç›–ä¸‹ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œä»è€Œç»•è¿‡è¿™ä¸¤ç§ä¿æŠ¤

## ARM64

è¿™**åœ¨ARM64ä¸­æ²¡æœ‰å˜åŒ–**ï¼Œæ­£å¦‚ä½ åœ¨[**è¿™ç¯‡åšå®¢æ–‡ç« **](https://8ksec.io/arm64-reversing-and-exploitation-part-8-exploiting-an-integer-overflow-vulnerability/)ä¸­çœ‹åˆ°çš„ã€‚

{% hint style="success" %}
å­¦ä¹ å’Œå®è·µAWSé»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricksåŸ¹è®­AWSçº¢é˜Ÿä¸“å®¶ï¼ˆARTEï¼‰**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
å­¦ä¹ å’Œå®è·µGCPé»‘å®¢æŠ€æœ¯ï¼š<img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricksåŸ¹è®­GCPçº¢é˜Ÿä¸“å®¶ï¼ˆGRTEï¼‰**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒHackTricks</summary>

* æŸ¥çœ‹[**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discordç¾¤ç»„**](https://discord.gg/hRep4RUj7f)æˆ–[**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass)æˆ–**åœ¨** **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ä¸Šå…³æ³¨æˆ‘ä»¬ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks)å’Œ[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) githubä»“åº“æäº¤PRæ¥åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}
