# Use After Free

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Osnovne informacije

Kao što ime implicira, ova ranjivost se javlja kada program **čuva neki prostor** u heap-u za objekat, **piše** neke informacije tamo, **oslobađa** ga očigledno jer više nije potreban i zatim **ponovo pristupa** njemu.

Problem ovde je što nije ilegalno (neće biti grešaka) kada se **pristupi oslobođenoj memoriji**. Dakle, ako je program (ili napadač) uspeo da **alokira oslobođenu memoriju i sačuva proizvoljne podatke**, kada se oslobođena memorija pristupi iz inicijalnog pokazivača, **ti podaci bi bili prepisani**, uzrokujući **ranjivost koja će zavisiti od osetljivosti podataka** koji su prvobitno sačuvani (ako je to bio pokazivač funkcije koja će biti pozvana, napadač bi mogao da je kontroliše).

### Prvi Fit napad

Prvi fit napad cilja način na koji neki alokatori memorije, poput onih u glibc-u, upravljaju oslobođenom memorijom. Kada oslobodite blok memorije, on se dodaje na listu, a novi zahtevi za memorijom uzimaju iz te liste sa kraja. Napadači mogu iskoristiti ovo ponašanje da manipulišu **koji se blokovi memorije ponovo koriste, potencijalno stičući kontrolu nad njima**. To može dovesti do problema "use-after-free", gde bi napadač mogao **promeniti sadržaj memorije koja se ponovo alocira**, stvarajući bezbednosni rizik.\
Proverite više informacija u:

{% content-ref url="first-fit.md" %}
[first-fit.md](first-fit.md)
{% endcontent-ref %}

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
