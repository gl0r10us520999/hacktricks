# Use After Free

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the**  [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Podstawowe informacje

Jak sama nazwa wskazuje, ta luka wystpuje, gdy program **przechowuje pewn przestrze** w stercie dla obiektu, **zapisuje** tam jakie informacje, **zwalnia** j, poniewa偶 nie jest ju偶 potrzebna, a nastpnie **ponownie uzyskuje do niej dostp**.

Problem polega na tym, 偶e nie jest to nielegalne (nie **bdzie bd贸w**), gdy **uzyskuje si dostp do zwolnionej pamici**. Jeli wic program (lub atakujcy) zdoa **przydzieli zwolnion pami i przechowa dowolne dane**, gdy zwolniona pami jest dostpna z pocztkowego wska藕nika, **dane te mogyby zosta nadpisane**, co powoduje **luk, kt贸ra bdzie zale偶aa od wra偶liwoci danych**, kt贸re byy pierwotnie przechowywane (jeli by to wska藕nik funkcji, kt贸ra miaa by wywoana, atakujcy m贸gby j kontrolowa).

### Atak First Fit

Atak first fit celuje w spos贸b, w jaki niekt贸re alokatory pamici, takie jak w glibc, zarzdzaj zwolnion pamici. Gdy zwalniasz blok pamici, jest on dodawany do listy, a nowe 偶dania pamici pobieraj z tej listy z koca. Atakujcy mog wykorzysta to zachowanie, aby manipulowa **kt贸re bloki pamici s ponownie u偶ywane, potencjalnie zyskujc nad nimi kontrol**. Mo偶e to prowadzi do problem贸w "use-after-free", gdzie atakujcy m贸gby **zmieni zawarto pamici, kt贸ra jest ponownie przydzielana**, co stwarza ryzyko bezpieczestwa.\
Sprawd藕 wicej informacji w:

{% content-ref url="first-fit.md" %}
[first-fit.md](first-fit.md)
{% endcontent-ref %}

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the**  [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
