# 解放されたチャンクの上書き

{% hint style="success" %}
AWSハッキングの学習と練習:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCPハッキングの学習と練習: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksのサポート</summary>

* [**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェック！
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に参加するか、[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**をフォロー**してください。
* **HackTricks**と**HackTricks Cloud**のGitHubリポジトリにPRを提出して、ハッキングテクニックを共有してください。

</details>
{% endhint %}

提案されているヒープの悪用技術のいくつかは、解放されたチャンク内のポインタを上書きできる必要があります。このページの目的は、このアクセスを付与する可能性のある潜在的な脆弱性を要約することです：

### シンプルなUse After Free

攻撃者が**解放されたチャンクに情報を書き込む**ことが可能であれば、必要なポインタを上書きするためにこれを悪用できます。

### ダブルフリー

攻撃者が**同じチャンクを2回`free`**できる場合（間に他のチャンクを解放しても可能）、それが**同じビン内で2回**になるようにし、ユーザーが後でそのチャンクを**割り当て**し、必要なポインタを**書き込み**、その後再度**割り当て**することができると、そのチャンクが割り当てられた際のアクション（例：ファストビン攻撃、tcache攻撃など）がトリガーされます。

### ヒープオーバーフロー

割り当てられたチャンクを**オーバーフロー**させ、その隣に解放されたチャンクがある場合、そのヘッダー/ポインタを変更することができるかもしれません。

### 1バイトオーバーフロー

この場合、メモリ内の次のチャンクの**サイズを変更**することが可能になります。攻撃者はこれを悪用して、割り当てられたチャンクをより大きなサイズにすることができ、それを**`free`**して、チャンクが異なるサイズ（より大きい）のビンに**追加**されるようにし、その**偽のサイズ**を割り当て、攻撃者は実際よりも大きなサイズのチャンクにアクセスできるようになり、したがって、オーバーラップしたチャンクの状況が生じ、これは同様に**ヒープオーバーフロー**に悪用できます（前のセクションを確認）。

{% hint style="success" %}
AWSハッキングの学習と練習:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCPハッキングの学習と練習: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksのサポート</summary>

* [**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)をチェック！
* 💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)に参加するか、[**telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**をフォロー**してください。
* **HackTricks**と**HackTricks Cloud**のGitHubリポジトリにPRを提出して、ハッキングテクニックを共有してください。

</details>
{% endhint %}
