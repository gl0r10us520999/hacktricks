# Overwriting a freed chunk

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the**  [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

Kilka z proponowanych technik wykorzystania sterty wymaga mo偶liwoci nadpisania wska藕nik贸w wewntrz zwolnionych fragment贸w. Celem tej strony jest podsumowanie potencjalnych luk, kt贸re mog umo偶liwi ten dostp:

### Proste u偶ycie po zwolnieniu

Jeli atakujcy mo偶e **zapisa informacje w zwolnionym fragmencie**, mo偶e to wykorzysta do nadpisania potrzebnych wska藕nik贸w.

### Podw贸jne zwolnienie

Jeli atakujcy mo偶e **`zwolni` ten sam fragment dwa razy** (zwalniajc inne fragmenty pomidzy) i sprawi, by by **2 razy w tym samym koszu**, u偶ytkownik m贸gby **przydzieli fragment p贸藕niej**, **zapisa potrzebne wska藕niki** i nastpnie **przydzieli go ponownie**, co wywoa dziaania fragmentu przydzielonego (np. atak na szybki kosz, atak tcache...)

### Przepenienie sterty

Mo偶e by mo偶liwe **przepenienie przydzielonego fragmentu majcego obok zwolniony fragment** i modyfikacja niekt贸rych nag贸wk贸w/wska藕nik贸w.

### Przepenienie o jeden

W tym przypadku mo偶liwe byoby **zmodyfikowanie rozmiaru** nastpnego fragmentu w pamici. Atakujcy m贸gby to wykorzysta, aby **sprawi, 偶e przydzielony fragment bdzie mia wikszy rozmiar**, nastpnie **`zwolni`** go, co spowoduje, 偶e fragment zostanie **dodany do kosza o innym** rozmiarze (wikszym), a nastpnie przydzieli **faszywy rozmiar**, a atak uzyska dostp do **fragmentu o rozmiarze, kt贸ry jest wikszy** ni偶 w rzeczywistoci, **co zatem umo偶liwia sytuacj z nakadajcymi si fragmentami**, kt贸ra jest wykorzystywalna w ten sam spos贸b co **przepenienie sterty** (sprawd藕 poprzedni sekcj).

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the**  [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
