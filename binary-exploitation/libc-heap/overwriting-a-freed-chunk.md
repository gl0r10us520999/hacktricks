# Overwriting a freed chunk

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

Kilka z proponowanych technik wykorzystania sterty wymaga możliwości nadpisania wskaźników wewnątrz zwolnionych fragmentów. Celem tej strony jest podsumowanie potencjalnych luk, które mogą umożliwić ten dostęp:

### Proste użycie po zwolnieniu

Jeśli atakujący może **zapisać informacje w zwolnionym fragmencie**, może to wykorzystać do nadpisania potrzebnych wskaźników.

### Podwójne zwolnienie

Jeśli atakujący może **`zwolnić` ten sam fragment dwa razy** (zwalniając inne fragmenty pomiędzy) i sprawić, by był **2 razy w tym samym koszu**, użytkownik mógłby **przydzielić fragment później**, **zapisać potrzebne wskaźniki** i następnie **przydzielić go ponownie**, co wywoła działania fragmentu przydzielonego (np. atak na szybki kosz, atak tcache...)

### Przepełnienie sterty

Może być możliwe **przepełnienie przydzielonego fragmentu mającego obok zwolniony fragment** i modyfikacja niektórych nagłówków/wskaźników.

### Przepełnienie o jeden

W tym przypadku możliwe byłoby **zmodyfikowanie rozmiaru** następnego fragmentu w pamięci. Atakujący mógłby to wykorzystać, aby **sprawić, że przydzielony fragment będzie miał większy rozmiar**, następnie **`zwolnić`** go, co spowoduje, że fragment zostanie **dodany do kosza o innym** rozmiarze (większym), a następnie przydzielić **fałszywy rozmiar**, a atak uzyska dostęp do **fragmentu o rozmiarze, który jest większy** niż w rzeczywistości, **co zatem umożliwia sytuację z nakładającymi się fragmentami**, która jest wykorzystywalna w ten sam sposób co **przepełnienie sterty** (sprawdź poprzednią sekcję).

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
