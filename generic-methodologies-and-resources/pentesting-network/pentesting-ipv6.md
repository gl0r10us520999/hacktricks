{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}


# IPv6 Temel Teori

## AÄŸlar

IPv6 adresleri, aÄŸ organizasyonunu ve cihaz etkileÅŸimini geliÅŸtirmek iÃ§in yapÄ±landÄ±rÄ±lmÄ±ÅŸtÄ±r. Bir IPv6 adresi ÅŸu ÅŸekilde bÃ¶lÃ¼nmÃ¼ÅŸtÃ¼r:

1. **AÄŸ Ã–n Eki**: AÄŸ segmentini belirleyen ilk 48 bit.
2. **Alt AÄŸ KimliÄŸi**: AÄŸ iÃ§indeki belirli alt aÄŸlarÄ± tanÄ±mlamak iÃ§in kullanÄ±lan sonraki 16 bit.
3. **ArayÃ¼z TanÄ±mlayÄ±cÄ±**: Alt aÄŸ iÃ§indeki bir cihazÄ± benzersiz ÅŸekilde tanÄ±mlayan son 64 bit.

IPv6, IPv4'te bulunan ARP protokolÃ¼nÃ¼ atarken, iki ana mesajla **ICMPv6**'yÄ± tanÄ±tÄ±r:
- **KomÅŸu Ä°steÄŸi (NS)**: Adres Ã§Ã¶zÃ¼mÃ¼ iÃ§in Ã§oklu yayÄ±n mesajlarÄ±.
- **KomÅŸu Ä°lanÄ± (NA)**: NS'ye veya kendiliÄŸinden duyurulara tekil yanÄ±tlar.

IPv6 ayrÄ±ca Ã¶zel adres tÃ¼rlerini de iÃ§erir:
- **DÃ¶ngÃ¼ Geri Adresi (`::1`)**: IPv4'Ã¼n `127.0.0.1`'ine eÅŸdeÄŸer, ana bilgisayar iÃ§indeki iletiÅŸim iÃ§in.
- **BaÄŸlantÄ± Yerel Adresleri (`FE80::/10`)**: Yerel aÄŸ etkinlikleri iÃ§in, internet yÃ¶nlendirmesi iÃ§in deÄŸil. AynÄ± yerel aÄŸdaki cihazlar bu aralÄ±k kullanÄ±larak birbirlerini keÅŸfedebilir.

### IPv6'nÄ±n AÄŸ KomutlarÄ±ndaki Pratik KullanÄ±mÄ±

IPv6 aÄŸlarÄ±yla etkileÅŸimde bulunmak iÃ§in Ã§eÅŸitli komutlar kullanabilirsiniz:
- **BaÄŸlantÄ± Yerel Adresleri ile Ping**: `ping6` kullanarak yerel cihazlarÄ±n varlÄ±ÄŸÄ±nÄ± kontrol edin.
- **KomÅŸu KeÅŸfi**: BaÄŸlantÄ± katmanÄ±nda keÅŸfedilen cihazlarÄ± gÃ¶rÃ¼ntÃ¼lemek iÃ§in `ip neigh` kullanÄ±n.
- **alive6**: AynÄ± aÄŸdaki cihazlarÄ± keÅŸfetmek iÃ§in alternatif bir araÃ§.

AÅŸaÄŸÄ±da bazÄ± komut Ã¶rnekleri bulunmaktadÄ±r:
```bash
ping6 â€“I eth0 -c 5 ff02::1 > /dev/null 2>&1
ip neigh | grep ^fe80

# Alternatively, use alive6 for neighbor discovery
alive6 eth0
```
IPv6 adresleri, yerel iletiÅŸim iÃ§in bir cihazÄ±n MAC adresinden tÃ¼retilebilir. Bilinen bir MAC adresinden Link-local IPv6 adresini tÃ¼retmek iÃ§in basitleÅŸtirilmiÅŸ bir kÄ±lavuz ve bir aÄŸ iÃ§inde IPv6 adreslerini keÅŸfetme yÃ¶ntemleri ile IPv6 adres tÃ¼rlerine kÄ±sa bir genel bakÄ±ÅŸ.

## **MAC Adresinden Link-local IPv6 TÃ¼retme**

Verilen bir MAC adresi **`12:34:56:78:9a:bc`**, Link-local IPv6 adresini ÅŸu ÅŸekilde oluÅŸturabilirsiniz:

1. MAC'i IPv6 formatÄ±na Ã§evirin: **`1234:5678:9abc`**
2. `fe80::` ekleyin ve ortasÄ±na `fffe` yerleÅŸtirin: **`fe80::1234:56ff:fe78:9abc`**
3. Soldan yedinci biti ters Ã§evirin, `1234`'Ã¼ `1034` olarak deÄŸiÅŸtirin: **`fe80::1034:56ff:fe78:9abc`**

## **IPv6 Adres TÃ¼rleri**

- **Unique Local Address (ULA)**: Yerel iletiÅŸim iÃ§in, kamu internet yÃ¶nlendirmesi iÃ§in tasarlanmamÄ±ÅŸtÄ±r. Ã–n ek: **`FEC00::/7`**
- **Multicast Address**: Birden bireye iletiÅŸim iÃ§in. Multicast grubundaki tÃ¼m arayÃ¼zlere iletilir. Ã–n ek: **`FF00::/8`**
- **Anycast Address**: Birden en yakÄ±na iletiÅŸim iÃ§in. YÃ¶nlendirme protokolÃ¼ne gÃ¶re en yakÄ±n arayÃ¼ze gÃ¶nderilir. **`2000::/3`** kÃ¼resel unicast aralÄ±ÄŸÄ±nÄ±n bir parÃ§asÄ±dÄ±r.

## **Adres Ã–n Ekleri**
- **fe80::/10**: Link-Local adresler (169.254.x.x'e benzer)
- **fc00::/7**: Unique Local-Unicast (10.x.x.x, 172.16.x.x, 192.168.x.x gibi Ã¶zel IPv4 aralÄ±klarÄ±na benzer)
- **2000::/3**: KÃ¼resel Unicast
- **ff02::1**: Multicast TÃ¼m DÃ¼ÄŸÃ¼mler
- **ff02::2**: Multicast YÃ¶nlendirici DÃ¼ÄŸÃ¼mleri

## **AÄŸ Ä°Ã§inde IPv6 Adreslerini KeÅŸfetme**

### Yol 1: Link-local Adresleri Kullanarak
1. AÄŸ iÃ§indeki bir cihazÄ±n MAC adresini edinin.
2. MAC adresinden Link-local IPv6 adresini tÃ¼retin.

### Yol 2: Multicast Kullanarak
1. Yerel aÄŸda IPv6 adreslerini keÅŸfetmek iÃ§in `ff02::1` multicast adresine ping gÃ¶nderin.
```bash
service ufw stop # Stop the firewall
ping6 -I <IFACE> ff02::1 # Send a ping to multicast address
ip -6 neigh # Display the neighbor table
```
## IPv6 Man-in-the-Middle (MitM) SaldÄ±rÄ±larÄ±
IPv6 aÄŸlarÄ±nda MitM saldÄ±rÄ±larÄ±nÄ± gerÃ§ekleÅŸtirmek iÃ§in birkaÃ§ teknik bulunmaktadÄ±r, bunlar arasÄ±nda:

- ICMPv6 komÅŸu veya yÃ¶nlendirici reklamlarÄ±nÄ± sahtelemek.
- YÃ¶nlendirmeyi manipÃ¼le etmek iÃ§in ICMPv6 yÃ¶nlendirme veya "Paket Ã‡ok BÃ¼yÃ¼k" mesajlarÄ±nÄ± kullanmak.
- Mobil IPv6'ya saldÄ±rmak (genellikle IPSec'in devre dÄ±ÅŸÄ± bÄ±rakÄ±lmasÄ±nÄ± gerektirir).
- Sahte bir DHCPv6 sunucusu kurmak.


# IPv6 Adreslerini Belirleme

## Alt Alan AdlarÄ±nÄ± KeÅŸfetme
IPv6 adresleriyle potansiyel olarak baÄŸlantÄ±lÄ± alt alan adlarÄ±nÄ± bulmanÄ±n bir yÃ¶ntemi, arama motorlarÄ±ndan yararlanmaktÄ±r. Ã–rneÄŸin, `ipv6.*` gibi bir sorgu deseni kullanmak etkili olabilir. Ã–zellikle, Google'da ÅŸu arama komutu kullanÄ±labilir:
```bash
site:ipv6./
```
## DNS SorgularÄ±nÄ± Kullanma
IPv6 adreslerini tanÄ±mlamak iÃ§in belirli DNS kayÄ±t tÃ¼rleri sorgulanabilir:
- **AXFR**: Tam bir alan transferi talep eder, potansiyel olarak geniÅŸ bir DNS kayÄ±t yelpazesini ortaya Ã§Ä±karabilir.
- **AAAA**: DoÄŸrudan IPv6 adreslerini arar.
- **ANY**: TÃ¼m mevcut DNS kayÄ±tlarÄ±nÄ± dÃ¶ndÃ¼ren geniÅŸ bir sorgu.

## Ping6 ile Test Etme
Bir organizasyonla iliÅŸkili IPv6 adresleri belirlendikten sonra, `ping6` aracÄ± kullanÄ±labilir. Bu araÃ§, belirlenen IPv6 adreslerinin yanÄ±t verebilirliÄŸini deÄŸerlendirmeye yardÄ±mcÄ± olur ve ayrÄ±ca komÅŸu IPv6 cihazlarÄ±nÄ± keÅŸfetmeye de yardÄ±mcÄ± olabilir.

## Referanslar

* [http://www.firewall.cx/networking-topics/protocols/877-ipv6-subnetting-how-to-subnet-ipv6.html](http://www.firewall.cx/networking-topics/protocols/877-ipv6-subnetting-how-to-subnet-ipv6.html)
* [https://www.sans.org/reading-room/whitepapers/detection/complete-guide-ipv6-attack-defense-33904](https://www.sans.org/reading-room/whitepapers/detection/complete-guide-ipv6-attack-defense-33904)


{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
