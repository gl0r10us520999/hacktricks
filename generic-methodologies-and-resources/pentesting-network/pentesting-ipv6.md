{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}


# IPv6 åŸºæœ¬ç†è«–

## ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯

IPv6 ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®çµ„ç¹”åŒ–ã¨ãƒ‡ãƒã‚¤ã‚¹ã®ç›¸äº’ä½œç”¨ã‚’å¼·åŒ–ã™ã‚‹ã‚ˆã†ã«æ§‹é€ åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚IPv6 ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯æ¬¡ã®ã‚ˆã†ã«åˆ†ã‹ã‚Œã¦ã„ã¾ã™ï¼š

1. **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹**ï¼šæœ€åˆã® 48 ãƒ“ãƒƒãƒˆã§ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’æ±ºå®šã—ã¾ã™ã€‚
2. **ã‚µãƒ–ãƒãƒƒãƒˆ ID**ï¼šæ¬¡ã® 16 ãƒ“ãƒƒãƒˆã§ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†…ã®ç‰¹å®šã®ã‚µãƒ–ãƒãƒƒãƒˆã‚’å®šç¾©ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
3. **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è­˜åˆ¥å­**ï¼šæœ€å¾Œã® 64 ãƒ“ãƒƒãƒˆã§ã€ã‚µãƒ–ãƒãƒƒãƒˆå†…ã®ãƒ‡ãƒã‚¤ã‚¹ã‚’ä¸€æ„ã«è­˜åˆ¥ã—ã¾ã™ã€‚

IPv6 ã¯ã€IPv4 ã«è¦‹ã‚‰ã‚Œã‚‹ ARP ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’çœç•¥ã—ã¦ã„ã¾ã™ãŒã€2 ã¤ã®ä¸»è¦ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŒã¤ **ICMPv6** ã‚’å°å…¥ã—ã¦ã„ã¾ã™ï¼š
- **éš£æ¥è¦æ±‚ (NS)**ï¼šã‚¢ãƒ‰ãƒ¬ã‚¹è§£æ±ºã®ãŸã‚ã®ãƒãƒ«ãƒã‚­ãƒ£ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€‚
- **éš£æ¥åºƒå‘Š (NA)**ï¼šNS ã¸ã®ãƒ¦ãƒ‹ã‚­ãƒ£ã‚¹ãƒˆå¿œç­”ã¾ãŸã¯è‡ªç™ºçš„ãªé€šçŸ¥ã€‚

IPv6 ã«ã¯ç‰¹åˆ¥ãªã‚¢ãƒ‰ãƒ¬ã‚¹ã‚¿ã‚¤ãƒ—ã‚‚å«ã¾ã‚Œã¦ã„ã¾ã™ï¼š
- **ãƒ«ãƒ¼ãƒ—ãƒãƒƒã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹ (`::1`)**ï¼šIPv4 ã® `127.0.0.1` ã«ç›¸å½“ã—ã€ãƒ›ã‚¹ãƒˆå†…ã®å†…éƒ¨é€šä¿¡ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
- **ãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ (`FE80::/10`)**ï¼šãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ´»å‹•ç”¨ã§ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ã¯ä½¿ç”¨ã•ã‚Œã¾ã›ã‚“ã€‚åŒã˜ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã®ãƒ‡ãƒã‚¤ã‚¹ã¯ã€ã“ã®ç¯„å›²ã‚’ä½¿ç”¨ã—ã¦äº’ã„ã«ç™ºè¦‹ã§ãã¾ã™ã€‚

### ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚³ãƒãƒ³ãƒ‰ã«ãŠã‘ã‚‹ IPv6 ã®å®Ÿç”¨çš„ãªä½¿ç”¨æ³•

IPv6 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨å¯¾è©±ã™ã‚‹ãŸã‚ã«ã€ã•ã¾ã–ã¾ãªã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã§ãã¾ã™ï¼š
- **ãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã® Ping**ï¼š`ping6` ã‚’ä½¿ç”¨ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒã‚¤ã‚¹ã®å­˜åœ¨ã‚’ç¢ºèªã—ã¾ã™ã€‚
- **éš£æ¥ç™ºè¦‹**ï¼š`ip neigh` ã‚’ä½¿ç”¨ã—ã¦ãƒªãƒ³ã‚¯å±¤ã§ç™ºè¦‹ã•ã‚ŒãŸãƒ‡ãƒã‚¤ã‚¹ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
- **alive6**ï¼šåŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã®ãƒ‡ãƒã‚¤ã‚¹ã‚’ç™ºè¦‹ã™ã‚‹ãŸã‚ã®ä»£æ›¿ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

ä»¥ä¸‹ã¯ã‚³ãƒãƒ³ãƒ‰ã®ä¾‹ã§ã™ï¼š
```bash
ping6 â€“I eth0 -c 5 ff02::1 > /dev/null 2>&1
ip neigh | grep ^fe80

# Alternatively, use alive6 for neighbor discovery
alive6 eth0
```
IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«é€šä¿¡ã®ãŸã‚ã«ãƒ‡ãƒã‚¤ã‚¹ã®MACã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰å°å‡ºã§ãã¾ã™ã€‚ä»¥ä¸‹ã¯ã€æ—¢çŸ¥ã®MACã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å°å‡ºã™ã‚‹ãŸã‚ã®ç°¡ç•¥åŒ–ã•ã‚ŒãŸã‚¬ã‚¤ãƒ‰ã¨ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†…ã®IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ç¨®é¡ã¨ç™ºè¦‹æ–¹æ³•ã®ç°¡å˜ãªæ¦‚è¦ã§ã™ã€‚

## **MACã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«IPv6ã‚’å°å‡ºã™ã‚‹**

MACã‚¢ãƒ‰ãƒ¬ã‚¹ **`12:34:56:78:9a:bc`** ãŒä¸ãˆã‚‰ã‚ŒãŸå ´åˆã€ãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æ¬¡ã®ã‚ˆã†ã«æ§‹ç¯‰ã§ãã¾ã™ï¼š

1. MACã‚’IPv6å½¢å¼ã«å¤‰æ›ï¼š **`1234:5678:9abc`**
2. `fe80::`ã‚’å‰ã«ä»˜ã‘ã€ä¸­é–“ã«`fffe`ã‚’æŒ¿å…¥ï¼š **`fe80::1234:56ff:fe78:9abc`**
3. å·¦ã‹ã‚‰7ãƒ“ãƒƒãƒˆã‚’åè»¢ã—ã€`1234`ã‚’`1034`ã«å¤‰æ›´ï¼š **`fe80::1034:56ff:fe78:9abc`**

## **IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ç¨®é¡**

- **ãƒ¦ãƒ‹ãƒ¼ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ (ULA)**ï¼šãƒ­ãƒ¼ã‚«ãƒ«é€šä¿¡ã®ãŸã‚ã®ã‚‚ã®ã§ã€å…¬å…±ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ã¯ä½¿ç”¨ã•ã‚Œã¾ã›ã‚“ã€‚ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ï¼š **`FEC00::/7`**
- **ãƒãƒ«ãƒã‚­ãƒ£ã‚¹ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹**ï¼š1å¯¾å¤šã®é€šä¿¡ã®ãŸã‚ã®ã‚‚ã®ã€‚ãƒãƒ«ãƒã‚­ãƒ£ã‚¹ãƒˆã‚°ãƒ«ãƒ¼ãƒ—å†…ã®ã™ã¹ã¦ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«é…ä¿¡ã•ã‚Œã¾ã™ã€‚ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ï¼š **`FF00::/8`**
- **ã‚¨ãƒ‹ã‚­ãƒ£ã‚¹ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹**ï¼š1å¯¾æœ€å¯„ã‚Šã®é€šä¿¡ã®ãŸã‚ã®ã‚‚ã®ã€‚ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã«å¾“ã£ã¦æœ€ã‚‚è¿‘ã„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«é€ä¿¡ã•ã‚Œã¾ã™ã€‚**`2000::/3`** ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ¦ãƒ‹ã‚­ãƒ£ã‚¹ãƒˆç¯„å›²ã®ä¸€éƒ¨ã§ã™ã€‚

## **ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹**
- **fe80::/10**ï¼šãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆ169.254.x.xã«é¡ä¼¼ï¼‰
- **fc00::/7**ï¼šãƒ¦ãƒ‹ãƒ¼ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¦ãƒ‹ã‚­ãƒ£ã‚¹ãƒˆï¼ˆãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆIPv4ç¯„å›²ã®10.x.x.xã€172.16.x.xã€192.168.x.xã«é¡ä¼¼ï¼‰
- **2000::/3**ï¼šã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ¦ãƒ‹ã‚­ãƒ£ã‚¹ãƒˆ
- **ff02::1**ï¼šãƒãƒ«ãƒã‚­ãƒ£ã‚¹ãƒˆå…¨ãƒãƒ¼ãƒ‰
- **ff02::2**ï¼šãƒãƒ«ãƒã‚­ãƒ£ã‚¹ãƒˆãƒ«ãƒ¼ã‚¿ãƒ¼ãƒãƒ¼ãƒ‰

## **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†…ã®IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ç™ºè¦‹**

### æ–¹æ³•1ï¼šãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä½¿ç”¨
1. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†…ã®ãƒ‡ãƒã‚¤ã‚¹ã®MACã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å–å¾—ã—ã¾ã™ã€‚
2. MACã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ãƒªãƒ³ã‚¯ãƒ­ãƒ¼ã‚«ãƒ«IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å°å‡ºã—ã¾ã™ã€‚

### æ–¹æ³•2ï¼šãƒãƒ«ãƒã‚­ãƒ£ã‚¹ãƒˆã‚’ä½¿ç”¨
1. ãƒãƒ«ãƒã‚­ãƒ£ã‚¹ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹ `ff02::1` ã«pingã‚’é€ä¿¡ã—ã¦ã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã®IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç™ºè¦‹ã—ã¾ã™ã€‚
```bash
service ufw stop # Stop the firewall
ping6 -I <IFACE> ff02::1 # Send a ping to multicast address
ip -6 neigh # Display the neighbor table
```
## IPv6 Man-in-the-Middle (MitM) Attacks
IPv6ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§MitMæ”»æ’ƒã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®ã„ãã¤ã‹ã®æŠ€è¡“ãŒå­˜åœ¨ã—ã¾ã™ã€‚ä¾‹ãˆã°ï¼š

- ICMPv6éš£æ¥ã¾ãŸã¯ãƒ«ãƒ¼ã‚¿ãƒ¼åºƒå‘Šã®ã‚¹ãƒ—ãƒ¼ãƒ•ã‚£ãƒ³ã‚°ã€‚
- ICMPv6ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã¾ãŸã¯ã€Œãƒ‘ã‚±ãƒƒãƒˆãŒå¤§ãã™ãã¾ã™ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¦ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’æ“ä½œã™ã‚‹ã€‚
- ãƒ¢ãƒã‚¤ãƒ«IPv6ã‚’æ”»æ’ƒã™ã‚‹ï¼ˆé€šå¸¸ã€IPSecã‚’ç„¡åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼‰ã€‚
- æ‚ªæ„ã®ã‚ã‚‹DHCPv6ã‚µãƒ¼ãƒãƒ¼ã‚’è¨­å®šã™ã‚‹ã€‚

# Identifying IPv6 Addresses in the eild

## Exploring Subdomains
IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã«é–¢é€£ã™ã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è¦‹ã¤ã‘ã‚‹æ–¹æ³•ã¯ã€æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§ã™ã€‚ä¾‹ãˆã°ã€`ipv6.*`ã®ã‚ˆã†ãªã‚¯ã‚¨ãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒåŠ¹æœçš„ã§ã™ã€‚å…·ä½“çš„ã«ã¯ã€æ¬¡ã®æ¤œç´¢ã‚³ãƒãƒ³ãƒ‰ã‚’Googleã§ä½¿ç”¨ã§ãã¾ã™ï¼š
```bash
site:ipv6./
```
## DNSã‚¯ã‚¨ãƒªã®åˆ©ç”¨
IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç‰¹å®šã™ã‚‹ãŸã‚ã«ã€ç‰¹å®šã®DNSãƒ¬ã‚³ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—ã‚’ã‚¯ã‚¨ãƒªã§ãã¾ã™ï¼š
- **AXFR**: å®Œå…¨ãªã‚¾ãƒ¼ãƒ³è»¢é€ã‚’è¦æ±‚ã—ã€åºƒç¯„å›²ã®DNSãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’æ˜ã‚‰ã‹ã«ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
- **AAAA**: IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç›´æ¥æ¢ã—ã¾ã™ã€‚
- **ANY**: åˆ©ç”¨å¯èƒ½ãªã™ã¹ã¦ã®DNSãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’è¿”ã™åºƒç¯„ãªã‚¯ã‚¨ãƒªã§ã™ã€‚

## Ping6ã«ã‚ˆã‚‹ãƒ—ãƒ­ãƒ¼ãƒ“ãƒ³ã‚°
çµ„ç¹”ã«é–¢é€£ã™ã‚‹IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç‰¹å®šã—ãŸå¾Œã€`ping6`ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’ä½¿ç”¨ã—ã¦ãƒ—ãƒ­ãƒ¼ãƒ“ãƒ³ã‚°ã§ãã¾ã™ã€‚ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ã€ç‰¹å®šã•ã‚ŒãŸIPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã®å¿œç­”æ€§ã‚’è©•ä¾¡ã™ã‚‹ã®ã«å½¹ç«‹ã¡ã€éš£æ¥ã™ã‚‹IPv6ãƒ‡ãƒã‚¤ã‚¹ã‚’ç™ºè¦‹ã™ã‚‹ã®ã«ã‚‚å½¹ç«‹ã¤ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

## å‚è€ƒæ–‡çŒ®

* [http://www.firewall.cx/networking-topics/protocols/877-ipv6-subnetting-how-to-subnet-ipv6.html](http://www.firewall.cx/networking-topics/protocols/877-ipv6-subnetting-how-to-subnet-ipv6.html)
* [https://www.sans.org/reading-room/whitepapers/detection/complete-guide-ipv6-attack-defense-33904](https://www.sans.org/reading-room/whitepapers/detection/complete-guide-ipv6-attack-defense-33904)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
