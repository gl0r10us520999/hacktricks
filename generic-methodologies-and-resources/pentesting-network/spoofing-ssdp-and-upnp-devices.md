# Spoofing SSDP i UPnP uređaja sa EvilSSDP

{% hint style="success" %}
Učite i vežbajte AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Učite i vežbajte GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Podržite HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitteru** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakerske trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}

**Proverite [https://www.hackingarticles.in/evil-ssdp-spoofing-the-ssdp-and-upnp-devices/](https://www.hackingarticles.in/evil-ssdp-spoofing-the-ssdp-and-upnp-devices/) za dodatne informacije.**

## **Pregled SSDP i UPnP**

SSDP (Protokol za jednostavno otkrivanje usluga) se koristi za oglašavanje i otkrivanje mrežnih usluga, radi na UDP portu 1900 bez potrebe za DHCP ili DNS konfiguracijama. Osnovni je deo UPnP (Univerzalno povezivanje i reprodukcija) arhitekture, olakšavajući neometanu interakciju među mrežnim uređajima kao što su PC, štampači i mobilni uređaji. UPnP-ova mreža bez konfiguracije podržava otkrivanje uređaja, dodeljivanje IP adresa i oglašavanje usluga.

## **Tok i struktura UPnP**

UPnP arhitektura se sastoji od šest slojeva: adresiranje, otkrivanje, opis, kontrola, događaji i prezentacija. U početku, uređaji pokušavaju da dobiju IP adresu ili da je sami dodele (AutoIP). Faza otkrivanja uključuje SSDP, pri čemu uređaji aktivno šalju M-SEARCH zahteve ili pasivno emitiraju NOTIFY poruke kako bi najavili usluge. Kontrolni sloj, koji je ključan za interakciju klijent-uređaj, koristi SOAP poruke za izvršavanje komandi na osnovu opisa uređaja u XML datotekama.

## **Pregled IGD i alata**

IGD (Internet Gateway Device) olakšava privremeno mapiranje portova u NAT podešavanjima, omogućavajući prihvatanje komandi putem otvorenih SOAP kontrolnih tačaka uprkos standardnim WAN interfejsnim ograničenjima. Alati kao što su **Miranda** pomažu u otkrivanju UPnP usluga i izvršavanju komandi. **Umap** izlaže WAN-pristupačne UPnP komande, dok repozitorijumi kao što su **upnp-arsenal** nude niz UPnP alata. **Evil SSDP** se specijalizuje za phishing putem lažiranih UPnP uređaja, nudeći šablone za imitaciju legitimnih usluga.

## **Praktična upotreba Evil SSDP**

Evil SSDP efikasno stvara uverljive lažne UPnP uređaje, manipulišući korisnicima da komuniciraju sa naizgled autentičnim uslugama. Korisnici, prevareni stvarnim izgledom, mogu pružiti osetljive informacije kao što su akreditivi. Svestranost alata se proteže na različite šablone, imitujući usluge kao što su skeneri, Office365, pa čak i trezori za lozinke, koristeći poverenje korisnika i vidljivost mreže. Nakon hvatanja akreditiva, napadači mogu preusmeriti žrtve na određene URL-ove, održavajući kredibilitet obmane.

## **Strategije ublažavanja**

Da bi se suprotstavili ovim pretnjama, preporučene mere uključuju:

- Onemogućavanje UPnP na uređajima kada nije potrebno.
- Obrazovanje korisnika o phishingu i mrežnoj bezbednosti.
- Praćenje mrežnog saobraćaja za nešifrovane osetljive podatke.

U suštini, dok UPnP nudi pogodnost i fluidnost mreže, takođe otvara vrata potencijalnoj eksploataciji. Svest i proaktivna odbrana su ključni za očuvanje integriteta mreže.

{% hint style="success" %}
Učite i vežbajte AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Učite i vežbajte GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Podržite HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitteru** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakerske trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}
