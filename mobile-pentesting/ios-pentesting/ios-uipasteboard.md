{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


iOS рдЙрдкрдХрд░рдгреЛрдВ рдкрд░ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рднреАрддрд░ рдФрд░ рдЙрдирдХреЗ рдмреАрдЪ рдбреЗрдЯрд╛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ [`UIPasteboard`](https://developer.apple.com/documentation/uikit/uipasteboard) рддрдВрддреНрд░ рджреНрд╡рд╛рд░рд╛ рдХреА рдЬрд╛рддреА рд╣реИ, рдЬрд┐рд╕реЗ рджреЛ рдореБрдЦреНрдп рд╢реНрд░реЗрдгрд┐рдпреЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ:

- **рд╕рд┐рд╕реНрдЯрдорд╡реНрдпрд╛рдкреА рд╕рд╛рдорд╛рдиреНрдп рдкреЗрд╕реНрдЯрдмреЛрд░реНрдб**: рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ **рдХрд┐рд╕реА рднреА рдЕрдиреБрдкреНрд░рдпреЛрдЧ** рдХреЗ рд╕рд╛рде рдбреЗрдЯрд╛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рдкреБрдирд░рд╛рд░рдВрдн рдФрд░ рдРрдк рдЕрдирдЗрдВрд╕реНрдЯреЙрд▓ рдХреЗ рджреМрд░рд╛рди рдбреЗрдЯрд╛ рдХреЛ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдпрд╣ рд╕реБрд╡рд┐рдзрд╛ iOS 10 рд╕реЗ рдЙрдкрд▓рдмреНрдз рд╣реИред
- **рдХрд╕реНрдЯрдо / рдирд╛рдорд┐рдд рдкреЗрд╕реНрдЯрдмреЛрд░реНрдб**: рдпреЗ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ **рдПрдХ рдРрдк рдХреЗ рднреАрддрд░ рдпрд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рдРрдк рдХреЗ рд╕рд╛рде** рдбреЗрдЯрд╛ рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ рд╕рдорд╛рди рдЯреАрдо рдЖрдИрдбреА рд╕рд╛рдЭрд╛ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдЗрдиреНрд╣реЗрдВ рдЙрди рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдЬреАрд╡рди рд╕реЗ рдкрд░реЗ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдЬреЛ рдЗрдиреНрд╣реЗрдВ рдмрдирд╛рддреЗ рд╣реИрдВ, рдЬреЛ iOS 10 рдореЗрдВ рдХрд┐рдП рдЧрдП рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рддреЗ рд╣реИрдВред

**рд╕реБрд░рдХреНрд╖рд╛ рд╡рд┐рдЪрд╛рд░** рдкреЗрд╕реНрдЯрдмреЛрд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рдорд╣рддреНрд╡рдкреВрд░реНрдг рднреВрдорд┐рдХрд╛ рдирд┐рднрд╛рддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП:
- рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП **рдкреЗрд╕реНрдЯрдмреЛрд░реНрдб** рддрдХ рдкрд╣реБрдВрдЪ рдХреЗ рд▓рд┐рдП рдРрдк рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдХреЛрдИ рддрдВрддреНрд░ рдирд╣реАрдВ рд╣реИред
- рдкреЗрд╕реНрдЯрдмреЛрд░реНрдб рдХреА рдЕрдирдзрд┐рдХреГрдд рдкреГрд╖реНрдарднреВрдорд┐ рдирд┐рдЧрд░рд╛рдиреА рдХреЗ рдЬреЛрдЦрд┐рдо рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкрд╣реБрдВрдЪ рдХреЛ рддрдм рддрдХ рд╕реАрдорд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдЬрдм рддрдХ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдЕрдЧреНрд░рднреВрдорд┐ рдореЗрдВ рд╣реИ (iOS 9 рд╕реЗ)ред
- рдЧреЛрдкрдиреАрдпрддрд╛ рдЪрд┐рдВрддрд╛рдУрдВ рдХреЗ рдХрд╛рд░рдг рд╕рд╛рдЭрд╛ рдХрдВрдЯреЗрдирд░реЛрдВ рдХреЗ рдкрдХреНрд╖ рдореЗрдВ рд╕реНрдерд╛рдпреА рдирд╛рдорд┐рдд рдкреЗрд╕реНрдЯрдмреЛрд░реНрдб рдХреЗ рдЙрдкрдпреЛрдЧ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдирд╣реАрдВ рдХреА рдЬрд╛рддреА рд╣реИред
- iOS 10 рдХреЗ рд╕рд╛рде рдкреЗрд╢ рдХреА рдЧрдИ **рдпреВрдирд┐рд╡рд░реНрд╕рд▓ рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб** рд╕реБрд╡рд┐рдзрд╛, рдЬреЛ рд╕рд╛рдорд╛рдиреНрдп рдкреЗрд╕реНрдЯрдмреЛрд░реНрдб рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рдмреАрдЪ рд╕рд╛рдордЧреНрд░реА рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ, рдбреЗрд╡рд▓рдкрд░реНрд╕ рджреНрд╡рд╛рд░рд╛ рдбреЗрдЯрд╛ рд╕рдорд╛рдкреНрддрд┐ рд╕реЗрдЯ рдХрд░рдиреЗ рдФрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╕рд╛рдордЧреНрд░реА рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рдмрдВрдзрд┐рдд рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред

рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдирд╛ рдХрд┐ **рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдЕрдирдЬрд╛рдиреЗ рдореЗрдВ** рд╡реИрд╢реНрд╡рд┐рдХ рдкреЗрд╕реНрдЯрдмреЛрд░реНрдб рдкрд░ рд╕рдВрдЧреНрд░рд╣реАрдд рдирд╣реАрдВ рд╣реЛ, рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЛ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рд╡реИрд╢реНрд╡рд┐рдХ рдкреЗрд╕реНрдЯрдмреЛрд░реНрдб рдбреЗрдЯрд╛ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдЕрдирдкреЗрдХреНрд╖рд┐рдд рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рди рд╣реЛ, рдФрд░ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдкрд░ рдХреЙрдкреА рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрд╛рдп рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░реЛрддреНрд╕рд╛рд╣рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

### рд╕реНрдереИрддрд┐рдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг

рд╕реНрдереИрддрд┐рдХ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд▓рд┐рдП, рд╕реНрд░реЛрдд рдХреЛрдб рдпрд╛ рдмрд╛рдЗрдирд░реА рдореЗрдВ рдЦреЛрдЬреЗрдВ:
- `generalPasteboard` рдХрд╛ рдЙрдкрдпреЛрдЧ **рд╕рд┐рд╕реНрдЯрдорд╡реНрдпрд╛рдкреА рд╕рд╛рдорд╛рдиреНрдп рдкреЗрд╕реНрдЯрдмреЛрд░реНрдб** рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред
- `pasteboardWithName:create:` рдФрд░ `pasteboardWithUniqueName` рдХрд╛ рдЙрдкрдпреЛрдЧ **рдХрд╕реНрдЯрдо рдкреЗрд╕реНрдЯрдмреЛрд░реНрдб** рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдПред рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдХреНрдпрд╛ рд╕реНрдерд┐рд░рддрд╛ рд╕рдХреНрд╖рдо рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ рдЕрдкреНрд░рдЪрд▓рд┐рдд рд╣реИред

### рдЧрддрд┐рд╢реАрд▓ рд╡рд┐рд╢реНрд▓реЗрд╖рдг

рдЧрддрд┐рд╢реАрд▓ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдореЗрдВ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рд╣реБрдХ рдХрд░рдирд╛ рдпрд╛ рдЯреНрд░реЗрд╕ рдХрд░рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ:
- рд╕рд┐рд╕реНрдЯрдо-рд╡реНрдпрд╛рдкреА рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП `generalPasteboard` рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░реЗрдВред
- рдХрд╕реНрдЯрдо рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд▓рд┐рдП `pasteboardWithName:create:` рдФрд░ `pasteboardWithUniqueName` рдХреЛ рдЯреНрд░реЗрд╕ рдХрд░реЗрдВред
- рд╕реНрдерд┐рд░рддрд╛ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреА рдЬрд╛рдВрдЪ рдХреЗ рд▓рд┐рдП рдЕрдкреНрд░рдЪрд▓рд┐рдд `setPersistent:` рд╡рд┐рдзрд┐ рдХреЙрд▓ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░реЗрдВред

рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рдореБрдЦ рд╡рд┐рд╡рд░рдг рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ:
- **рдкреЗрд╕реНрдЯрдмреЛрд░реНрдб рдирд╛рдо** рдФрд░ **рд╕рд╛рдордЧреНрд░реА** (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╕реНрдЯреНрд░рд┐рдВрдЧ, рдпреВрдЖрд░рдПрд▓, рдЫрд╡рд┐рдпреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛)ред
- **рдЖрдЗрдЯрдо рдХреА рд╕рдВрдЦреНрдпрд╛** рдФрд░ **рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░** рдЬреЛ рдореМрдЬреВрдж рд╣реИрдВ, рдорд╛рдирдХ рдФрд░ рдХрд╕реНрдЯрдо рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░ рдЬрд╛рдВрдЪ рдХрд╛ рд▓рд╛рдн рдЙрдард╛рддреЗ рд╣реБрдПред
- `setItems:options:` рд╡рд┐рдзрд┐ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдХреЗ **рд╕рдорд╛рдкреНрддрд┐ рдФрд░ рд╕реНрдерд╛рдиреАрдп-рдХреЗрд╡рд▓ рд╡рд┐рдХрд▓реНрдк**ред

рдирд┐рдЧрд░рд╛рдиреА рдЙрдкрдХрд░рдг рдХреЗ рдЙрдкрдпреЛрдЧ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг **objection рдХрд╛ рдкреЗрд╕реНрдЯрдмреЛрд░реНрдб рдореЙрдирд┐рдЯрд░** рд╣реИ, рдЬреЛ рд╣рд░ 5 рд╕реЗрдХрдВрдб рдореЗрдВ generalPasteboard рдХреЗ рд▓рд┐рдП рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдирдП рдбреЗрдЯрд╛ рдХреЛ рдЖрдЙрдЯрдкреБрдЯ рдХрд░рддрд╛ рд╣реИред

рдпрд╣рд╛рдВ рдПрдХ рд╕рд░рд▓ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдЙрджрд╛рд╣рд░рдг рд╣реИ, рдЬреЛ objection рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рдкреНрд░реЗрд░рд┐рдд рд╣реИ, рдЬреЛ рд╣рд░ 5 рд╕реЗрдХрдВрдб рдореЗрдВ рдкреЗрд╕реНрдЯрдмреЛрд░реНрдб рд╕реЗ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рдкрдврд╝рддрд╛ рдФрд░ рд▓реЙрдЧ рдХрд░рддрд╛ рд╣реИ:
```javascript
const UIPasteboard = ObjC.classes.UIPasteboard;
const Pasteboard = UIPasteboard.generalPasteboard();
var items = "";
var count = Pasteboard.changeCount().toString();

setInterval(function () {
const currentCount = Pasteboard.changeCount().toString();
const currentItems = Pasteboard.items().toString();

if (currentCount === count) { return; }

items = currentItems;
count = currentCount;

console.log('[* Pasteboard changed] count: ' + count +
' hasStrings: ' + Pasteboard.hasStrings().toString() +
' hasURLs: ' + Pasteboard.hasURLs().toString() +
' hasImages: ' + Pasteboard.hasImages().toString());
console.log(items);

}, 1000 * 5);
```
## рд╕рдВрджрд░реНрдн

* [https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8](https://mobile-security.gitbook.io/mobile-security-testing-guide/ios-testing-guide/0x06h-testing-platform-interaction#testing-object-persistence-mstg-platform-8)
* [https://hackmd.io/@robihamanto/owasp-robi](https://hackmd.io/@robihamanto/owasp-robi)
* [https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0073/](https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0073/)

<figure><img src="https://pentest.eu/RENDER_WebSec_10fps_21sec_9MB_29042024.gif" alt=""><figcaption></figcaption></figure>

{% embed url="https://websec.nl/" %}


{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдБ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* **рд╣рдорд╛рд░реЗ** ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**telegram рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ **Twitter** ЁЯРж рдкрд░ рд╣рдореЗрдВ **рдлреЙрд▓реЛ** рдХрд░реЗрдВ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдЧрд┐рдЯрд╣рдм рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА рдореЗрдВ PR рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВред

</details>
{% endhint %}
