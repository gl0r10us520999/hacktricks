# IzvlaÄenje OvlaÅ¡Ä‡enja iz Kompajlirane Aplikacije

{% hint style="success" %}
UÄite i veÅ¾bajte AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
UÄite i veÅ¾bajte GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>PodrÅ¾ite HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitteru** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakerske trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}


SaÅ¾etak stranice [https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0069/#review-entitlements-embedded-in-the-compiled-app-binary](https://mas.owasp.org/MASTG/tests/ios/MASVS-PLATFORM/MASTG-TEST-0069/#review-entitlements-embedded-in-the-compiled-app-binary)

### **IzvlaÄenje OvlaÅ¡Ä‡enja i Mobilnih Provision Fajlova**

Kada se radi sa IPA aplikacijom ili instaliranom aplikacijom na jailbroken ureÄ‘aju, pronalaÅ¾enje `.entitlements` fajlova ili `embedded.mobileprovision` fajla direktno moÅ¾da neÄ‡e biti moguÄ‡e. MeÄ‘utim, liste svojstava ovlaÅ¡Ä‡enja se i dalje mogu izvuÄ‡i iz binarnog fajla aplikacije, prateÄ‡i procedure opisane u poglavlju "iOS Osnovno Testiranje Bezbednosti", posebno u odeljku "Sticanje Binarne Aplikacije".

ÄŒak i sa enkriptovanim binarnim fajlovima, odreÄ‘eni koraci se mogu primeniti za izvlaÄenje ovih fajlova. Ako ovi koraci ne uspeju, alati kao Å¡to su Clutch (ako je kompatibilan sa verzijom iOS-a), frida-ios-dump ili sliÄne utilite mogu biti potrebni za dekripciju i ekstrakciju aplikacije.

#### **IzvlaÄenje Plist-a OvlaÅ¡Ä‡enja iz Binarne Aplikacije**

Sa binarnim fajlom aplikacije dostupnim na raÄunaru, **binwalk** se moÅ¾e koristiti za izvlaÄenje svih XML fajlova. Komanda ispod prikazuje kako to uÄiniti:
```bash
$ binwalk -e -y=xml ./Telegram\ X

DECIMAL       HEXADECIMAL     DESCRIPTION
--------------------------------------------------------------------------------
1430180       0x15D2A4        XML document, version: "1.0"
1458814       0x16427E        XML document, version: "1.0"
```
Alternativno, **radare2** moÅ¾e biti koriÅ¡Ä‡en za tiho pokretanje komande i izlazak, traÅ¾eÄ‡i sve stringove u binarnom fajlu aplikacije koji sadrÅ¾e "PropertyList":
```bash
$ r2 -qc 'izz~PropertyList' ./Telegram\ X

0x0015d2a4 ascii <?xml version="1.0" encoding="UTF-8" standalone="yes"?>...
0x0016427d ascii H<?xml version="1.0" encoding="UTF-8"?>...
```
Obe metode, binwalk i radare2, omoguÄ‡avaju ekstrakciju `plist` fajlova, pri Äemu inspekcija prvog (0x0015d2a4) otkriva uspeÅ¡no vraÄ‡anje [originalnog fajla sa pravima iz Telegrama](https://github.com/peter-iakovlev/Telegram-iOS/blob/77ee5c4dabdd6eb5f1e2ff76219edf7e18b45c00/Telegram-iOS/Telegram-iOS-AppStoreLLC.entitlements).

Za aplikacione binarne fajlove pristupene na jailbreakovanim ureÄ‘ajima (npr. putem SSH), **grep** komanda sa `-a, --text` flagom moÅ¾e se koristiti da se svi fajlovi tretiraju kao ASCII tekst:
```bash
$ grep -a -A 5 'PropertyList' /var/containers/Bundle/Application/...
```
PodeÅ¡avanje `-A num, --after-context=num` zastavice omoguÄ‡ava prikaz viÅ¡e ili manje linija. Ova metoda je izvodljiva Äak i za enkriptovane aplikacione binarne datoteke i verifikovana je na viÅ¡e aplikacija iz App Store-a. Alati pomenuti ranije mogu se takoÄ‘e koristiti na jailbreakovanim iOS ureÄ‘ajima u sliÄne svrhe.

**Napomena**: Direktna upotreba `strings` komande se ne preporuÄuje za ovaj zadatak zbog njenih ograniÄenja u pronalaÅ¾enju relevantnih informacija. Umesto toga, preporuÄuje se koriÅ¡Ä‡enje grep-a sa `-a` zastavicom na binarnoj datoteci ili koriÅ¡Ä‡enje radare2 (`izz`)/rabin2 (`-zz`) za efikasnije rezultate.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
