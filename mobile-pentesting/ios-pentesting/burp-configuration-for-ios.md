# iOS Burp Suite Konfiguration

{% hint style="success" %}
Lerne & √ºbe AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Lerne & √ºbe GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtze HackTricks</summary>

* √úberpr√ºfe die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Tritt der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folge** uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teile Hacking-Tricks, indem du PRs zu den** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos einreichst.

</details>
{% endhint %}
{% endhint %}

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Nutze [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_term=trickest&utm_content=burp-configuration-for-ios), um einfach **Workflows** zu erstellen und zu **automatisieren**, die von den **fortschrittlichsten** Community-Tools der Welt unterst√ºtzt werden.\
Erhalte heute Zugang:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=burp-configuration-for-ios" %}

## Installation des Burp-Zertifikats auf iOS-Ger√§ten

F√ºr die sichere Analyse des Webverkehrs und SSL-Pinning auf iOS-Ger√§ten kann die Burp Suite entweder √ºber den **Burp Mobile Assistant** oder durch manuelle Konfiguration genutzt werden. Nachfolgend finden Sie eine zusammenfassende Anleitung zu beiden Methoden:

### Automatische Installation mit Burp Mobile Assistant

Der **Burp Mobile Assistant** vereinfacht den Installationsprozess des Burp-Zertifikats, die Proxy-Konfiguration und das SSL-Pinning. Detaillierte Anleitungen finden Sie in der [offiziellen Dokumentation von PortSwigger](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing).

### Manuelle Installationsschritte

1. **Proxy-Konfiguration:** Beginnen Sie damit, Burp als Proxy in den Wi-Fi-Einstellungen des iPhones einzustellen.
2. **Zertifikat herunterladen:** Navigieren Sie im Browser Ihres Ger√§ts zu `http://burp`, um das Zertifikat herunterzuladen.
3. **Zertifikat installieren:** Installieren Sie das heruntergeladene Profil √ºber **Einstellungen** > **Allgemein** > **VPN & Ger√§teverwaltung**, und aktivieren Sie das Vertrauen f√ºr die PortSwigger CA unter **Zertifikat-Vertrauens-Einstellungen**.

### Konfiguration eines Interception-Proxys

Die Einrichtung erm√∂glicht die Analyse des Verkehrs zwischen dem iOS-Ger√§t und dem Internet √ºber Burp, wobei ein Wi-Fi-Netzwerk erforderlich ist, das Client-zu-Client-Verkehr unterst√ºtzt. Wenn dies nicht verf√ºgbar ist, kann eine USB-Verbindung √ºber usbmuxd als Alternative dienen. Die Tutorials von PortSwigger bieten detaillierte Anleitungen zur [Ger√§tekonfiguration](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) und zur [Zertifikatsinstallation](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device).

### Erweiterte Konfiguration f√ºr Jailbroken Ger√§te

F√ºr Benutzer mit jailbroken Ger√§ten bietet SSH √ºber USB (via **iproxy**) eine Methode, um den Verkehr direkt √ºber Burp zu leiten:

1.  **SSH-Verbindung herstellen:** Verwenden Sie iproxy, um SSH auf localhost weiterzuleiten, sodass eine Verbindung vom iOS-Ger√§t zum Computer, auf dem Burp l√§uft, hergestellt werden kann.

```bash
iproxy 2222 22
```
2.  **Remote-Portweiterleitung:** Leiten Sie den Port 8080 des iOS-Ger√§ts an den localhost des Computers weiter, um direkten Zugriff auf die Burp-Oberfl√§che zu erm√∂glichen.

```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```
3. **Globale Proxy-Einstellung:** Konfigurieren Sie schlie√ülich die Wi-Fi-Einstellungen des iOS-Ger√§ts so, dass ein manueller Proxy verwendet wird, der den gesamten Webverkehr √ºber Burp leitet.

### Vollst√§ndige Netzwerk√ºberwachung/Sniffing

Die √úberwachung des nicht-HTTP-Ger√§tevverkehrs kann effizient mit **Wireshark** durchgef√ºhrt werden, einem Tool, das in der Lage ist, alle Formen von Datenverkehr zu erfassen. F√ºr iOS-Ger√§te wird die Echtzeit√ºberwachung des Verkehrs durch die Erstellung einer Remote Virtual Interface erleichtert, ein Prozess, der in [diesem Stack Overflow-Beitrag](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819) detailliert beschrieben ist. Vor Beginn ist die Installation von **Wireshark** auf einem macOS-System eine Voraussetzung.

Das Verfahren umfasst mehrere wichtige Schritte:

1. Stellen Sie eine Verbindung zwischen dem iOS-Ger√§t und dem macOS-Host √ºber USB her.
2. Bestimmen Sie die **UDID** des iOS-Ger√§ts, ein notwendiger Schritt f√ºr die Verkehrs√ºberwachung. Dies kann durch Ausf√ºhren eines Befehls im macOS-Terminal erfolgen:
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. Nach der Identifizierung der UDID ist **Wireshark** zu √∂ffnen und das "rvi0"-Interface f√ºr die Datenerfassung auszuw√§hlen.  
4. F√ºr gezielte √úberwachung, wie das Erfassen von HTTP-Verkehr, der mit einer bestimmten IP-Adresse verbunden ist, k√∂nnen die Capture-Filter von Wireshark verwendet werden:

## Burp-Zertifikat-Installation im Simulator

* **Burp-Zertifikat exportieren**

In _Proxy_ --> _Options_ --> _Export CA certificate_ --> _Certificate in DER format_

![](<../../.gitbook/assets/image (534).png>)

* **Ziehen und Ablegen** des Zertifikats im Emulator
* **Im Emulator** zu _Einstellungen_ --> _Allgemein_ --> _Profile_ --> _PortSwigger CA_ gehen und **das Zertifikat √ºberpr√ºfen**
* **Im Emulator** zu _Einstellungen_ --> _Allgemein_ --> _√úber_ --> _Zertifikatvertrauenseinstellungen_ gehen und **PortSwigger CA aktivieren**

![](<../../.gitbook/assets/image (1048).png>)

**Herzlichen Gl√ºckwunsch, Sie haben das Burp CA-Zertifikat erfolgreich im iOS-Simulator konfiguriert**

{% hint style="info" %}
**Der iOS-Simulator verwendet die Proxy-Konfigurationen von MacOS.**
{% endhint %}

### MacOS Proxy-Konfiguration

Schritte zur Konfiguration von Burp als Proxy:

* Gehe zu _Systemeinstellungen_ --> _Netzwerk_ --> _Erweitert_
* Im Tab _Proxys_ die Optionen _Web Proxy (HTTP)_ und _Sicherer Web Proxy (HTTPS)_ markieren
* In beiden Optionen _127.0.0.1:8080_ konfigurieren

![](<../../.gitbook/assets/image (431).png>)

* Klicke auf _**Ok**_ und dann auf _**Anwenden**_

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Verwende [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_term=trickest&utm_content=burp-configuration-for-ios), um einfach **Workflows** zu erstellen und zu **automatisieren**, die von den **fortschrittlichsten** Community-Tools der Welt unterst√ºtzt werden.\
Erhalte heute Zugang:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=burp-configuration-for-ios" %}
{% hint style="success" %}
Lerne & √ºbe AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Lerne & √ºbe GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtze HackTricks</summary>

* √úberpr√ºfe die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Tritt der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folge** uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teile Hacking-Tricks, indem du PRs zu den** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos einreichst.

</details>
{% endhint %}
</details>
{% endhint %}
