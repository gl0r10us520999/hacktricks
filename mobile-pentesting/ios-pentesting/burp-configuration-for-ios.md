# Configuration de Burp Suite pour iOS

{% hint style="success" %}
Apprenez et pratiquez le hacking AWS :<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Apprenez et pratiquez le hacking GCP : <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Soutenir HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop) !
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez-nous sur** **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez des astuces de hacking en soumettant des PRs aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>
{% endhint %}
{% endhint %}

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Utilisez [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_term=trickest&utm_content=burp-configuration-for-ios) pour cr√©er et **automatiser des flux de travail** aliment√©s par les **outils communautaires les plus avanc√©s** au monde.\
Acc√©dez d√®s aujourd'hui :

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=burp-configuration-for-ios" %}

## Installation du certificat Burp sur les appareils iOS

Pour l'analyse s√©curis√©e du trafic web et le SSL pinning sur les appareils iOS, Burp Suite peut √™tre utilis√© soit via le **Burp Mobile Assistant**, soit par configuration manuelle. Voici un guide r√©sum√© sur les deux m√©thodes :

### Installation automatis√©e avec Burp Mobile Assistant

Le **Burp Mobile Assistant** simplifie le processus d'installation du certificat Burp, la configuration du proxy et le SSL Pinning. Des conseils d√©taill√©s peuvent √™tre trouv√©s dans la [documentation officielle de PortSwigger](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing).

### √âtapes d'installation manuelle

1. **Configuration du proxy :** Commencez par d√©finir Burp comme proxy dans les param√®tres Wi-Fi de l'iPhone.
2. **T√©l√©chargement du certificat :** Acc√©dez √† `http://burp` dans le navigateur de votre appareil pour t√©l√©charger le certificat.
3. **Installation du certificat :** Installez le profil t√©l√©charg√© via **R√©glages** > **G√©n√©ral** > **VPN et gestion des appareils**, puis activez la confiance pour le CA PortSwigger dans **Param√®tres de confiance des certificats**.

### Configuration d'un proxy d'interception

La configuration permet l'analyse du trafic entre l'appareil iOS et Internet via Burp, n√©cessitant un r√©seau Wi-Fi qui prend en charge le trafic client √† client. Si cela n'est pas disponible, une connexion USB via usbmuxd peut servir d'alternative. Les tutoriels de PortSwigger fournissent des instructions d√©taill√©es sur la [configuration de l'appareil](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) et [l'installation du certificat](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device).

### Configuration avanc√©e pour les appareils jailbreak√©s

Pour les utilisateurs d'appareils jailbreak√©s, SSH via USB (via **iproxy**) offre une m√©thode pour acheminer le trafic directement √† travers Burp :

1.  **√âtablir une connexion SSH :** Utilisez iproxy pour transf√©rer SSH vers localhost, permettant la connexion de l'appareil iOS √† l'ordinateur ex√©cutant Burp.

```bash
iproxy 2222 22
```
2.  **Transfert de port √† distance :** Transf√©rez le port 8080 de l'appareil iOS vers le localhost de l'ordinateur pour permettre un acc√®s direct √† l'interface de Burp.

```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```
3. **Param√®tre de proxy global :** Enfin, configurez les param√®tres Wi-Fi de l'appareil iOS pour utiliser un proxy manuel, dirigeant tout le trafic web √† travers Burp.

### Surveillance/Analyse compl√®te du r√©seau

La surveillance du trafic non-HTTP des appareils peut √™tre efficacement r√©alis√©e √† l'aide de **Wireshark**, un outil capable de capturer toutes les formes de trafic de donn√©es. Pour les appareils iOS, la surveillance du trafic en temps r√©el est facilit√©e par la cr√©ation d'une interface virtuelle distante, un processus d√©taill√© dans [ce post Stack Overflow](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819). Avant de commencer, l'installation de **Wireshark** sur un syst√®me macOS est une condition pr√©alable.

La proc√©dure implique plusieurs √©tapes cl√©s :

1. Initiez une connexion entre l'appareil iOS et l'h√¥te macOS via USB.
2. D√©terminez le **UDID** de l'appareil iOS, une √©tape n√©cessaire pour la surveillance du trafic. Cela peut √™tre fait en ex√©cutant une commande dans le terminal macOS :
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. Apr√®s l'identification de l'UDID, **Wireshark** doit √™tre ouvert et l'interface "rvi0" s√©lectionn√©e pour la capture de donn√©es.  
4. Pour un monitoring cibl√©, comme la capture du trafic HTTP li√© √† une adresse IP sp√©cifique, les filtres de capture de Wireshark peuvent √™tre utilis√©s :

## Installation du Certificat Burp dans le Simulateur

* **Exporter le Certificat Burp**

Dans _Proxy_ --> _Options_ --> _Exporter le certificat CA_ --> _Certificat au format DER_

![](<../../.gitbook/assets/image (534).png>)

* **Glisser-d√©poser** le certificat dans l'√âmulateur  
* **Dans l'√©mulateur**, allez √† _R√©glages_ --> _G√©n√©ral_ --> _Profil_ --> _PortSwigger CA_, et **v√©rifiez le certificat**  
* **Dans l'√©mulateur**, allez √† _R√©glages_ --> _G√©n√©ral_ --> _√Ä propos_ --> _Param√®tres de confiance des certificats_, et **activez PortSwigger CA**

![](<../../.gitbook/assets/image (1048).png>)

**F√©licitations, vous avez configur√© avec succ√®s le Certificat CA Burp dans le simulateur iOS**

{% hint style="info" %}
**Le simulateur iOS utilisera les configurations de proxy de MacOS.**
{% endhint %}

### Configuration du Proxy MacOS

√âtapes pour configurer Burp en tant que proxy :

* Allez √† _Pr√©f√©rences Syst√®me_ --> _R√©seau_ --> _Avanc√©_  
* Dans l'onglet _Proxies_, cochez _Proxy Web (HTTP)_ et _Proxy Web S√©curis√© (HTTPS)_  
* Dans les deux options, configurez _127.0.0.1:8080_

![](<../../.gitbook/assets/image (431).png>)

* Cliquez sur _**Ok**_ puis sur _**Appliquer**_

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Utilisez [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_term=trickest&utm_content=burp-configuration-for-ios) pour construire et **automatiser des workflows** facilement gr√¢ce aux **outils communautaires les plus avanc√©s** au monde.\
Acc√©dez d√®s aujourd'hui :

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=burp-configuration-for-ios" %}
{% hint style="success" %}
Apprenez et pratiquez le Hacking AWS :<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Formation Expert Red Team AWS (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Apprenez et pratiquez le Hacking GCP : <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Formation Expert Red Team GCP (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Soutenir HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop) !  
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** nous sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**  
* **Partagez des astuces de hacking en soumettant des PRs aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>
{% endhint %}
</details>
{% endhint %}
