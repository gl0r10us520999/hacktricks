# Configurazione di Burp Suite per iOS

{% hint style="success" %}
Impara e pratica il hacking AWS:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Impara e pratica il hacking GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Supporta HackTricks</summary>

* Controlla i [**piani di abbonamento**](https://github.com/sponsors/carlospolop)!
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Condividi trucchi di hacking inviando PR ai** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos di github.

</details>
{% endhint %}
{% endhint %}

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Usa [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_term=trickest&utm_content=burp-configuration-for-ios) per costruire e **automatizzare flussi di lavoro** facilmente, alimentati dagli **strumenti comunitari pi√π avanzati** al mondo.\
Accedi oggi:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=burp-configuration-for-ios" %}

## Installazione del Certificato Burp sui Dispositivi iOS

Per l'analisi sicura del traffico web e il pinning SSL sui dispositivi iOS, Burp Suite pu√≤ essere utilizzato sia tramite il **Burp Mobile Assistant** che tramite configurazione manuale. Di seguito √® riportata una guida riassuntiva su entrambi i metodi:

### Installazione Automatica con Burp Mobile Assistant

Il **Burp Mobile Assistant** semplifica il processo di installazione del Certificato Burp, configurazione del proxy e SSL Pinning. Ulteriori dettagli possono essere trovati nella [documentazione ufficiale di PortSwigger](https://portswigger.net/burp/documentation/desktop/tools/mobile-assistant/installing).

### Passaggi di Installazione Manuale

1. **Configurazione del Proxy:** Inizia impostando Burp come proxy nelle impostazioni Wi-Fi dell'iPhone.
2. **Download del Certificato:** Naviga su `http://burp` nel browser del tuo dispositivo per scaricare il certificato.
3. **Installazione del Certificato:** Installa il profilo scaricato tramite **Impostazioni** > **Generale** > **VPN e gestione dispositivo**, quindi abilita la fiducia per il CA di PortSwigger sotto **Impostazioni di fiducia del certificato**.

### Configurazione di un Proxy di Intercettazione

La configurazione consente l'analisi del traffico tra il dispositivo iOS e Internet tramite Burp, richiedendo una rete Wi-Fi che supporti il traffico client-to-client. Se non disponibile, una connessione USB tramite usbmuxd pu√≤ servire come alternativa. I tutorial di PortSwigger forniscono istruzioni dettagliate sulla [configurazione del dispositivo](https://support.portswigger.net/customer/portal/articles/1841108-configuring-an-ios-device-to-work-with-burp) e [installazione del certificato](https://support.portswigger.net/customer/portal/articles/1841109-installing-burp-s-ca-certificate-in-an-ios-device).

### Configurazione Avanzata per Dispositivi Jailbroken

Per gli utenti con dispositivi jailbroken, SSH su USB (tramite **iproxy**) offre un metodo per instradare il traffico direttamente attraverso Burp:

1.  **Stabilire la Connessione SSH:** Usa iproxy per inoltrare SSH a localhost, consentendo la connessione dal dispositivo iOS al computer che esegue Burp.

```bash
iproxy 2222 22
```
2.  **Inoltro della Porta Remota:** Inoltra la porta 8080 del dispositivo iOS al localhost del computer per abilitare l'accesso diretto all'interfaccia di Burp.

```bash
ssh -R 8080:localhost:8080 root@localhost -p 2222
```
3. **Impostazione del Proxy Globale:** Infine, configura le impostazioni Wi-Fi del dispositivo iOS per utilizzare un proxy manuale, indirizzando tutto il traffico web attraverso Burp.

### Monitoraggio/Sniffing Completo della Rete

Il monitoraggio del traffico non-HTTP del dispositivo pu√≤ essere condotto in modo efficiente utilizzando **Wireshark**, uno strumento in grado di catturare tutte le forme di traffico dati. Per i dispositivi iOS, il monitoraggio del traffico in tempo reale √® facilitato dalla creazione di un'interfaccia virtuale remota, un processo dettagliato in [questo post di Stack Overflow](https://stackoverflow.com/questions/9555403/capturing-mobile-phone-traffic-on-wireshark/33175819#33175819). Prima di iniziare, √® necessario installare **Wireshark** su un sistema macOS.

La procedura prevede diversi passaggi chiave:

1. Inizia una connessione tra il dispositivo iOS e l'host macOS tramite USB.
2. Accertati dell'**UDID** del dispositivo iOS, un passaggio necessario per il monitoraggio del traffico. Questo pu√≤ essere fatto eseguendo un comando nel Terminale di macOS:
```bash
$ rvictl -s <UDID>
Starting device <UDID> [SUCCEEDED] with interface rvi0
```
3. Dopo l'identificazione dell'UDID, **Wireshark** deve essere aperto e selezionata l'interfaccia "rvi0" per la cattura dei dati.  
4. Per il monitoraggio mirato, come la cattura del traffico HTTP relativo a un indirizzo IP specifico, possono essere utilizzati i filtri di cattura di Wireshark:

## Installazione del Certificato Burp nel Simulatore

* **Esporta il Certificato Burp**

In _Proxy_ --> _Options_ --> _Export CA certificate_ --> _Certificate in DER format_

![](<../../.gitbook/assets/image (534).png>)

* **Trascina e Rilascia** il certificato all'interno dell'Emulatore  
* **All'interno dell'emulatore** vai su _Settings_ --> _General_ --> _Profile_ --> _PortSwigger CA_, e **verifica il certificato**  
* **All'interno dell'emulatore** vai su _Settings_ --> _General_ --> _About_ --> _Certificate Trust Settings_, e **abilita PortSwigger CA**

![](<../../.gitbook/assets/image (1048).png>)

**Congratulazioni, hai configurato con successo il Certificato CA di Burp nel simulatore iOS**

{% hint style="info" %}
**Il simulatore iOS utilizzer√† le configurazioni proxy del MacOS.**
{% endhint %}

### Configurazione Proxy MacOS

Passaggi per configurare Burp come proxy:

* Vai su _System Preferences_ --> _Network_ --> _Advanced_  
* Nella scheda _Proxies_ seleziona _Web Proxy (HTTP)_ e _Secure Web Proxy (HTTPS)_  
* In entrambe le opzioni configura _127.0.0.1:8080_

![](<../../.gitbook/assets/image (431).png>)

* Clicca su _**Ok**_ e poi su _**Apply**_

<figure><img src="../../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Usa [**Trickest**](https://trickest.com/?utm_source=hacktricks&utm_medium=text&utm_campaign=ppc&utm_term=trickest&utm_content=burp-configuration-for-ios) per costruire e **automatizzare flussi di lavoro** alimentati dagli **strumenti comunitari pi√π avanzati** al mondo.\
Accedi oggi:

{% embed url="https://trickest.com/?utm_source=hacktricks&utm_medium=banner&utm_campaign=ppc&utm_content=burp-configuration-for-ios" %}
{% hint style="success" %}
Impara e pratica Hacking AWS:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Impara e pratica Hacking GCP: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Supporta HackTricks</summary>

* Controlla i [**piani di abbonamento**](https://github.com/sponsors/carlospolop)!
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Condividi trucchi di hacking inviando PR ai** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repository su github.

</details>
{% endhint %}
</details>
{% endhint %}
