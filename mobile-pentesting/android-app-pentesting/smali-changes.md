# Smali - Decompiling/\[Modifying]/Compiling

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

<figure><img src="/.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

Deepen your expertise in **Mobile Security** with 8kSec Academy. Master iOS and Android security through our self-paced courses and get certified:

{% embed url="https://academy.8ksec.io/" %}

Sometimes it is interesting to modify the application code to access hidden information for you (maybe well obfuscated passwords or flags). Then, it could be interesting to decompile the apk, modify the code and recompile it.

**Opcodes reference:** [http://pallergabor.uw.hu/androidblog/dalvik\_opcodes.html](http://pallergabor.uw.hu/androidblog/dalvik\_opcodes.html)

## Fast Way

Using **Visual Studio Code** and the [APKLab](https://github.com/APKLab/APKLab) extension, you can **automatically decompile**, modify, **recompile**, sign & install the application without executing any command.

Another **script** that facilitates this task a lot is [**https://github.com/ax/apk.sh**](https://github.com/ax/apk.sh)

## Decompile the APK

Using APKTool you can access to the **smali code and resources**:
```bash
apktool d APP.apk
```
Î‘Î½ Ï„Î¿ **apktool** ÏƒÎ±Ï‚ Î´ÏÏƒÎµÎ¹ Î¿Ï€Î¿Î¹Î¿Î´Î®Ï€Î¿Ï„Îµ ÏƒÏ†Î¬Î»Î¼Î±, Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ[ Î½Î± ÎµÎ³ÎºÎ±Ï„Î±ÏƒÏ„Î®ÏƒÎµÏ„Îµ Ï„Î·Î½ **Ï„ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± Î­ÎºÎ´Î¿ÏƒÎ·**](https://ibotpeaches.github.io/Apktool/install/)

ÎŸÏÎ¹ÏƒÎ¼Î­Î½Î± **ÎµÎ½Î´Î¹Î±Ï†Î­ÏÎ¿Î½Ï„Î± Î±ÏÏ‡ÎµÎ¯Î± Ï€Î¿Ï… Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± ÎµÎ¾ÎµÏ„Î¬ÏƒÎµÏ„Îµ ÎµÎ¯Î½Î±Î¹**:

* _res/values/strings.xml_ (ÎºÎ±Î¹ ÏŒÎ»Î± Ï„Î± xml Î¼Î­ÏƒÎ± ÏƒÎµ res/values/\*)
* _AndroidManifest.xml_
* ÎŸÏ€Î¿Î¹Î¿Î´Î®Ï€Î¿Ï„Îµ Î±ÏÏ‡ÎµÎ¯Î¿ Î¼Îµ ÎºÎ±Ï„Î¬Î»Î·Î¾Î· _.sqlite_ Î® _.db_

Î‘Î½ Ï„Î¿ `apktool` Î­Ï‡ÎµÎ¹ **Ï€ÏÎ¿Î²Î»Î®Î¼Î±Ï„Î± ÏƒÏ„Î·Î½ Î±Ï€Î¿ÎºÏ‰Î´Î¹ÎºÎ¿Ï€Î¿Î¯Î·ÏƒÎ· Ï„Î·Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®Ï‚**, ÏÎ¯Î¾Ï„Îµ Î¼Î¹Î± Î¼Î±Ï„Î¹Î¬ ÏƒÏ„Î¿ [https://ibotpeaches.github.io/Apktool/documentation/#framework-files](https://ibotpeaches.github.io/Apktool/documentation/#framework-files) Î® Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Ï„Î¿ ÎµÏ€Î¹Ï‡ÎµÎ¯ÏÎ·Î¼Î± **`-r`** (ÎœÎ·Î½ Î±Ï€Î¿ÎºÏ‰Î´Î¹ÎºÎ¿Ï€Î¿Î¹ÎµÎ¯Ï„Îµ Ï„Î¿Ï…Ï‚ Ï€ÏŒÏÎ¿Ï…Ï‚). Î£Ï„Î· ÏƒÏ…Î½Î­Ï‡ÎµÎ¹Î±, Î±Î½ Ï„Î¿ Ï€ÏÏŒÎ²Î»Î·Î¼Î± Î®Ï„Î±Î½ ÏƒÎµ Î­Î½Î±Î½ Ï€ÏŒÏÎ¿ ÎºÎ±Î¹ ÏŒÏ‡Î¹ ÏƒÏ„Î¿Î½ Ï€Î·Î³Î±Î¯Î¿ ÎºÏÎ´Î¹ÎºÎ±, Î´ÎµÎ½ Î¸Î± Î­Ï‡ÎµÏ„Îµ Ï„Î¿ Ï€ÏÏŒÎ²Î»Î·Î¼Î± (Î´ÎµÎ½ Î¸Î± Î±Ï€Î¿ÎºÏ‰Î´Î¹ÎºÎ¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ ÎµÏ€Î¯ÏƒÎ·Ï‚ Ï„Î¿Ï…Ï‚ Ï€ÏŒÏÎ¿Ï…Ï‚).

## Î‘Î»Î»Î±Î³Î® ÎºÏÎ´Î¹ÎºÎ± smali

ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **Î±Î»Î»Î¬Î¾ÎµÏ„Îµ** **ÎµÎ½Ï„Î¿Î»Î­Ï‚**, Î½Î± Î±Î»Î»Î¬Î¾ÎµÏ„Îµ Ï„Î·Î½ **Ï„Î¹Î¼Î®** Î¿ÏÎ¹ÏƒÎ¼Î­Î½Ï‰Î½ Î¼ÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½ Î® Î½Î± **Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÎµÏ„Îµ** Î½Î­ÎµÏ‚ ÎµÎ½Ï„Î¿Î»Î­Ï‚. Î‘Î»Î»Î¬Î¶Ï‰ Ï„Î¿Î½ ÎºÏÎ´Î¹ÎºÎ± Smali Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚ [**VS Code**](https://code.visualstudio.com), ÏƒÏ„Î· ÏƒÏ…Î½Î­Ï‡ÎµÎ¹Î± ÎµÎ³ÎºÎ±Î¸Î¹ÏƒÏ„Î¬Ï„Îµ Ï„Î·Î½ **ÎµÏ€Î­ÎºÏ„Î±ÏƒÎ· smalise** ÎºÎ±Î¹ Î¿ ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÏ„Î®Ï‚ Î¸Î± ÏƒÎ±Ï‚ Ï€ÎµÎ¹ Î±Î½ ÎºÎ¬Ï€Î¿Î¹Î± **ÎµÎ½Ï„Î¿Î»Î® ÎµÎ¯Î½Î±Î¹ Î»Î±Î½Î¸Î±ÏƒÎ¼Î­Î½Î·**.\
ÎŸÏÎ¹ÏƒÎ¼Î­Î½Î± **Ï€Î±ÏÎ±Î´ÎµÎ¯Î³Î¼Î±Ï„Î±** Î¼Ï€Î¿ÏÎ¿ÏÎ½ Î½Î± Î²ÏÎµÎ¸Î¿ÏÎ½ ÎµÎ´Ï:

* [Î Î±ÏÎ±Î´ÎµÎ¯Î³Î¼Î±Ï„Î± Î±Î»Î»Î±Î³ÏÎ½ Smali](smali-changes.md)
* [Google CTF 2018 - Shall We Play a Game?](google-ctf-2018-shall-we-play-a-game.md)

Î‰ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± [**ÎµÎ»Î­Î³Î¾ÎµÏ„Îµ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ Î¼ÎµÏÎ¹ÎºÎ­Ï‚ ÎµÎ¾Î·Î³Î®ÏƒÎµÎ¹Ï‚ Î±Î»Î»Î±Î³ÏÎ½ Smali**](smali-changes.md#modifying-smali).

## Î‘Î½Î±ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î® Ï„Î¿Ï… APK

Î‘Ï†Î¿Ï Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Ï„Î¿Î½ ÎºÏÎ´Î¹ÎºÎ±, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **Î±Î½Î±ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î¬ÏƒÎµÏ„Îµ** Ï„Î¿Î½ ÎºÏÎ´Î¹ÎºÎ± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚:
```bash
apktool b . #In the folder generated when you decompiled the application
```
Î˜Î± **ÏƒÏ…Î³ÎºÎµÎ½Ï„ÏÏÏƒÎµÎ¹** Ï„Î¿ Î½Î­Î¿ APK **Î¼Î­ÏƒÎ±** ÏƒÏ„Î¿Î½ _**Ï†Î¬ÎºÎµÎ»Î¿ dist**_.

Î‘Î½ Ï„Î¿ **apktool** ÏÎ¯Î¾ÎµÎ¹ Î­Î½Î± **ÏƒÏ†Î¬Î»Î¼Î±**, Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ[ Î½Î± ÎµÎ³ÎºÎ±Ï„Î±ÏƒÏ„Î®ÏƒÎµÏ„Îµ Ï„Î·Î½ **Ï„ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± Î­ÎºÎ´Î¿ÏƒÎ·**](https://ibotpeaches.github.io/Apktool/install/)

### **Î¥Ï€Î¿Î³ÏÎ¬ÏˆÏ„Îµ Ï„Î¿ Î½Î­Î¿ APK**

Î£Ï„Î· ÏƒÏ…Î½Î­Ï‡ÎµÎ¹Î±, Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± **Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÏ„Îµ Î­Î½Î± ÎºÎ»ÎµÎ¹Î´Î¯** (Î¸Î± ÏƒÎ±Ï‚ Î¶Î·Ï„Î·Î¸ÎµÎ¯ Î­Î½Î±Ï‚ ÎºÏ‰Î´Î¹ÎºÏŒÏ‚ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·Ï‚ ÎºÎ±Î¹ ÎºÎ¬Ï€Î¿Î¹ÎµÏ‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ Ï€Î¿Ï… Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÏƒÏ…Î¼Ï€Î»Î·ÏÏÏƒÎµÏ„Îµ Ï„Ï…Ï‡Î±Î¯Î±):
```bash
keytool -genkey -v -keystore key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias <your-alias>
```
Î¤Î­Î»Î¿Ï‚, **Ï…Ï€Î¿Î³ÏÎ¬ÏˆÏ„Îµ** Ï„Î¿ Î½Î­Î¿ APK:
```bash
jarsigner -keystore key.jks path/to/dist/* <your-alias>
```
### Optimize new application

**zipalign** ÎµÎ¯Î½Î±Î¹ Î­Î½Î± ÎµÏÎ³Î±Î»ÎµÎ¯Î¿ ÎµÏ…Î¸Ï…Î³ÏÎ¬Î¼Î¼Î¹ÏƒÎ·Ï‚ Î±ÏÏ‡ÎµÎ¯Ï‰Î½ Ï€Î¿Ï… Ï€Î±ÏÎ­Ï‡ÎµÎ¹ ÏƒÎ·Î¼Î±Î½Ï„Î¹ÎºÎ® Î²ÎµÎ»Ï„Î¹ÏƒÏ„Î¿Ï€Î¿Î¯Î·ÏƒÎ· ÏƒÏ„Î± Î±ÏÏ‡ÎµÎ¯Î± ÎµÏ†Î±ÏÎ¼Î¿Î³ÏÎ½ Android (APK). [More information here](https://developer.android.com/studio/command-line/zipalign).
```bash
zipalign [-f] [-v] <alignment> infile.apk outfile.apk
zipalign -v 4 infile.apk
```
### **Î¥Ï€Î¿Î³ÏÎ¬ÏˆÏ„Îµ Ï„Î¿ Î½Î­Î¿ APK (Î¾Î±Î½Î¬;)**

Î‘Î½ **Ï€ÏÎ¿Ï„Î¹Î¼Î¬Ï„Îµ** Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ [**apksigner**](https://developer.android.com/studio/command-line/) Î±Î½Ï„Î¯ Î³Î¹Î± jarsigner, **Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Ï…Ï€Î¿Î³ÏÎ¬ÏˆÎµÏ„Îµ Ï„Î¿ apk** Î¼ÎµÏ„Î¬ Ï„Î·Î½ ÎµÏ†Î±ÏÎ¼Î¿Î³Î® **Ï„Î·Ï‚ Î²ÎµÎ»Ï„Î¹ÏƒÏ„Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚ Î¼Îµ** zipalign. Î‘Î›Î›Î‘ Î Î¡ÎŸÎ£ÎŸÎ§Î— ÎŸÎ¤Î™ Î Î¡Î•Î Î•Î™ ÎÎ‘ **Î¥Î ÎŸÎ“Î¡Î‘Î¨Î•Î¤Î• Î¤Î—Î Î•Î¦Î‘Î¡ÎœÎŸÎ“Î— ÎœÎŸÎÎŸ ÎœÎ™Î‘ Î¦ÎŸÎ¡Î‘** ÎœÎ• jarsigner (Ï€ÏÎ¹Î½ Ï„Î¿ zipalign) Î‰ ÎœÎ• aspsigner (Î¼ÎµÏ„Î¬ Ï„Î¿ zipalign).
```bash
apksigner sign --ks key.jks ./dist/mycompiled.apk
```
## Î¤ÏÎ¿Ï€Î¿Ï€Î¿Î¯Î·ÏƒÎ· Smali

Î“Î¹Î± Ï„Î¿Î½ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ ÎºÏÎ´Î¹ÎºÎ± Hello World Java:
```java
public static void printHelloWorld() {
System.out.println("Hello World")
}
```
ÎŸ ÎºÏÎ´Î¹ÎºÎ±Ï‚ Smali Î¸Î± ÎµÎ¯Î½Î±Î¹:
```java
.method public static printHelloWorld()V
.registers 2
sget-object v0, Ljava/lang/System;->out:Ljava/io/PrintStream;
const-string v1, "Hello World"
invoke-virtual {v0,v1}, Ljava/io/PrintStream;->println(Ljava/lang/String;)V
return-void
.end method
```
Î¤Î¿ ÏƒÏÎ½Î¿Î»Î¿ ÎµÎ½Ï„Î¿Î»ÏÎ½ Smali ÎµÎ¯Î½Î±Î¹ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿ [ÎµÎ´Ï](https://source.android.com/devices/tech/dalvik/dalvik-bytecode#instructions).

### Î•Î»Î±Ï†ÏÎ­Ï‚ Î‘Î»Î»Î±Î³Î­Ï‚

### Î¤ÏÎ¿Ï€Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î±ÏÏ‡Î¹ÎºÏÎ½ Ï„Î¹Î¼ÏÎ½ Î¼Î¹Î±Ï‚ Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î®Ï‚ Î¼Î­ÏƒÎ± ÏƒÎµ Î¼Î¹Î± ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ·

ÎŸÏÎ¹ÏƒÎ¼Î­Î½ÎµÏ‚ Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î­Ï‚ Î¿ÏÎ¯Î¶Î¿Î½Ï„Î±Î¹ ÏƒÏ„Î·Î½ Î±ÏÏ‡Î® Ï„Î·Ï‚ ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ·Ï‚ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚ Ï„Î·Î½ ÎµÎ½Ï„Î¿Î»Î® _const_, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Ï„Î¹Ï‚ Ï„Î¹Î¼Î­Ï‚ Ï„Î¿Ï…Ï‚ Î® Î½Î± Î¿ÏÎ¯ÏƒÎµÏ„Îµ Î½Î­ÎµÏ‚:
```bash
#Number
const v9, 0xf4240
const/4 v8, 0x1
#Strings
const-string v5, "wins"
```
### Î’Î±ÏƒÎ¹ÎºÎ­Ï‚ Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯ÎµÏ‚
```bash
#Math
add-int/lit8 v0, v2, 0x1 #v2 + 0x1 and save it in v0
mul-int v0,v2,0x2 #v2*0x2 and save in v0

#Move the value of one object into another
move v1,v2

#Condtions
if-ge #Greater or equals
if-le #Less or equals
if-eq #Equals

#Get/Save attributes of an object
iget v0, p0, Lcom/google/ctf/shallweplayagame/GameActivity;->o:I #Save this.o inside v0
iput v0, p0, Lcom/google/ctf/shallweplayagame/GameActivity;->o:I #Save v0 inside this.o

#goto
:goto_6 #Declare this where you want to start a loop
if-ne v0, v9, :goto_6 #If not equals, go to: :goto_6
goto :goto_6 #Always go to: :goto_6
```
### ÎœÎµÎ³Î±Î»ÏÏ„ÎµÏÎµÏ‚ Î‘Î»Î»Î±Î³Î­Ï‚

### ÎšÎ±Ï„Î±Î³ÏÎ±Ï†Î®
```bash
#Log win: <number>
iget v5, p0, Lcom/google/ctf/shallweplayagame/GameActivity;->o:I #Get this.o inside v5
invoke-static {v5}, Ljava/lang/String;->valueOf(I)Ljava/lang/String; #Transform number to String
move-result-object v1 #Move to v1
const-string v5, "wins" #Save "win" inside v5
invoke-static {v5, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I #Logging "Wins: <num>"
```
Recommendations:

* Î‘Î½ Ï€ÏÏŒÎºÎµÎ¹Ï„Î±Î¹ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Î´Î·Î»Ï‰Î¼Î­Î½ÎµÏ‚ Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î­Ï‚ Î¼Î­ÏƒÎ± ÏƒÏ„Î· ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ· (Î´Î·Î»Ï‰Î¼Î­Î½ÎµÏ‚ v0,v1,v2...) Ï„Î¿Ï€Î¿Î¸ÎµÏ„Î®ÏƒÏ„Îµ Î±Ï…Ï„Î­Ï‚ Ï„Î¹Ï‚ Î³ÏÎ±Î¼Î¼Î­Ï‚ Î¼ÎµÏ„Î±Î¾Ï Ï„Î¿Ï… _.local \<number>_ ÎºÎ±Î¹ Ï„Ï‰Î½ Î´Î·Î»ÏÏƒÎµÏ‰Î½ Ï„Ï‰Î½ Î¼ÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½ (_const v0, 0x1_)
* Î‘Î½ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Ï„Î¿Ï€Î¿Î¸ÎµÏ„Î®ÏƒÎµÏ„Îµ Ï„Î¿Î½ ÎºÏÎ´Î¹ÎºÎ± ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î®Ï‚ ÏƒÏ„Î· Î¼Î­ÏƒÎ· Ï„Î¿Ï… ÎºÏÎ´Î¹ÎºÎ± Î¼Î¹Î±Ï‚ ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ·Ï‚:
* Î ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ 2 ÏƒÏ„Î¿Î½ Î±ÏÎ¹Î¸Î¼ÏŒ Ï„Ï‰Î½ Î´Î·Î»Ï‰Î¼Î­Î½Ï‰Î½ Î¼ÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½: Î .Ï‡.: Î±Ï€ÏŒ _.locals 10_ ÏƒÎµ _.locals 12_
* ÎŸÎ¹ Î½Î­ÎµÏ‚ Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î­Ï‚ Î¸Î± Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± ÎµÎ¯Î½Î±Î¹ Î¿Î¹ ÎµÏ€ÏŒÎ¼ÎµÎ½Î¿Î¹ Î±ÏÎ¹Î¸Î¼Î¿Î¯ Ï„Ï‰Î½ Î®Î´Î· Î´Î·Î»Ï‰Î¼Î­Î½Ï‰Î½ Î¼ÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½ (ÏƒÎµ Î±Ï…Ï„ÏŒ Ï„Î¿ Ï€Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Î¸Î± Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± ÎµÎ¯Î½Î±Î¹ _v10_ ÎºÎ±Î¹ _v11_, Î¸Ï…Î¼Î·Î¸ÎµÎ¯Ï„Îµ ÏŒÏ„Î¹ Î¾ÎµÎºÎ¹Î½Î¬ Î±Ï€ÏŒ v0).
* Î‘Î»Î»Î¬Î¾Ï„Îµ Ï„Î¿Î½ ÎºÏÎ´Î¹ÎºÎ± Ï„Î·Ï‚ ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ·Ï‚ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î®Ï‚ ÎºÎ±Î¹ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÏ„Îµ _v10_ ÎºÎ±Î¹ _v11_ Î±Î½Ï„Î¯ Î³Î¹Î± _v5_ ÎºÎ±Î¹ _v1_.

### Toasting

Î˜Ï…Î¼Î·Î¸ÎµÎ¯Ï„Îµ Î½Î± Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÎµÏ„Îµ 3 ÏƒÏ„Î¿Î½ Î±ÏÎ¹Î¸Î¼ÏŒ Ï„Ï‰Î½ _.locals_ ÏƒÏ„Î·Î½ Î±ÏÏ‡Î® Ï„Î·Ï‚ ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ·Ï‚.

Î‘Ï…Ï„ÏŒÏ‚ Î¿ ÎºÏÎ´Î¹ÎºÎ±Ï‚ ÎµÎ¯Î½Î±Î¹ Ï€ÏÎ¿ÎµÏ„Î¿Î¹Î¼Î±ÏƒÎ¼Î­Î½Î¿Ï‚ Î³Î¹Î± Î½Î± ÎµÎ¹ÏƒÎ±Ï‡Î¸ÎµÎ¯ ÏƒÏ„Î· **Î¼Î­ÏƒÎ· Î¼Î¹Î±Ï‚ ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ·Ï‚** (**Î±Î»Î»Î¬Î¾Ï„Îµ** Ï„Î¿Î½ Î±ÏÎ¹Î¸Î¼ÏŒ Ï„Ï‰Î½ **Î¼ÎµÏ„Î±Î²Î»Î·Ï„ÏÎ½** ÏŒÏ€Ï‰Ï‚ Î±Ï€Î±Î¹Ï„ÎµÎ¯Ï„Î±Î¹). Î˜Î± Ï€Î¬ÏÎµÎ¹ Ï„Î·Î½ **Ï„Î¹Î¼Î® Ï„Î¿Ï… this.o**, **Î¸Î± Ï„Î·Î½ Î¼ÎµÏ„Î±Ï„ÏÎ­ÏˆÎµÎ¹** ÏƒÎµ **String** ÎºÎ±Î¹ ÏƒÏ„Î· ÏƒÏ…Î½Î­Ï‡ÎµÎ¹Î± **Î¸Î± ÎºÎ¬Î½ÎµÎ¹** Î­Î½Î± **toast** Î¼Îµ Ï„Î·Î½ Ï„Î¹Î¼Î® Ï„Î¿Ï….
```bash
const/4 v10, 0x1
const/4 v11, 0x1
const/4 v12, 0x1
iget v10, p0, Lcom/google/ctf/shallweplayagame/GameActivity;->o:I
invoke-static {v10}, Ljava/lang/String;->valueOf(I)Ljava/lang/String;
move-result-object v11
invoke-static {p0, v11, v12}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;
move-result-object v12
invoke-virtual {v12}, Landroid/widget/Toast;->show()V
```
<figure><img src="/.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

Î•Î¼Î²Î±Î¸ÏÎ½ÎµÏ„Îµ Ï„Î·Î½ ÎµÎ¼Ï€ÎµÎ¹ÏÎ¯Î± ÏƒÎ±Ï‚ ÏƒÏ„Î·Î½ **ÎšÎ¹Î½Î·Ï„Î® Î‘ÏƒÏ†Î¬Î»ÎµÎ¹Î±** Î¼Îµ Ï„Î·Î½ 8kSec Academy. Î•Î¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î·Î½ Î±ÏƒÏ†Î¬Î»ÎµÎ¹Î± iOS ÎºÎ±Î¹ Android Î¼Î­ÏƒÏ‰ Ï„Ï‰Î½ Î±Ï…Ï„Î¿ÏÏ…Î¸Î¼Î¹Î¶ÏŒÎ¼ÎµÎ½Ï‰Î½ Î¼Î±Î¸Î·Î¼Î¬Ï„Ï‰Î½ Î¼Î±Ï‚ ÎºÎ±Î¹ Î±Ï€Î¿ÎºÏ„Î®ÏƒÏ„Îµ Ï€Î¹ÏƒÏ„Î¿Ï€Î¿Î¯Î·ÏƒÎ·:

{% embed url="https://academy.8ksec.io/" %}

{% hint style="success" %}
ÎœÎ¬Î¸ÎµÏ„Îµ & ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
ÎœÎ¬Î¸ÎµÏ„Îµ & ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Î¥Ï€Î¿ÏƒÏ„Î®ÏÎ¹Î¾Î· HackTricks</summary>

* Î•Î»Î­Î³Î¾Ï„Îµ Ï„Î± [**ÏƒÏ‡Î­Î´Î¹Î± ÏƒÏ…Î½Î´ÏÎ¿Î¼Î®Ï‚**](https://github.com/sponsors/carlospolop)!
* **Î•Î³Î³ÏÎ±Ï†ÎµÎ¯Ï„Îµ ÏƒÏ„Î·Î½** ğŸ’¬ [**Î¿Î¼Î¬Î´Î± Discord**](https://discord.gg/hRep4RUj7f) Î® ÏƒÏ„Î·Î½ [**Î¿Î¼Î¬Î´Î± telegram**](https://t.me/peass) Î® **Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ** Î¼Î±Ï‚ ÏƒÏ„Î¿ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **ÎœÎ¿Î¹ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ ÎºÏŒÎ»Ï€Î± hacking Ï…Ï€Î¿Î²Î¬Î»Î»Î¿Î½Ï„Î±Ï‚ PRs ÏƒÏ„Î±** [**HackTricks**](https://github.com/carlospolop/hacktricks) ÎºÎ±Î¹ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
