{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Manual **T√©cnicas de De-obfusca√ß√£o**

No campo da **seguran√ßa de software**, o processo de tornar o c√≥digo obscurecido compreens√≠vel, conhecido como **de-obfusca√ß√£o**, √© crucial. Este guia explora v√°rias estrat√©gias para de-obfusca√ß√£o, focando em t√©cnicas de an√°lise est√°tica e reconhecimento de padr√µes de ofusca√ß√£o. Al√©m disso, apresenta um exerc√≠cio para aplica√ß√£o pr√°tica e sugere recursos adicionais para aqueles interessados em explorar t√≥picos mais avan√ßados.

### **Estrat√©gias para De-obfusca√ß√£o Est√°tica**

Ao lidar com **c√≥digo ofuscado**, v√°rias estrat√©gias podem ser empregadas dependendo da natureza da ofusca√ß√£o:

- **C√≥digo bytecode DEX (Java)**: Uma abordagem eficaz envolve identificar os m√©todos de de-obfusca√ß√£o do aplicativo e, em seguida, replicar esses m√©todos em um arquivo Java. Este arquivo √© executado para reverter a ofusca√ß√£o nos elementos alvo.
- **C√≥digo Java e Nativo**: Outro m√©todo √© traduzir o algoritmo de de-obfusca√ß√£o para uma linguagem de script como Python. Esta estrat√©gia destaca que o objetivo principal n√£o √© entender completamente o algoritmo, mas execut√°-lo de forma eficaz.

### **Identificando Ofusca√ß√£o**

Reconhecer c√≥digo ofuscado √© o primeiro passo no processo de de-obfusca√ß√£o. Indicadores-chave incluem:

- A **aus√™ncia ou embaralhamento de strings** em Java e Android, o que pode sugerir ofusca√ß√£o de strings.
- A **presen√ßa de arquivos bin√°rios** no diret√≥rio de assets ou chamadas para `DexClassLoader`, sugerindo desempacotamento de c√≥digo e carregamento din√¢mico.
- O uso de **bibliotecas nativas juntamente com fun√ß√µes JNI n√£o identific√°veis**, indicando potencial ofusca√ß√£o de m√©todos nativos.

## **An√°lise Din√¢mica na De-obfusca√ß√£o**

Ao executar o c√≥digo em um ambiente controlado, a an√°lise din√¢mica **permite a observa√ß√£o de como o c√≥digo ofuscado se comporta em tempo real**. Este m√©todo √© particularmente eficaz para descobrir o funcionamento interno de padr√µes de ofusca√ß√£o complexos que s√£o projetados para ocultar a verdadeira inten√ß√£o do c√≥digo.

### **Aplica√ß√µes da An√°lise Din√¢mica**

- **Descriptografia em Tempo de Execu√ß√£o**: Muitas t√©cnicas de ofusca√ß√£o envolvem a criptografia de strings ou segmentos de c√≥digo que s√≥ s√£o descriptografados em tempo de execu√ß√£o. Atrav√©s da an√°lise din√¢mica, esses elementos criptografados podem ser capturados no momento da descriptografia, revelando sua verdadeira forma.
- **Identificando T√©cnicas de Ofusca√ß√£o**: Ao monitorar o comportamento do aplicativo, a an√°lise din√¢mica pode ajudar a identificar t√©cnicas espec√≠ficas de ofusca√ß√£o sendo utilizadas, como virtualiza√ß√£o de c√≥digo, empacotadores ou gera√ß√£o din√¢mica de c√≥digo.
- **Descobrindo Funcionalidades Ocultas**: O c√≥digo ofuscado pode conter funcionalidades ocultas que n√£o s√£o aparentes apenas atrav√©s da an√°lise est√°tica. A an√°lise din√¢mica permite a observa√ß√£o de todos os caminhos de c√≥digo, incluindo aqueles executados condicionalmente, para descobrir tais funcionalidades ocultas.

## Refer√™ncias e Leitura Adicional
* [https://maddiestone.github.io/AndroidAppRE/obfuscation.html](https://maddiestone.github.io/AndroidAppRE/obfuscation.html)
* BlackHat USA 2018: ‚ÄúDesempacotando o Desempacotador: Engenharia Reversa de uma Biblioteca Anti-An√°lise Android‚Äù \[[v√≠deo](https://www.youtube.com/watch?v=s0Tqi7fuOSU)]
* Esta palestra aborda a engenharia reversa de uma das bibliotecas nativas anti-an√°lise mais complexas que j√° vi usadas por um aplicativo Android. Cobre principalmente t√©cnicas de ofusca√ß√£o em c√≥digo nativo.
* REcon 2019: ‚ÄúO Caminho para o Payload: Edi√ß√£o Android‚Äù \[[v√≠deo](https://recon.cx/media-archive/2019/Session.005.Maddie_Stone.The_path_to_the_payload_Android_Edition-J3ZnNl2GYjEfa.mp4)]
* Esta palestra discute uma s√©rie de t√©cnicas de ofusca√ß√£o, exclusivamente em c√≥digo Java, que um botnet Android estava usando para ocultar seu comportamento.
