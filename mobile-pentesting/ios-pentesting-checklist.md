# iOS Pentesting Checklist

<figure><img src="../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Use [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) para construir e **automatizar fluxos de trabalho** facilmente, impulsionados pelas **ferramentas** comunit√°rias **mais avan√ßadas** do mundo.\
Acesse hoje:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}

{% hint style="success" %}
Aprenda e pratique AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Aprenda e pratique GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Confira os [**planos de assinatura**](https://github.com/sponsors/carlospolop)!
* **Junte-se ao** üí¨ [**grupo do Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga**-nos no **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Compartilhe truques de hacking enviando PRs para o** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) reposit√≥rios do github.

</details>
{% endhint %}

### Prepara√ß√£o

* [ ] Leia [**iOS Basics**](ios-pentesting/ios-basics.md)
* [ ] Prepare seu ambiente lendo [**iOS Testing Environment**](ios-pentesting/ios-testing-environment.md)
* [ ] Leia todas as se√ß√µes de [**iOS Initial Analysis**](ios-pentesting/#initial-analysis) para aprender a√ß√µes comuns para pentest de um aplicativo iOS

### Armazenamento de Dados

* [ ] [**Arquivos Plist**](ios-pentesting/#plist) podem ser usados para armazenar informa√ß√µes sens√≠veis.
* [ ] [**Core Data**](ios-pentesting/#core-data) (banco de dados SQLite) pode armazenar informa√ß√µes sens√≠veis.
* [ ] [**YapDatabases**](ios-pentesting/#yapdatabase) (banco de dados SQLite) pode armazenar informa√ß√µes sens√≠veis.
* [ ] [**Firebase**](ios-pentesting/#firebase-real-time-databases) configura√ß√£o incorreta.
* [ ] [**Bancos de dados Realm**](ios-pentesting/#realm-databases) podem armazenar informa√ß√µes sens√≠veis.
* [ ] [**Bancos de dados Couchbase Lite**](ios-pentesting/#couchbase-lite-databases) podem armazenar informa√ß√µes sens√≠veis.
* [ ] [**Cookies bin√°rios**](ios-pentesting/#cookies) podem armazenar informa√ß√µes sens√≠veis.
* [ ] [**Dados de cache**](ios-pentesting/#cache) podem armazenar informa√ß√µes sens√≠veis.
* [ ] [**Snapshots autom√°ticos**](ios-pentesting/#snapshots) podem salvar informa√ß√µes visuais sens√≠veis.
* [ ] [**Keychain**](ios-pentesting/#keychain) √© geralmente usado para armazenar informa√ß√µes sens√≠veis que podem ser deixadas ao revender o telefone.
* [ ] Em resumo, apenas **verifique informa√ß√µes sens√≠veis salvas pelo aplicativo no sistema de arquivos.**

### Teclados

* [ ] O aplicativo [**permite o uso de teclados personalizados**](ios-pentesting/#custom-keyboards-keyboard-cache)?
* [ ] Verifique se informa√ß√µes sens√≠veis est√£o salvas nos [**arquivos de cache de teclados**](ios-pentesting/#custom-keyboards-keyboard-cache).

### **Logs**

* [ ] Verifique se [**informa√ß√µes sens√≠veis est√£o sendo registradas**](ios-pentesting/#logs).

### Backups

* [ ] [**Backups**](ios-pentesting/#backups) podem ser usados para **acessar informa√ß√µes sens√≠veis** salvas no sistema de arquivos (verifique o ponto inicial desta lista de verifica√ß√£o).
* [ ] Al√©m disso, [**backups**](ios-pentesting/#backups) podem ser usados para **modificar algumas configura√ß√µes do aplicativo**, depois **restaurar** o backup no telefone, e como a **configura√ß√£o modificada** √© **carregada**, algumas (seguran√ßa) **funcionalidades** podem ser **contornadas**.

### **Mem√≥ria de Aplica√ß√µes**

* [ ] Verifique informa√ß√µes sens√≠veis dentro da [**mem√≥ria do aplicativo**](ios-pentesting/#testing-memory-for-sensitive-data).

### **Criptografia Quebrada**

* [ ] Verifique se voc√™ pode encontrar [**senhas usadas para criptografia**](ios-pentesting/#broken-cryptography).
* [ ] Verifique o uso de [**algoritmos obsoletos/fracos**](ios-pentesting/#broken-cryptography) para enviar/armazenar dados sens√≠veis.
* [ ] [**Interceptar e monitorar fun√ß√µes de criptografia**](ios-pentesting/#broken-cryptography).

### **Autentica√ß√£o Local**

* [ ] Se uma [**autentica√ß√£o local**](ios-pentesting/#local-authentication) √© usada no aplicativo, voc√™ deve verificar como a autentica√ß√£o est√° funcionando.
* [ ] Se estiver usando o [**Local Authentication Framework**](ios-pentesting/#local-authentication-framework), pode ser facilmente contornada.
* [ ] Se estiver usando uma [**fun√ß√£o que pode ser contornada dinamicamente**](ios-pentesting/#local-authentication-using-keychain), voc√™ pode criar um script frida personalizado.

### Exposi√ß√£o de Funcionalidade Sens√≠vel Atrav√©s de IPC

* [**Manipuladores de URI personalizados / Deeplinks / Esquemas personalizados**](ios-pentesting/#custom-uri-handlers-deeplinks-custom-schemes).
* [ ] Verifique se o aplicativo est√° **registrando algum protocolo/esquema**.
* [ ] Verifique se o aplicativo est√° **registrando para usar** algum protocolo/esquema.
* [ ] Verifique se o aplicativo **espera receber qualquer tipo de informa√ß√£o sens√≠vel** do esquema personalizado que pode ser **interceptada** por outro aplicativo registrando o mesmo esquema.
* [ ] Verifique se o aplicativo **n√£o est√° verificando e sanitizando** a entrada do usu√°rio via esquema personalizado e se alguma **vulnerabilidade pode ser explorada**.
* [ ] Verifique se o aplicativo **expondo alguma a√ß√£o sens√≠vel** que pode ser chamada de qualquer lugar via esquema personalizado.
* [**Links Universais**](ios-pentesting/#universal-links).
* [ ] Verifique se o aplicativo est√° **registrando algum protocolo/esquema universal**.
* [ ] Verifique o arquivo `apple-app-site-association`.
* [ ] Verifique se o aplicativo **n√£o est√° verificando e sanitizando** a entrada do usu√°rio via esquema personalizado e se alguma **vulnerabilidade pode ser explorada**.
* [ ] Verifique se o aplicativo **expondo alguma a√ß√£o sens√≠vel** que pode ser chamada de qualquer lugar via esquema personalizado.
* [**Compartilhamento UIActivity**](ios-pentesting/ios-uiactivity-sharing.md).
* [ ] Verifique se o aplicativo pode receber UIActivities e se √© poss√≠vel explorar alguma vulnerabilidade com uma atividade especialmente criada.
* [**UIPasteboard**](ios-pentesting/ios-uipasteboard.md).
* [ ] Verifique se o aplicativo **est√° copiando algo para a √°rea de transfer√™ncia geral**.
* [ ] Verifique se o aplicativo **est√° usando os dados da √°rea de transfer√™ncia geral para algo**.
* [ ] Monitore a √°rea de transfer√™ncia para ver se algum **dado sens√≠vel √© copiado**.
* [**Extens√µes de Aplicativo**](ios-pentesting/ios-app-extensions.md).
* [ ] O aplicativo **est√° usando alguma extens√£o**?
* [**WebViews**](ios-pentesting/ios-webviews.md).
* [ ] Verifique que tipo de webviews est√£o sendo usados.
* [ ] Verifique o status de **`javaScriptEnabled`**, **`JavaScriptCanOpenWindowsAutomatically`**, **`hasOnlySecureContent`**.
* [ ] Verifique se o webview pode **acessar arquivos locais** com o protocolo **file://** **(**`allowFileAccessFromFileURLs`, `allowUniversalAccessFromFileURLs`).
* [ ] Verifique se o Javascript pode acessar **m√©todos** **nativos** (`JSContext`, `postMessage`).

### Comunica√ß√£o de Rede

* [ ] Realize um [**MitM na comunica√ß√£o**](ios-pentesting/#network-communication) e procure por vulnerabilidades na web.
* [ ] Verifique se o [**hostname do certificado**](ios-pentesting/#hostname-check) est√° sendo verificado.
* [ ] Verifique/Contorne [**Certificate Pinning**](ios-pentesting/#certificate-pinning).

### **Diversos**

* [ ] Verifique se h√° mecanismos de [**atualiza√ß√£o/patching autom√°tico**](ios-pentesting/#hot-patching-enforced-updateing).
* [ ] Verifique se h√° [**bibliotecas de terceiros maliciosas**](ios-pentesting/#third-parties).

{% hint style="success" %}
Aprenda e pratique AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Aprenda e pratique GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Confira os [**planos de assinatura**](https://github.com/sponsors/carlospolop)!
* **Junte-se ao** üí¨ [**grupo do Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga**-nos no **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Compartilhe truques de hacking enviando PRs para o** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) reposit√≥rios do github.

</details>
{% endhint %}

<figure><img src="../.gitbook/assets/image (48).png" alt=""><figcaption></figcaption></figure>

\
Use [**Trickest**](https://trickest.com/?utm\_campaign=hacktrics\&utm\_medium=banner\&utm\_source=hacktricks) para construir e **automatizar fluxos de trabalho** facilmente, impulsionados pelas **ferramentas** comunit√°rias **mais avan√ßadas** do mundo.\
Acesse hoje:

{% embed url="https://trickest.com/?utm_campaign=hacktrics&utm_medium=banner&utm_source=hacktricks" %}
