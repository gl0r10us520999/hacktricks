# Relro

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Relro

**RELRO** steht f√ºr **Relocation Read-Only** und ist eine Sicherheitsfunktion, die in Bin√§rdateien verwendet wird, um die Risiken im Zusammenhang mit **GOT (Global Offset Table)**-√úberschreibungen zu mindern. Lassen Sie uns das Konzept in seine beiden unterschiedlichen Typen zur Klarheit aufteilen: **Partial RELRO** und **Full RELRO**.

### **Partial RELRO**

**Partial RELRO** verfolgt einen einfacheren Ansatz zur Verbesserung der Sicherheit, ohne die Leistung der Bin√§rdatei erheblich zu beeintr√§chtigen. Durch **die Positionierung der GOT √ºber den Variablen des Programms im Speicher zielt Partial RELRO darauf ab, zu verhindern, dass Puffer√ºberl√§ufe die GOT erreichen und besch√§digen**.&#x20;

Dies **verhindert nicht, dass die GOT** durch **willk√ºrliche Schreib**-Schwachstellen missbraucht wird.

### **Full RELRO**

**Full RELRO** erh√∂ht den Schutz, indem **die GOT vollst√§ndig schreibgesch√ºtzt gemacht wird.** Sobald die Bin√§rdatei gestartet wird, werden alle Funktionsadressen aufgel√∂st und in der GOT geladen, dann wird die GOT als schreibgesch√ºtzt markiert, was effektiv √Ñnderungen w√§hrend der Laufzeit verhindert.

Der Nachteil von Full RELRO liegt jedoch in der Leistung und der Startzeit. Da alle dynamischen Symbole beim Start aufgel√∂st werden m√ºssen, bevor die GOT als schreibgesch√ºtzt markiert wird, **k√∂nnten Bin√§rdateien mit aktivem Full RELRO l√§ngere Ladezeiten erfahren**. Dieser zus√§tzliche Startaufwand ist der Grund, warum Full RELRO nicht standardm√§√üig in allen Bin√§rdateien aktiviert ist.

Es ist m√∂glich zu sehen, ob Full RELRO in einer Bin√§rdatei aktiviert ist mit:
```bash
readelf -l /proc/ID_PROC/exe | grep BIND_NOW
```
## Bypass

Wenn Full RELRO aktiviert ist, besteht der einzige Weg, es zu umgehen, darin, einen anderen Weg zu finden, der nicht ben√∂tigt, in die GOT-Tabelle zu schreiben, um willk√ºrliche Ausf√ºhrung zu erhalten.

Beachten Sie, dass die GOT von LIBC normalerweise Partial RELRO ist, sodass sie mit einem willk√ºrlichen Schreibvorgang modifiziert werden kann. Weitere Informationen finden Sie unter [Targetting libc GOT entries](https://github.com/nobodyisnobody/docs/blob/main/code.execution.on.last.libc/README.md#1---targetting-libc-got-entries).

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
