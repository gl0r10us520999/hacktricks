# NTFS

## NTFS

<details>

<summary><strong>рдЬреАрд░реЛ рд╕реЗ рд╣реАрд░реЛ рддрдХ AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> рдХреЗ рд╕рд╛рде!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдЕрдЧрд░ рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреА **рдХрдВрдкрдиреА HackTricks рдореЗрдВ рд╡рд┐рдЬреНрдЮрд╛рдкрд┐рдд рд╣реЛ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб** рдХрд░реЗрдВ рддреЛ [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдВ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS рдФрд░ HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдХреА рдЦреЛрдЬ рдХрд░реЗрдВ, рд╣рдорд╛рд░рд╛ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рд╕рдВрдЧреНрд░рд╣
* **рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks_live**](https://twitter.com/hacktricks_live)** рдкрд░ **рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рдЕрдкрдиреЗ рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>

## **NTFS**

**NTFS** (**рдиреНрдпреВ рдЯреЗрдХреНрдиреЛрд▓реЙрдЬреА рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо**) рдПрдХ рдкреНрд░реЛрдкреНрд░рд╛рдЗрдЯрд░реА рдЬрд░реНрдирд▓рд┐рдВрдЧ рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рд╣реИ рдЬрд┐рд╕реЗ Microsoft рдиреЗ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рд╣реИред

рдХреНрд▓рд╕реНрдЯрд░ NTFS рдореЗрдВ рдЖрдХрд╛рд░ рдХреА рд╕рдмрд╕реЗ рдЫреЛрдЯреА рдЗрдХрд╛рдИ рд╣реИ рдФрд░ рдХреНрд▓рд╕реНрдЯрд░ рдХрд╛ рдЖрдХрд╛рд░ рднрд╛рдЧ рдХрд╛ рдЖрдХрд╛рд░ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред

| рдкрд╛рд░реНрдЯреАрд╢рди рдХрд╛ рдЖрдХрд╛рд░       | рдХреНрд▓рд╕реНрдЯрд░ рдкреНрд░рддрд┐ рд╕реЗрдХреНрдЯрд░ | рдХреНрд▓рд╕реНрдЯрд░ рдХрд╛ рдЖрдХрд╛рд░ |
| ------------------------ | ------------------- | ------------ |
| 512MB рдпрд╛ рдЙрд╕рд╕реЗ рдХрдо        | 1                   | 512 рдмрд╛рдЗрдЯ    |
| 513MB-1024MB (1GB)       | 2                   | 1KB          |
| 1025MB-2048MB (2GB)      | 4                   | 2KB          |
| 2049MB-4096MB (4GB)      | 8                   | 4KB          |
| 4097MB-8192MB (8GB)      | 16                  | 8KB          |
| 8193MB-16,384MB (16GB)   | 32                  | 16KB         |
| 16,385MB-32,768MB (32GB) | 64                  | 32KB         |
| 32,768MB рд╕реЗ рдЕрдзрд┐рдХ         | 128                 | 64KB         |

### **рд╕реНрд▓реИрдХ-рд╕реНрдкреЗрд╕**

рдХреНрдпреЛрдВрдХрд┐ NTFS рдХреА рд╕рдмрд╕реЗ рдЫреЛрдЯреА рдЖрдХрд╛рд░ рдЗрдХрд╛рдИ рдХреНрд▓рд╕реНрдЯрд░ рд╣реИред рдкреНрд░рддреНрдпреЗрдХ рдлрд╝рд╛рдЗрд▓ рдХрдИ рдкреВрд░реНрдг рдХреНрд▓рд╕реНрдЯрд░реЛрдВ рдХреЛ рдЕрдзрд┐рдХ рдХрд░ рд░рд╣реА рд╣реЛрдЧреАред рдлрд┐рд░, рдпрд╣ рдЙрдЪрд┐рдд рд╣реИ рдХрд┐ **рдкреНрд░рддреНрдпреЗрдХ рдлрд╝рд╛рдЗрд▓ рдЕрдкреЗрдХреНрд╖рд┐рдд рд╕реЗ рдЕрдзрд┐рдХ рд╕реНрдерд╛рди рдХрд╛ рдЕрдзрд┐рдХрд╛рд░ рдХрд░рддреА рд╣реИ**ред рдЗрди рдлрд╝рд╛рдЗрд▓реЛрдВ рджреНрд╡рд╛рд░рд╛ рдЖрд░рдХреНрд╖рд┐рдд **рдЕрдкреНрд░рдпреБрдХреНрдд рд╕реНрдерд╛рди** рдЬрд┐рд╕реЗ рд╕реНрд▓реИрдХрд┐рдВрдЧ рд╕реНрдкреЗрд╕ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рд▓реЛрдЧ рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдХрд╛ рд▓рд╛рдн рдЙрдард╛ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд╛рдирдХрд╛рд░реА **рдЫреБрдкрд╛рдиреЗ** рдХреЗ рд▓рд┐рдПред

![](<../../../.gitbook/assets/image (498).png>)

### **NTFS рдмреВрдЯ рд╕реЗрдХреНрдЯрд░**

рдЬрдм рдЖрдк рдПрдХ NTFS рд╡реЙрд▓реНрдпреВрдо рдХреЛ рдлреЙрд░реНрдореЗрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдлреЙрд░реНрдореЗрдЯ рдкреНрд░реЛрдЧреНрд░рд╛рдо рдкрд╣рд▓реЗ 16 рд╕реЗрдХреНрдЯрд░реЛрдВ рдХреЛ рдмреВрдЯ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд▓рд┐рдП рдЖрд╡рдВрдЯрд┐рдд рдХрд░рддрд╛ рд╣реИред рдкрд╣рд▓рд╛ рд╕реЗрдХреНрдЯрд░ рдПрдХ рдмреВрдЯ рд╕реЗрдХреНрдЯрд░ рд╣реИ рдЬрд┐рд╕рдореЗрдВ "рдмреВрдЯрд╕реНрдЯреНрд░реИрдк" рдХреЛрдб рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдЕрдЧрд▓реЗ 15 рд╕реЗрдХреНрдЯрд░ рдмреВрдЯ рд╕реЗрдХреНрдЯрд░ рдХрд╛ IPL (рдЖрд░рдВрднрд┐рдХ рдкреНрд░реЛрдЧреНрд░рд╛рдо рд▓реЛрдбрд░) рд╣реЛрддрд╛ рд╣реИред рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреА рд╡рд┐рд╢реНрд╡рд╕рдиреАрдпрддрд╛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП NTFS рдкрд╛рд░реНрдЯреАрд╢рди рдХрд╛ рдмрд╣реБрдд рдЖрдЦрд┐рд░реА рд╕реЗрдХреНрдЯрд░ рдПрдХ рдмреВрдЯ рд╕реЗрдХреНрдЯрд░ рдХреА рдЕрддрд┐рд░рд┐рдХреНрдд рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рд░рдЦрддрд╛ рд╣реИред

### **рдорд╛рд╕реНрдЯрд░ рдлрд╝рд╛рдЗрд▓ рдЯреЗрдмрд▓ (MFT)**

NTFS рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдПрдХ рдлрд╝рд╛рдЗрд▓ рд╣реЛрддреА рд╣реИ рдЬрд┐рд╕реЗ рдорд╛рд╕реНрдЯрд░ рдлрд╝рд╛рдЗрд▓ рдЯреЗрдмрд▓ (MFT) рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред NTFS рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рд╡реЙрд▓реНрдпреВрдо рдкрд░ рд╣рд░ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд▓рд┐рдП рдХрдо рд╕реЗ рдХрдо **рдПрдХ MFT рдПрдВрдЯреНрд░реА рд╣реЛрддреА рд╣реИ**, рдЬрд┐рд╕рдореЗрдВ MFT рдЦреБрдж рд╢рд╛рдорд┐рд▓ рд╣реИред рдПрдХ рдлрд╝рд╛рдЗрд▓ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА, рдЬреИрд╕реЗ рдХрд┐ **рдЖрдХрд╛рд░, рд╕рдордп рдФрд░ рддрд╛рд░реАрдЦ рдХреЗ рд╕реНрдЯреИрдореНрдк, рдЕрдиреБрдорддрд┐рдпрд╛рдБ, рдФрд░ рдбреЗрдЯрд╛ рд╕рд╛рдордЧреНрд░реА**, MFT рдПрдВрдЯреНрд░реАрдЬ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рд╣реЛрддреА рд╣реИрдВ рдпрд╛ MFT рдПрдВрдЯреНрд░реАрдЬ рджреНрд╡рд╛рд░рд╛ рд╡рд░реНрдгрд┐рдд MFT рдХреЗ рдмрд╛рд╣рд░ рдХреЗ рд╕реНрдерд╛рди рдореЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рд╣реЛрддреА рд╣реИрдВред

рдЬрдм **рдлрд╝рд╛рдЗрд▓реЗрдВ** NTFS рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рд╡реЙрд▓реНрдпреВрдо рдореЗрдВ **рдЬреЛрдбрд╝реА** рдЬрд╛рддреА рд╣реИрдВ, рддреЛ MFT рдореЗрдВ рдЕрдзрд┐рдХ рдПрдВрдЯреНрд░реАрдЬ рдЬреЛрдбрд╝реА рдЬрд╛рддреА рд╣реИрдВ рдФрд░ **MFT рдХрд╛ рдЖрдХрд╛рд░ рдмрдврд╝рддрд╛ рд╣реИ**ред рдЬрдм **рдлрд╝рд╛рдЗрд▓реЗрдВ** NTFS рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рд╡реЙрд▓реНрдпреВрдо рд╕реЗ **рд╣рдЯрд╛рдИ** рдЬрд╛рддреА рд╣реИрдВ, рддреЛ рдЙрдирдХреА **MFT рдПрдВрдЯреНрд░реАрдЬ рдХреЛ рдореБрдХреНрдд рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ** рдФрд░ рдкреБрдирдГ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрди рдПрдВрдЯреНрд░реАрдЬ рдХреЗ рд▓рд┐рдП рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдбрд┐рд╕реНрдХ рд╕реНрдерд╛рди рдкреБрдирдГ рдЖрд╡рдВрдЯрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ MFT рдХрд╛ рдЖрдХрд╛рд░ рдХрдо рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред

NTFS рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо **MFT рдХреЛ рдЬрд┐рддрдирд╛ рд╕рдВрднрд╡ рд╣реЛ рд╕рдВрдпреБрдХреНрдд рд░реВрдк рд╕реЗ рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП MFT рдХреЗ рд▓рд┐рдП рд╕реНрдерд╛рди рдЖрд░рдХреНрд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ** рдЬреИрд╕реЗ рд╣реА рдпрд╣ рдмрдврд╝рддрд╛ рд╣реИред NTFS рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рджреНрд╡рд╛рд░рд╛ MFT рдХреЗ рд▓рд┐рдП рдкреНрд░рддреНрдпреЗрдХ рд╡реЙрд▓реНрдпреВрдо рдореЗрдВ рдЖрд░рдХреНрд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╕реНрдерд╛рди MFT рдЬреЛрди рдХрд╣рд▓рд╛рддрд╛ рд╣реИред рдлрд╝рд╛рдЗрд▓реЛрдВ рдФрд░ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рднреА рдЗрд╕ рд╕реНрдерд╛рди рд╕реЗ рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЬрдм рддрдХ MFT рдЬреЛрди рдХреЗ рдмрд╛рд╣рд░ рдХрд╛ рд╡реЙрд▓реНрдпреВрдо рд╕реНрдерд╛рди рд╕рднреА рдЖрд╡рдВрдЯрд┐рдд рдирд╣реАрдВ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддрдм рддрдХред

рдФрд╕рдд рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЖрдХрд╛рд░ рдФрд░ рдЕрдиреНрдп рдЪрд░рдгреЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, **рдпрд╛ рддреЛ рдЖрд░рдХреНрд╖рд┐рдд MFT рдЬреЛрди рдпрд╛ рдбрд┐рд╕реНрдХ рдХреЗ рдЕрдирдЖрд░рдХреНрд╖рд┐рдд рд╕реНрдерд╛рди рдХреЛ рдкрд╣рд▓реЗ рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ** рдЬрдм рддрдХ рдбрд┐рд╕реНрдХ рдкреВрд░реНрддрд┐ рдХреЗ рд▓рд┐рдП рднрд░ рдЬрд╛рддрд╛ рд╣реИред рдЫреЛрдЯреА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдмрдбрд╝реА рдлрд╝рд╛рдЗрд▓реЛрдВ рд╡рд╛рд▓реЗ рд╡реЙрд▓реНрдпреВрдо рдЕрдирдЖрд░рдХреНрд╖рд┐рдд рд╕реНрдерд╛рди рдХреЛ рдкрд╣рд▓реЗ рдЖрд╡рдВрдЯрд┐рдд рдХрд░реЗрдВрдЧреЗ, рдЬрдмрдХрд┐ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдЫреЛрдЯреА рдлрд╝рд╛рдЗрд▓реЛрдВ рд╡рд╛рд▓реЗ рд╡реЙрд▓реНрдпреВрдо MFT рдЬреЛрди рдХреЛ рдкрд╣рд▓реЗ рдЖрд╡рдВрдЯрд┐рдд рдХрд░реЗрдВрдЧреЗред рджреЛрдиреЛрдВ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдЬрдм рдХреЛрдИ рдХреНрд╖реЗрддреНрд░ рдпрд╛ рдЕрдиреНрдп рдкреВрд░реНрддрд┐ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ MFT рдХрд╛ рд╡рд┐рдЪрд▓рди рд╢реБрд░реВ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред рдпрджрд┐ рдЕрдирдЖрд░рдХреНрд╖рд┐рдд рд╕реНрдерд╛рди рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЖрд╡рдВрдЯрд┐рдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдлрд╝рд╛рдЗрд▓реЛрдВ рдФрд░ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕реНрдерд╛рди MFT рдЬреЛрди рд╕реЗ рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред рдпрджрд┐ MFT рдЬреЛрди рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЖрд╡рдВрдЯрд┐рдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдирдП MFT рдПрдВрдЯреНрд░реАрдЬ рдХреЗ рд▓рд┐рдП рд╕реНрдерд╛рди рдЕрдирдЖрд░рдХреНрд╖рд┐рдд рд╕реНрдерд╛рди рд╕реЗ рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред

NTFS рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рднреА рдПрдХ **$MFTMirror** рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИред рдпрд╣ MFT рдХреЗ рдкрд╣рд▓реЗ 4 рдПрдВрдЯреНрд░реАрдЬ рдХреА рдПрдХ **рдХреЙрдкреА** рд╣реИ: $MFT, $MFT Mirror, $Log, $Volumeред

NTFS рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рдкрд╣рд▓реЗ 16 рд░рд┐рдХреЙрд░реНрдб рдХреЛ рд╡рд┐рд╢реЗрд╖ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдЖрд░рдХреНрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:

| рд╕рд┐рд╕реНрдЯрдо рдлрд╝рд╛рдЗрд▓           | рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдирд╛рдо | MFT рд░рд┐рдХреЙрд░реНрдб | рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп                                                                                                                                                                                                           |
| --------------------- | --------- | ---------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| рдорд╛рд╕реНрдЯрд░ рдлрд╝рд╛рдЗрд▓ рдЯреЗрдмрд▓     | $Mft      | 0          | рдПрдХ NTFS рд╡реЙрд▓реНрдпреВрдо рдкрд░ рд╣рд░ рдлрд╝рд╛рдЗрд▓ рдФрд░ рдлрд╝реЛрд▓реНрдбрд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдореВрд▓ рдлрд╝рд╛рдЗрд▓ рд░рд┐рдХреЙрд░реНрдб рд╣реЛрддрд╛ рд╣реИред рдпрджрд┐ рдХрд┐рд╕реА рдлрд╝рд╛рдЗрд▓ рдпрд╛ рдлрд╝реЛрд▓реНрдбрд░ рдХреЗ рд▓рд┐рдП рдЖрд╡рдВрдЯрди рд╕реВрдЪрдирд╛ рдПрдХ рдПрдХрд▓ рд░рд┐рдХреЙрд░реНрдб рдореЗрдВ рдлрд┐рдЯ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, рддреЛ рдЕрдиреНрдп рдлрд╝рд╛рдЗрд▓ рд░рд┐рдХреЙрд░реНрдб рднреА рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред            |
| рдо
