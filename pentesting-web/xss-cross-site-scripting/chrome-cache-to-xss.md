# Chrome Cache to XSS

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

–ë—ñ–ª—å—à –¥–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è [**–≤ —Ü—å–æ–º—É –∑–≤—ñ—Ç—ñ**](https://blog.arkark.dev/2022/11/18/seccon-en/#web-spanote).

–¢–µ—Ö–Ω—ñ–∫–∞, –æ–±–≥–æ–≤–æ—Ä—é–≤–∞–Ω–∞ —Ç—É—Ç, –≤–∫–ª—é—á–∞—î —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ —Ç–∞ –≤–∑–∞—î–º–æ–¥—ñ—ó –¥–≤–æ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∫–µ—à—É: **back/forward cache (bfcache)** —Ç–∞ **disk cache**. Bfcache, —è–∫–∏–π –∑–±–µ—Ä—ñ–≥–∞—î –ø–æ–≤–Ω—É –∑–Ω—ñ–º–æ–∫ —Å—Ç–æ—Ä—ñ–Ω–∫–∏, –≤–∫–ª—é—á–∞—é—á–∏ JavaScript heap, –º–∞—î –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ disk cache –¥–ª—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ–π –Ω–∞–∑–∞–¥/–≤–ø–µ—Ä–µ–¥ —á–µ—Ä–µ–∑ —Å–≤–æ—é –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –±—ñ–ª—å—à –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –∑–Ω—ñ–º–æ–∫. Disk cache, –Ω–∞–≤–ø–∞–∫–∏, –∑–±–µ—Ä—ñ–≥–∞—î —Ä–µ—Å—É—Ä—Å–∏, –æ—Ç—Ä–∏–º–∞–Ω—ñ –∑ –≤–µ–±—É, –Ω–µ –≤–∫–ª—é—á–∞—é—á–∏ JavaScript heap, —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ–π –Ω–∞–∑–∞–¥/–≤–ø–µ—Ä–µ–¥, —â–æ–± –∑–º–µ–Ω—à–∏—Ç–∏ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –∑–≤'—è–∑–æ–∫. –¶—ñ–∫–∞–≤–∏–º –∞—Å–ø–µ–∫—Ç–æ–º disk cache —î –π–æ–≥–æ –≤–∫–ª—é—á–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤, –æ—Ç—Ä–∏–º–∞–Ω–∏—Ö –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `fetch`, —â–æ –æ–∑–Ω–∞—á–∞—î, —â–æ —Ä–µ—Å—É—Ä—Å–∏ URL, –¥–æ —è–∫–∏—Ö –±—É–ª–æ –æ—Ç—Ä–∏–º–∞–Ω–æ –¥–æ—Å—Ç—É–ø, –±—É–¥—É—Ç—å –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω—ñ –±—Ä–∞—É–∑–µ—Ä–æ–º –∑ –∫–µ—à—É.

### –ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:

- **Bfcache** –º–∞—î –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ disk cache —É –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è—Ö –Ω–∞–∑–∞–¥/–≤–ø–µ—Ä–µ–¥.
- –©–æ–± –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É, –∑–±–µ—Ä–µ–∂–µ–Ω—É –≤ disk cache, –∑–∞–º—ñ—Å—Ç—å bfcache, –æ—Å—Ç–∞–Ω–Ω—ñ–π –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –≤–∏–º–∫–Ω–µ–Ω–∏–π.

### –í–∏–º–∫–Ω–µ–Ω–Ω—è bfcache:

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º Puppeteer –≤–∏–º–∏–∫–∞—î bfcache, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —É–º–æ–≤–∞–º, –∑–∞–∑–Ω–∞—á–µ–Ω–∏–º —É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó Chromium. –û–¥–∏–Ω —ñ–∑ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –≤–∏–º–∫–Ω–µ–Ω–Ω—è bfcache - —Ü–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `RelatedActiveContentsExist`, –¥–æ—Å—è–≥–∞—é—á–∏ —Ü—å–æ–≥–æ —à–ª—è—Ö–æ–º –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑ `window.open()`, —è–∫–∞ –∑–±–µ—Ä—ñ–≥–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ `window.opener`.

### –í—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ–≤–µ–¥—ñ–Ω–∫–∏:

1. –í—ñ–¥–≤—ñ–¥–∞–π—Ç–µ –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω–∫—É, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `https://example.com`.
2. –í–∏–∫–æ–Ω–∞–π—Ç–µ `open("http://spanote.seccon.games:3000/api/token")`, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —Å–µ—Ä–≤–µ—Ä–∞ –∑ –∫–æ–¥–æ–º —Å—Ç–∞—Ç—É—Å—É 500.
3. –£ –Ω–æ–≤—ñ–π –≤–∫–ª–∞–¥—Ü—ñ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ `http://spanote.seccon.games:3000/`. –¶—è –¥—ñ—è –∫–µ—à—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å `http://spanote.seccon.games:3000/api/token` —è–∫ disk cache.
4. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `history.back()`, —â–æ–± –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞–∑–∞–¥. –¶—è –¥—ñ—è –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–µ—à–æ–≤–∞–Ω–æ—ó JSON-–≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ.

–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–æ–≥–æ, —â–æ disk cache –±—É–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π, –º–æ–∂–µ –±—É—Ç–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é DevTools —É Google Chrome.

–î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ bfcache —Ç–∞ disk cache –ø–æ—Å–∏–ª–∞–Ω–Ω—è –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –Ω–∞ [web.dev –ø—Ä–æ bfcache](https://web.dev/i18n/en/bfcache/) —Ç–∞ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö –¥–∏–∑–∞–π–Ω—É Chromium –ø—Ä–æ disk cache](https://www.chromium.org/developers/design-documents/network-stack/disk-cache/), –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ.


{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
