# HTTP Connection Contamination

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

**Hii ni muhtasari wa chapisho: [https://portswigger.net/research/http-3-connection-contamination](https://portswigger.net/research/http-3-connection-contamination)**. Angalia kwa maelezo zaidi!

Web browsers zinaweza kutumia muunganisho mmoja wa HTTP/2+ kwa tovuti tofauti kupitia [HTTP connection coalescing](https://daniel.haxx.se/blog/2016/08/18/http2-connection-coalescing), ikiwa na anwani za IP zinazoshirikiwa na cheti cha TLS cha kawaida. Hata hivyo, hii inaweza kuingiliana na **first-request routing** katika reverse-proxies, ambapo maombi yanayofuata yanaelekezwa kwa nyuma kulingana na ombi la kwanza. Kukosekana kwa mwelekeo huu kunaweza kusababisha udhaifu wa usalama, hasa inapounganishwa na vyeti vya TLS vya wildcard na maeneo kama `*.example.com`.

Kwa mfano, ikiwa `wordpress.example.com` na `secure.example.com` zinatolewa na reverse proxy moja na zina cheti cha kawaida cha wildcard, kuunganishwa kwa kivinjari kunaweza kusababisha maombi kwa `secure.example.com` kushughulikiwa vibaya na nyuma ya WordPress, ikitumia udhaifu kama XSS.

Ili kuangalia kuunganishwa kwa muunganisho, tab ya Network ya Chrome au zana kama Wireshark zinaweza kutumika. Hapa kuna kipande cha kujaribu:
```javascript
fetch('//sub1.hackxor.net/', {mode: 'no-cors', credentials: 'include'}).then(()=>{ fetch('//sub2.hackxor.net/', {mode: 'no-cors', credentials: 'include'}) })
```
Hatari kwa sasa imepunguzwa kutokana na nadra ya usambazaji wa ombi la kwanza na ugumu wa HTTP/2. Hata hivyo, mabadiliko yaliyopendekezwa katika HTTP/3, ambayo yanapunguza hitaji la mechi ya anwani ya IP, yanaweza kupanua uso wa shambulio, na kufanya seva zenye cheti cha wildcard kuwa hatarini zaidi bila kuhitaji shambulio la MITM.

Mbinu bora ni pamoja na kuepuka usambazaji wa ombi la kwanza katika proxies za nyuma na kuwa makini na vyeti vya TLS vya wildcard, hasa kwa kuingia kwa HTTP/3. Kujaribu mara kwa mara na ufahamu wa hizi hatari ngumu, zinazohusiana ni muhimu kwa kudumisha usalama wa wavuti.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
