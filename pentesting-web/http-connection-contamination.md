# HTTP Bağlantı Kontaminasyonu

{% hint style="success" %}
AWS Hacking'i öğrenin ve pratik yapın:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
GCP Hacking'i öğrenin ve pratik yapın: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* **Bize katılın** 💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya **bizi** **Twitter'da** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking ipuçlarını paylaşmak için** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gönderin.

</details>
{% endhint %}

**Bu, gönderinin bir özetidir: [https://portswigger.net/research/http-3-connection-contamination](https://portswigger.net/research/http-3-connection-contamination)**. Daha fazla ayrıntı için kontrol edin!

Web tarayıcıları, paylaşılan IP adresleri ve ortak bir TLS sertifikası aracılığıyla farklı web siteleri için tek bir HTTP/2+ bağlantısını [HTTP bağlantı birleştirme](https://daniel.haxx.se/blog/2016/08/18/http2-connection-coalescing) kullanarak yeniden kullanabilir. Ancak, bu, ilk isteğe dayalı yönlendirme ile ters proxy'lerde çelişebilir; burada sonraki istekler, ilk isteğe göre belirlenen arka uca yönlendirilir. Bu yanlış yönlendirme, özellikle joker TLS sertifikaları ve `*.example.com` gibi alan adları ile birleştirildiğinde güvenlik açıklarına yol açabilir.

Örneğin, `wordpress.example.com` ve `secure.example.com` aynı ters proxy tarafından sunuluyorsa ve ortak bir joker sertifikasına sahipse, bir tarayıcının bağlantı birleştirmesi, `secure.example.com` için yapılan isteklerin yanlış bir şekilde WordPress arka ucu tarafından işlenmesine neden olabilir ve XSS gibi güvenlik açıklarını istismar edebilir.

Bağlantı birleştirmesini gözlemlemek için Chrome'un Ağ sekmesi veya Wireshark gibi araçlar kullanılabilir. İşte test için bir kesit:
```javascript
fetch('//sub1.hackxor.net/', {mode: 'no-cors', credentials: 'include'}).then(()=>{ fetch('//sub2.hackxor.net/', {mode: 'no-cors', credentials: 'include'}) })
```
Tehdit şu anda ilk istek yönlendirmesinin nadirliği ve HTTP/2'nin karmaşıklığı nedeniyle sınırlıdır. Ancak, IP adresi eşleşme gereksinimini gevşeten HTTP/3'teki önerilen değişiklikler, saldırı yüzeyini genişletebilir ve bir MITM saldırısına ihtiyaç duymadan, joker sertifikaya sahip sunucuları daha savunmasız hale getirebilir.

En iyi uygulamalar, ters proxylerde ilk istek yönlendirmesinden kaçınmayı ve özellikle HTTP/3'ün gelişiyle birlikte joker TLS sertifikaları konusunda dikkatli olmayı içerir. Bu karmaşık, birbirine bağlı zafiyetlerin düzenli test edilmesi ve farkında olunması, web güvenliğinin korunması için kritik öneme sahiptir.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/arte.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/arte.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/grte.png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/grte.png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
